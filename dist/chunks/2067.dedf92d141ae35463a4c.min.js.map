{"version":3,"file":"chunks/2067.dedf92d141ae35463a4c.min.js","mappings":"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","sources":["webpack://@patternslib/patterns-dist/./node_modules/@patternslib/patternslib/src/core/polyfills.js","webpack://@patternslib/patterns-dist/./node_modules/@patternslib/patternslib/src/core/push_kit.js","webpack://@patternslib/patterns-dist/./node_modules/@patternslib/patternslib/src/core/store.js","webpack://@patternslib/patterns-dist/./node_modules/@patternslib/patternslib/src/globals.js","webpack://@patternslib/patterns-dist/./node_modules/@patternslib/patternslib/src/lib/input-change-events.js","webpack://@patternslib/patterns-dist/./node_modules/@patternslib/patternslib/src/pat/auto-scale/auto-scale.js","webpack://@patternslib/patterns-dist/./node_modules/@patternslib/patternslib/src/pat/auto-submit/auto-submit.js","webpack://@patternslib/patterns-dist/./node_modules/@patternslib/patternslib/src/pat/auto-suggest/auto-suggest.js","webpack://@patternslib/patterns-dist/./node_modules/@patternslib/patternslib/src/pat/autofocus/autofocus.js","webpack://@patternslib/patterns-dist/./node_modules/@patternslib/patternslib/src/pat/breadcrumbs/breadcrumbs.js","webpack://@patternslib/patterns-dist/./node_modules/@patternslib/patternslib/src/pat/bumper/bumper.js","webpack://@patternslib/patterns-dist/./node_modules/@patternslib/patternslib/src/pat/calendar/calendar.js","webpack://@patternslib/patterns-dist/./node_modules/@patternslib/patternslib/src/pat/carousel/carousel.js","webpack://@patternslib/patterns-dist/./node_modules/@patternslib/patternslib/src/pat/checklist/checklist.js","webpack://@patternslib/patterns-dist/./node_modules/@patternslib/patternslib/src/pat/clone/clone.js","webpack://@patternslib/patterns-dist/./node_modules/@patternslib/patternslib/src/pat/collapsible/collapsible.js","webpack://@patternslib/patterns-dist/./node_modules/@patternslib/patternslib/src/pat/colour-picker/colour-picker.js","webpack://@patternslib/patterns-dist/./node_modules/@patternslib/patternslib/src/pat/date-picker/date-picker.js","webpack://@patternslib/patterns-dist/./node_modules/@patternslib/patternslib/src/pat/datetime-picker/datetime-picker.js","webpack://@patternslib/patterns-dist/./node_modules/@patternslib/patternslib/src/pat/depends/depends.js","webpack://@patternslib/patterns-dist/./node_modules/@patternslib/patternslib/src/pat/display-time/display-time.js","webpack://@patternslib/patterns-dist/./node_modules/@patternslib/patternslib/src/pat/equaliser/equaliser.js","webpack://@patternslib/patterns-dist/./node_modules/@patternslib/patternslib/src/pat/expandable-tree/expandable-tree.js","webpack://@patternslib/patterns-dist/./node_modules/@patternslib/patternslib/src/pat/focus/focus.js","webpack://@patternslib/patterns-dist/./node_modules/@patternslib/patternslib/src/pat/form-state/form-state.js","webpack://@patternslib/patterns-dist/./node_modules/@patternslib/patternslib/src/pat/forward/forward.js","webpack://@patternslib/patterns-dist/./node_modules/@patternslib/patternslib/src/pat/fullscreen/fullscreen-close.js","webpack://@patternslib/patterns-dist/./node_modules/@patternslib/patternslib/src/pat/fullscreen/fullscreen.js","webpack://@patternslib/patterns-dist/./node_modules/@patternslib/patternslib/src/pat/gallery/gallery.js","webpack://@patternslib/patterns-dist/./node_modules/@patternslib/patternslib/src/pat/image-crop/image-crop.js","webpack://@patternslib/patterns-dist/./node_modules/@patternslib/patternslib/src/pat/legend/legend.js","webpack://@patternslib/patterns-dist/./node_modules/@patternslib/patternslib/src/pat/masonry/masonry.js","webpack://@patternslib/patterns-dist/./node_modules/@patternslib/patternslib/src/pat/menu/menu.js","webpack://@patternslib/patterns-dist/./node_modules/@patternslib/patternslib/src/pat/modal/modal.js","webpack://@patternslib/patterns-dist/./node_modules/@patternslib/patternslib/src/pat/navigation/navigation.js","webpack://@patternslib/patterns-dist/./node_modules/@patternslib/patternslib/src/pat/notification/notification.js","webpack://@patternslib/patterns-dist/./node_modules/@patternslib/patternslib/src/pat/push/push.js","webpack://@patternslib/patterns-dist/./node_modules/@patternslib/patternslib/src/pat/scroll-box/scroll-box.js","webpack://@patternslib/patterns-dist/./node_modules/@patternslib/patternslib/src/pat/scroll/scroll.js","webpack://@patternslib/patterns-dist/./node_modules/@patternslib/patternslib/src/pat/selectbox/selectbox.js","webpack://@patternslib/patterns-dist/./node_modules/@patternslib/patternslib/src/core/url.js","webpack://@patternslib/patterns-dist/./node_modules/@patternslib/patternslib/src/core/remove.js","webpack://@patternslib/patterns-dist/./node_modules/@patternslib/patternslib/src/pat/slides/slides.js","webpack://@patternslib/patterns-dist/./node_modules/@patternslib/patternslib/src/pat/sortable/sortable.js","webpack://@patternslib/patterns-dist/./node_modules/@patternslib/patternslib/src/pat/stacks/stacks.js","webpack://@patternslib/patterns-dist/./node_modules/@patternslib/patternslib/src/pat/subform/subform.js","webpack://@patternslib/patterns-dist/./node_modules/@patternslib/patternslib/src/pat/switch/switch.js","webpack://@patternslib/patterns-dist/./node_modules/@patternslib/patternslib/src/pat/syntax-highlight/syntax-highlight.js","webpack://@patternslib/patterns-dist/./node_modules/@patternslib/patternslib/src/pat/tabs/tabs.js","webpack://@patternslib/patterns-dist/./node_modules/@patternslib/patternslib/src/pat/toggle/toggle.js","webpack://@patternslib/patterns-dist/./node_modules/@patternslib/patternslib/src/pat/validation/validation.js","webpack://@patternslib/patterns-dist/./node_modules/@patternslib/patternslib/src/pat/zoom/zoom.js"],"sourcesContent":["// Polyfills for modern browsers\n\n// SubmitEvent.submitter polyfill for Safari < 15.4 and jsDOM\n// Original code: https://stackoverflow.com/a/61110260/1337474\n// Also see: https://caniuse.com/?search=submitter\n//\n!(function () {\n    let last_btn = null;\n    const submitable_buttons = `button, input[type=\"button\"], input[type=\"submit\"], input[type=\"image\"]`;\n    document.addEventListener(\n        \"click\",\n        function (e) {\n            if (!e.target.closest) return;\n            last_btn = e.target.closest(submitable_buttons);\n        },\n        true\n    );\n    document.addEventListener(\n        \"submit\",\n        function (e) {\n            if (\"submitter\" in e) return;\n            const canditates = [document.activeElement, last_btn];\n            last_btn = null;\n            for (const candidate of canditates) {\n                if (!candidate) continue;\n                if (!candidate.form) continue;\n                if (!candidate.matches(submitable_buttons)) continue;\n                e.submitter = candidate;\n                return;\n            }\n            e.submitter = e.target.querySelector(submitable_buttons);\n        },\n        true\n    );\n})();\n","/**\n * Patterns Push Kit - client to support websocket connection push\n *\n * Copyright 2018-2020 Johannes Raggam, Alexander Pilz, Syslab.com GmbH\n *\n * Basic push support connects to a push server and an exchange prefix.\n * it reads the name of the server and the exchange prefix from entries\n * in the meta header of the page\n * Then it sets up two bindings to two different exchanges, one to receive\n * push markers and one to receive desktop notifications.\n * It assumes that the exchanges are named [prefix]_event and [prefix]_notification\n *\n * If a message comes in on the [prefix]_event exchange, a javascript push event is triggered\n * which is listened to by all dom elements with class .pat-push on them.\n * pat-push will then compare the sent message with its own push_marker value and execute on match.\n *\n * If a message comes in on the [prefix]_notification exchange, a desktop notification is triggered\n * which will show a desktop marker.\n *\n * User filtering\n * all subscriptions are topic subscriptions and will only bind to topics that start with the userid\n * that way, users will only receive updates explicitly directed to them.\n *\n * This pattern expects the following meta tags to be available in the page to get the necessary configuration\n * - patterns-push-url containing a url pointing to a message queue server. Eg. ws://127.0.0.1:15674/ws\n * - patterns-push-exchange containing the exchange nanem to subscribe to.\n * - patterns-push-filter containing a topic filter including dot-seperated namespaces and wildcards. A commonly used filter value would be the currently logged in user. This will subscribe only to updates for this specific user.\n * - patterns-push-login containing the name of a read only user on the message queue server used to connect.\n * - patterns-push-password containing the password of a read only user on the message queue server used to connect.\n */\nimport logging from \"./logging\";\n\nconst logger = logging.getLogger(\"core push kit\");\n\nconst push_kit = {\n    async init() {\n        const url = document.querySelector(\"meta[name=patterns-push-url]\")?.content;\n        const exchange = document.querySelector(\"meta[name=patterns-push-exchange]\")?.content; // prettier-ignore\n\n        if (!url || !exchange) {\n            return;\n        }\n\n        const topicfilter = document.querySelector(\"meta[name=patterns-push-filter]\")?.content; // prettier-ignore\n        const user_login = document.querySelector(\"meta[name=patterns-push-login]\")?.content; // prettier-ignore\n        const user_pass = document.querySelector(\"meta[name=patterns-push-password]\")?.content; // prettier-ignore\n\n        const StompJS = await import(\"@stomp/stompjs\");\n        const client = new StompJS.Client({\n            brokerURL: url,\n            connectHeaders: {\n                login: user_login,\n                passcode: user_pass,\n            },\n            debug: function (str) {\n                logger.debug(str);\n            },\n            reconnectDelay: 5000,\n            heartbeatIncoming: 0,\n            heartbeatOutgoing: 20000,\n        });\n\n        client.onConnect = () => {\n            if (exchange) {\n                client.subscribe(\n                    `/exchange/${exchange}/${topicfilter}.#`,\n                    this.on_push_marker.bind(this)\n                );\n            }\n        };\n\n        client.onStompError = (frame) => {\n            logger.error(\"Broker reported error: \" + frame.headers[\"message\"]);\n            logger.debug(\"Additional details: \" + frame.body);\n        };\n\n        client.activate();\n        logger.debug(\"StompJS push support initialised on \" + url);\n    },\n\n    on_push_marker(message) {\n        logger.debug(\"Received push marker: \", message);\n        if (!message || !message.body) {\n            return;\n        }\n        document.body.dispatchEvent(\n            new CustomEvent(\"push\", { detail: { body: message.body } })\n        );\n    },\n};\n\npush_kit.init();\n\nexport default push_kit;\n","/**\n * Patterns store - store pattern state locally in the browser\n *\n * Copyright 2008-2012 Simplon B.V.\n * Copyright 2011 Humberto Sermeño\n * Copyright 2011 Florian Friesdorf\n */\nimport logging from \"./logging\";\n\nconst log = logging.getLogger(\"Patternslib Store\");\n\nfunction Storage(backend, prefix) {\n    this.prefix = prefix;\n    this.backend = backend;\n}\n\nStorage.prototype._key = function Storage_key(name) {\n    return this.prefix + \":\" + name;\n};\n\nStorage.prototype._allKeys = function Storage_allKeys() {\n    var keys = [],\n        prefix = this.prefix + \":\",\n        prefix_length = prefix.length,\n        key,\n        i;\n\n    for (i = 0; i < this.backend.length; i++) {\n        key = this.backend.key(i);\n        if (key.slice(0, prefix_length) === prefix) keys.push(key);\n    }\n    return keys;\n};\n\nStorage.prototype.get = function Storage_get(name) {\n    var key = this._key(name),\n        value = this.backend.getItem(key);\n    if (value !== null) {\n        try {\n            value = JSON.parse(value);\n        } catch {\n            log.warn(`Cannot parse storage value for key ${key}`);\n            return;\n        }\n    }\n    return value;\n};\n\nStorage.prototype.set = function Storage_set(name, value) {\n    var key = this._key(name);\n    return this.backend.setItem(key, JSON.stringify(value));\n};\n\nStorage.prototype.remove = function Storage_remove(name) {\n    var key = this._key(name);\n    return this.backend.removeItem(key);\n};\n\nStorage.prototype.clear = function Storage_clear() {\n    var keys = this._allKeys();\n    for (var i = 0; i < keys.length; i++) this.backend.removeItem(keys[i]);\n};\n\nStorage.prototype.all = function Storage_all() {\n    var keys = this._allKeys(),\n        prefix_length = this.prefix.length + 1,\n        lk,\n        data = {};\n\n    for (var i = 0; i < keys.length; i++) {\n        lk = keys[i].slice(prefix_length);\n        data[lk] = JSON.parse(this.backend.getItem(keys[i]));\n    }\n    return data;\n};\n\nfunction ValueStorage(store, name) {\n    this.store = store;\n    this.name = name;\n}\n\nValueStorage.prototype.get = function ValueStorage_get() {\n    return this.store.get(this.name);\n};\n\nValueStorage.prototype.set = function ValueStorage_get(value) {\n    return this.store.set(this.name, value);\n};\n\nValueStorage.prototype.remove = function ValueStorage_remove() {\n    return this.store.remove(this.name);\n};\n\nvar store = {\n    supported: false,\n\n    local: function (name) {\n        return new Storage(window.localStorage, name);\n    },\n\n    session: function (name) {\n        return new Storage(window.sessionStorage, name);\n    },\n\n    ValueStorage: ValueStorage,\n\n    // Update storage options for a given element.\n    updateOptions: function store_updateOptions(trigger, options) {\n        if (options.store !== \"none\") {\n            if (!trigger.id) {\n                log.warn(\"state persistance requested, but element has no id\");\n                options.store = \"none\";\n            } else if (!store.supported) {\n                log.warn(\n                    \"state persistance requested, but browser does not support webstorage\"\n                );\n                options.store = \"none\";\n            }\n        }\n        return options;\n    },\n};\n\n// Perform the test separately since this may throw a SecurityError as\n// reported in #326\ntry {\n    store.supported = typeof window.sessionStorage !== \"undefined\";\n} catch (e) {\n    // just ignore.\n}\n\nexport default store;\n","import jquery from \"jquery\";\n// Register jQuery globally\nwindow.jQuery = jquery;\nwindow.$ = jquery;\n","// helper functions to make all input elements\nimport $ from \"jquery\";\nimport logging from \"../core/logging\";\nvar namespace = \"input-change-events\";\nconst log = logging.getLogger(namespace);\n\nvar _ = {\n    setup: function ($el, pat) {\n        if (!pat) {\n            log.error(\"The name of the calling pattern has to be set.\");\n            return;\n        }\n        // list of patterns that installed input-change-event handlers\n        var patterns = $el.data(namespace) || [];\n        log.debug(\"setup handlers for \" + pat);\n\n        if (!patterns.length) {\n            log.debug(\"installing handlers\");\n            _.setupInputHandlers($el);\n\n            $el.on(\"patterns-injected.\" + namespace, function (event) {\n                _.setupInputHandlers($(event.target));\n            });\n        }\n        if (patterns.indexOf(pat) === -1) {\n            patterns.push(pat);\n            $el.data(namespace, patterns);\n        }\n    },\n\n    setupInputHandlers: function ($el) {\n        if (!$el.is(\":input\")) {\n            // We've been given an element that is not a form input. We\n            // therefore assume that it's a container of form inputs and\n            // register handlers for its children.\n            $el.findInclusive(\":input\").each(_.registerHandlersForElement);\n        } else {\n            // The element itself is an input, se we simply register a\n            // handler fot it.\n            _.registerHandlersForElement.bind($el)();\n        }\n    },\n\n    registerHandlersForElement: function () {\n        var $el = $(this),\n            isNumber = $el.is(\"input[type=number]\"),\n            isText = $el.is(\"input:text, input[type=search], textarea\");\n\n        if (isNumber) {\n            // for <input type=\"number\" /> we want to trigger the change\n            // on keyup\n            if (\"onkeyup\" in window) {\n                $el.on(\"keyup.\" + namespace, function () {\n                    log.debug(\"translating keyup\");\n                    $el.trigger(\"input-change\");\n                });\n            }\n        }\n        if (isText || isNumber) {\n            if (\"oninput\" in window) {\n                $el.on(\"input.\" + namespace, function () {\n                    log.debug(\"translating input\");\n                    $el.trigger(\"input-change\");\n                });\n            } else {\n                // this is the legacy code path for IE8\n                // Work around buggy placeholder polyfill.\n                if ($el.attr(\"placeholder\")) {\n                    $el.on(\"keyup.\" + namespace, function () {\n                        log.debug(\"translating keyup\");\n                        $el.trigger(\"input-change\");\n                    });\n                } else {\n                    $el.on(\"propertychange.\" + namespace, function (ev) {\n                        if (ev.originalEvent.propertyName === \"value\") {\n                            log.debug(\"translating propertychange\");\n                            $el.trigger(\"input-change\");\n                        }\n                    });\n                }\n            }\n        } else {\n            $el.on(\"change.\" + namespace, function () {\n                log.debug(\"translating change\");\n                $el.trigger(\"input-change\");\n            });\n        }\n\n        $el.on(\"blur\", function () {\n            $el.trigger(\"input-defocus\");\n        });\n    },\n\n    remove: function ($el, pat) {\n        var patterns = $el.data(namespace) || [];\n        if (patterns.indexOf(pat) === -1) {\n            log.warn(\"input-change-events were never installed for \" + pat);\n        } else {\n            patterns = patterns.filter(function (e) {\n                return e !== pat;\n            });\n            if (patterns.length) {\n                $el.data(namespace, patterns);\n            } else {\n                log.debug(\"remove handlers\");\n                $el.removeData(namespace);\n                $el.find(\":input\").off(\".\" + namespace);\n                $el.off(\".\" + namespace);\n            }\n        }\n    },\n};\n\nexport default _;\n","/**\n * Patterns autoscale - scale elements to fit available space\n *\n * Copyright 2012 Humberto Sermeno\n * Copyright 2013 Simplon B.V. - Wichert Akkerman\n */\n\nimport $ from \"jquery\";\nimport Base from \"../../core/base\";\nimport Parser from \"../../core/parser\";\nimport utils from \"../../core/utils\";\n\nexport const parser = new Parser(\"auto-scale\");\nparser.addArgument(\"method\", \"scale\", [\"scale\", \"zoom\"]);\nparser.addArgument(\"size\", \"width\", [\"width\", \"height\", \"contain\", \"cover\"]);\nparser.addArgument(\"min-width\", 0);\nparser.addArgument(\"max-width\", 1000000);\nparser.addArgument(\"min-height\", 0);\nparser.addArgument(\"max-height\", 1000000);\n\nexport default Base.extend({\n    name: \"autoscale\",\n    trigger: \".pat-auto-scale\",\n    force_method: null,\n\n    init: function ($el, opts) {\n        this.options = parser.parse(this.$el, opts);\n        if (this.force_method !== null) {\n            this.options.method = this.force_method;\n        }\n        this._setup().scale();\n        return this.$el;\n    },\n\n    _setup: function () {\n        if (!utils.checkCSSFeature(\"zoom\")) {\n            // See https://bugzilla.mozilla.org/show_bug.cgi?id=390936\n            this.force_method = \"scale\";\n        }\n        var scaler = utils.debounce(this.scale.bind(this), 250);\n        $(window).on(\"resize.autoscale\", scaler);\n        $(document).on(\"pat-update.autoscale\", scaler);\n        return this;\n    },\n\n    scale: function () {\n        var available_space, scale, scaled_height, scaled_width, container;\n\n        if (this.$el[0].tagName === \"BODY\") {\n            container = this.$el[0];\n        } else {\n            if (this.$el.closest(\".auto-scale-wrapper\").length != 0) {\n                container = this.$el.closest(\".auto-scale-wrapper\").parent()[0];\n            } else {\n                container = this.$el.parent()[0];\n            }\n        }\n        if (!container) {\n            // Element has not been added to the DOM yet.\n            return;\n        }\n\n        var style = window.getComputedStyle(container);\n        available_space = {\n            width: parseInt(style.width, 10),\n            height: parseInt(style.height, 10),\n        };\n\n        available_space.width = Math.min(available_space.width, this.options.max.width);\n        available_space.width = Math.max(available_space.width, this.options.min.width);\n        available_space.height = Math.min(\n            available_space.height,\n            this.options.max.height\n        );\n        available_space.height = Math.max(\n            available_space.height,\n            this.options.min.height\n        );\n        switch (this.options.size) {\n            case \"width\":\n                scale = available_space.width / this.$el.outerWidth();\n                break;\n            case \"height\":\n                scale = available_space.height / this.$el.outerHeight();\n                break;\n            case \"contain\":\n                // Fit entire content on area, allowing for extra space\n                scale = Math.min(\n                    available_space.width / this.$el.outerWidth(),\n                    available_space.height / this.$el.outerHeight()\n                );\n                break;\n            case \"cover\":\n                // Covert entire area, possible clipping\n                scale = Math.max(\n                    available_space.width / this.$el.outerWidth(),\n                    available_space.height / this.$el.outerHeight()\n                );\n                break;\n            default:\n                return;\n        }\n\n        scaled_height = this.$el.outerHeight() * scale;\n        scaled_width = this.$el.outerWidth() * scale;\n\n        switch (this.options.method) {\n            case \"scale\":\n                this.$el.css(\"transform\", \"scale(\" + scale + \")\");\n                if (\n                    this.$el.parent().attr(\"class\") === undefined ||\n                    (this.$el.parent().attr(\"class\") != undefined &&\n                        $.inArray(\n                            \"auto-scale-wrapper\",\n                            this.$el.parent().attr(\"class\").split(/\\s+/)\n                        ) === -1)\n                ) {\n                    this.$el.wrap(\"<div class='auto-scale-wrapper'></div>\");\n                }\n                this.$el.parent().height(scaled_height).width(scaled_width);\n                break;\n            case \"zoom\":\n                this.$el.css(\"zoom\", scale);\n                break;\n        }\n        this.$el.addClass(\"scaled\");\n        return this;\n    },\n});\n","import \"../../core/jquery-ext\";\nimport $ from \"jquery\";\nimport Base from \"../../core/base\";\nimport input_change_events from \"../../lib/input-change-events\";\nimport logging from \"../../core/logging\";\nimport Parser from \"../../core/parser\";\nimport utils from \"../../core/utils\";\n\nconst log = logging.getLogger(\"autosubmit\");\n\nexport const parser = new Parser(\"autosubmit\");\n// - 400ms -> 400\n// - 400 -> 400\n// - defocus\nparser.addArgument(\"delay\", \"400ms\");\n\nexport default Base.extend({\n    name: \"autosubmit\",\n    trigger: \".pat-autosubmit, .pat-auto-submit\",\n\n    init() {\n        this.options = parser.parse(this.el, this.options);\n        if (this.options.delay !== \"defocus\") {\n            this.options.delay = parseInt(this.options.delay.replace(/[^\\d]*/g, \"\"), 10);\n        }\n\n        input_change_events.setup(this.$el, \"autosubmit\");\n        this.registerListeners();\n        this.registerTriggers();\n    },\n\n    registerListeners() {\n        this.$el.on(\n            \"input-change-delayed.pat-autosubmit\",\n            this.onInputChange.bind(this)\n        );\n        this.registerSubformListeners();\n        this.$el.on(\"patterns-injected\", this.refreshListeners.bind(this));\n    },\n\n    registerSubformListeners(ev) {\n        /* If there are subforms, we need to listen on them as well, so\n         * that only the subform gets submitted if an element inside it\n         * changes.\n         */\n        const $el = typeof ev !== \"undefined\" ? $(ev.target) : this.$el;\n        $el.find(\".pat-subform\")\n            .not(\".pat-autosubmit\")\n            .each((idx, el) => {\n                $(el).on(\n                    \"input-change-delayed.pat-autosubmit\",\n                    this.onInputChange.bind(this)\n                );\n            });\n    },\n\n    refreshListeners(ev, cfg, el, injected) {\n        this.registerSubformListeners();\n        // Register change event handlers for new inputs injected into this form\n        input_change_events.setup($(injected), \"autosubmit\");\n    },\n\n    registerTriggers() {\n        const isText = this.$el.is(\"input:text, input[type=search], textarea\");\n        if (this.options.delay === \"defocus\" && !isText) {\n            log.error(\n                \"The defocus delay value makes only sense on text input elements.\"\n            );\n            return this.$el;\n        }\n\n        function trigger_event(ev) {\n            if ($(ev.target).closest(\".pat-autosubmit\")[0] !== this) {\n                return;\n            }\n            $(ev.target).trigger(\"input-change-delayed\");\n        }\n        if (this.options.delay === \"defocus\") {\n            this.$el.on(\"input-defocus.pat-autosubmit\", trigger_event);\n        } else if (this.options.delay > 0) {\n            this.$el.on(\n                \"input-change.pat-autosubmit\",\n                utils.debounce(trigger_event, this.options.delay)\n            );\n        } else {\n            this.$el.on(\"input-change.pat-autosubmit\", trigger_event);\n        }\n    },\n\n    destroy($el) {\n        input_change_events.remove($el, \"autosubmit\");\n        if (this.$el.is(\"form\")) {\n            this.$el\n                .find(\".pat-subform\")\n                .addBack(this.$el)\n                .each((idx, el) => {\n                    $(el).off(\".pat-autosubmit\");\n                });\n        } else {\n            $el.off(\".pat-autosubmit\");\n        }\n    },\n\n    onInputChange(e) {\n        e.stopPropagation();\n        this.$el.submit();\n        log.debug(\"triggered by \" + e.type);\n    },\n});\n","import \"../../core/jquery-ext\";\nimport $ from \"jquery\";\nimport Base from \"../../core/base\";\nimport logging from \"../../core/logging\";\nimport Parser from \"../../core/parser\";\nimport dom from \"../../core/dom\";\nimport events from \"../../core/events\";\n\nconst log = logging.getLogger(\"autosuggest\");\n\nexport const parser = new Parser(\"autosuggest\");\nparser.addArgument(\"ajax-data-type\", \"JSON\");\nparser.addArgument(\"ajax-search-index\", \"\");\nparser.addArgument(\"ajax-url\", \"\");\nparser.addArgument(\"allow-new-words\", true); // Should custom tags be allowed?\nparser.addArgument(\"max-selection-size\", 0);\nparser.addArgument(\"minimum-input-length\"); // Don't restrict by default so that all results show\nparser.addArgument(\"placeholder\", function ($el) {\n    return $el.attr(\"placeholder\") || undefined;\n});\nparser.addArgument(\"prefill\", function ($el) {\n    return $el.val();\n});\nparser.addArgument(\"prefill-json\", \"\"); // JSON format for pre-filling\nparser.addArgument(\"words\", \"\");\nparser.addArgument(\"words-json\");\n\n// \"selection-classes\" allows you to add custom CSS classes to currently\n// selected elements.\n// The value passed in must be an object with each id being the text inside\n// a selection and value being a list of classes to be added to the\n// selection.\n// e.g. {'BMW': ['selected', 'car'], 'BMX': ['selected', 'bicycle']}\nparser.addArgument(\"selection-classes\", \"\");\n\nparser.addAlias(\"maximum-selection-size\", \"max-selection-size\");\nparser.addAlias(\"data\", \"prefill-json\");\nparser.addAlias(\"pre-fill\", \"prefill\");\n\nexport default Base.extend({\n    name: \"autosuggest\",\n    trigger: \".pat-autosuggest,.pat-auto-suggest\",\n\n    async init() {\n        if (window.__patternslib_import_styles) {\n            import(\"select2/select2.css\");\n        }\n        await import(\"select2\");\n\n        this.options = parser.parse(this.el, this.options);\n\n        let config = {\n            tokenSeparators: [\",\"],\n            openOnEnter: false,\n            maximumSelectionSize: this.options.maxSelectionSize,\n            minimumInputLength: this.options.minimumInputLength,\n            allowClear:\n                this.options.maxSelectionSize === 1 && !this.el.hasAttribute(\"required\"),\n        };\n        if (this.el.hasAttribute(\"readonly\")) {\n            config.placeholder = \"\";\n        } else if (this.options.placeholder) {\n            config.placeholder = this.options.placeholder;\n        }\n\n        if (this.options.selectionClasses) {\n            // We need to customize the formatting/markup of the selection\n            config.formatSelection = (obj, container) => {\n                let selectionClasses = null;\n                try {\n                    selectionClasses = JSON.parse(this.options.selectionClasses)[\n                        obj.text\n                    ];\n                } catch (SyntaxError) {\n                    log.error(\n                        \"SyntaxError: non-JSON data given to pat-autosuggest (selection-classes)\"\n                    );\n                }\n                if (selectionClasses) {\n                    // According to Cornelis the classes need to be applied on\n                    // the <li>, which is the container's parent\n                    container.parent().addClass(selectionClasses.join(\" \"));\n                }\n                return obj.text;\n            };\n        }\n\n        if (this.el.tagName === \"INPUT\") {\n            config = this.create_input_config(config);\n        }\n        this.$el.select2(config);\n        dom.hide(this.el); // hide input, but keep active (e.g. for validation)\n\n        this.$el.on(\"pat-update\", (e, data) => {\n            if (data?.pattern === \"depends\") {\n                if (data?.enabled === true) {\n                    this.$el.select2(\"enable\", true);\n                } else if (data?.enabled === false) {\n                    this.$el.select2(\"disable\", true);\n                }\n            }\n        });\n\n        this.$el.on(\"change\", () => {\n            // The jQuery \"change\" event isn't caught by normal JavaScript\n            // event listeners, e.g. in pat-validation.\n            // Let's re-trigger as input-event, so that pat-validation but also\n            // ``input-change-events`` can pick it up.\n            this.el.dispatchEvent(events.input_event());\n        });\n\n        // Clear values on reset.\n        events.add_event_listener(\n            this.el.closest(\"form\"),\n            \"reset\",\n            \"pat-auto-suggest--reset\",\n            () => this.$el.select2(\"val\", \"\")\n        );\n    },\n\n    create_input_config(config) {\n        let words = [];\n\n        config.createSearchChoice = (term, data) => {\n            if (this.options.allowNewWords) {\n                if (\n                    data.filter((el) => el.text.localeCompare(term) === 0).length === 0\n                ) {\n                    return { id: term, text: term };\n                }\n            } else {\n                return null;\n            }\n        };\n\n        if (this.options.wordsJson?.length) {\n            try {\n                words = JSON.parse(this.options.wordsJson);\n            } catch (SyntaxError) {\n                words = [];\n                log.error(\"SyntaxError: non-JSON data given to pat-autosuggest\");\n            }\n            if (!Array.isArray(words)) {\n                words = words.map((v, k) => {\n                    return { id: k, text: v };\n                });\n            }\n        }\n        if (this.options.words) {\n            words = this.options.words.split(/\\s*,\\s*/);\n            words = words.map((v) => {\n                return { id: v, text: v };\n            });\n        }\n\n        // Per Cornelis, if our max lenght is 1, we want select style. If it is larger, we want tag style\n        // Now this is somewhat fishy because so far, we always configured tag style by setting config.tags = words.\n        // Even if words was [], we would get a tag stylee select\n        // That was then properly working with ajax if configured.\n\n        if (this.options.maxSelectionSize === 1) {\n            config.data = words;\n            // We allow exactly one value, use dropdown styles. How do we feed in words?\n        } else {\n            // We allow multiple values, use the pill style - called tags in select 2 speech\n            config.tags = words;\n        }\n\n        if (this.options.prefill?.length) {\n            this.el.value = this.options.prefill.split(\",\");\n            config.initSelection = (element, callback) => {\n                let data = [];\n                const values = element.val().split(\",\");\n                for (const value of values) {\n                    data.push({ id: value, text: value });\n                }\n                if (this.options.maxSelectionSize === 1) {\n                    data = data[0];\n                }\n                callback(data);\n            };\n        }\n\n        if (this.options.prefillJson.length) {\n            /* We support two types of JSON data for prefill data:\n             *   {\"john-snow\": \"John Snow\", \"tywin-lannister\": \"Tywin Lannister\"}\n             * or\n             *   [\n             *    {\"id\": \"john-snow\", \"text\": \"John Snow\"},\n             *    {\"id\": \"tywin-lannister\", \"text\":\"Tywin Lannister\"}\n             *   ]\n             */\n            try {\n                const data = JSON.parse(this.options.prefillJson);\n                let ids = [];\n                for (const d in data) {\n                    if (typeof d === \"object\") {\n                        ids.push(d.id);\n                    } else {\n                        ids.push(d);\n                    }\n                }\n                this.el.value = ids;\n                config.initSelection = (element, callback) => {\n                    let _data = [];\n                    for (const d in data) {\n                        if (typeof d === \"object\") {\n                            _data.push({ id: d.id, text: d.text });\n                        } else {\n                            _data.push({ id: d, text: data[d] });\n                        }\n                    }\n                    if (this.options.maxSelectionSize === 1) {\n                        _data = _data[0];\n                    }\n                    callback(_data);\n                };\n            } catch (SyntaxError) {\n                log.error(\"SyntaxError: non-JSON data given to pat-autosuggest\");\n            }\n        }\n\n        if (this.options.ajax?.url) {\n            config = $.extend(\n                true,\n                {\n                    minimumInputLength: this.options.minimumInputLength,\n                    ajax: {\n                        url: this.options.ajax.url,\n                        dataType: this.options.ajax[\"data-type\"],\n                        type: \"GET\",\n                        quietMillis: 400,\n                        data: (term, page) => {\n                            return {\n                                index: this.options.ajax[\"search-index\"],\n                                q: term, // search term\n                                page_limit: 10,\n                                page: page,\n                            };\n                        },\n                        results: (data, page) => {\n                            // parse the results into the format expected by Select2.\n                            // data must be a list of objects with keys \"id\" and \"text\"\n                            return { results: data, page: page };\n                        },\n                    },\n                },\n                config\n            );\n        }\n        return config;\n    },\n\n    destroy($el) {\n        $el.off(\".pat-autosuggest\");\n        $el.select2(\"destroy\");\n    },\n});\n","import Base from \"../../core/base\";\nimport dom from \"../../core/dom\";\n\nlet scheduled_task = null;\n\nexport default Base.extend({\n    name: \"autofocus\",\n    trigger: `\n        input.pat-autofocus,\n        input[autofocus],\n        select.pat-autofocus,\n        select[autofocus],\n        textarea.pat-autofocus,\n        textarea[autofocus],\n        button.pat-autofocus,\n        button[autofocus]\n    `,\n\n    init() {\n        if (window.self !== window.top) {\n            // Do not autofocus in iframes.\n            return;\n        }\n        this.set_focus();\n    },\n\n    set_focus() {\n        if (dom.is_visible(this.el) && this.el.value === \"\") {\n            // Set autofocus only for visible and empty inputs.\n\n            // Clear scheduled tasks if there are any.\n            // Note: Patterns scanning initizlizes patterns \"inside-out\", so\n            //       DOM nodes later in the tree are initizlized first.\n            //       With multiple pattern instantiations and then module-\n            //       globally clearing and re-scheduling tasks we are\n            //       initializing in the end the first pattern which matches\n            //       the conditions.\n            clearTimeout(scheduled_task);\n            scheduled_task = setTimeout(() => {\n                this.el.focus();\n                scheduled_task = null;\n            }, 100);\n        }\n    },\n});\n","/**\n * Patterns breadcrumbs - breadcrumb trails\n *\n * Copyright 2012-2013 Florian Friesdorf\n * Copyright 2012 Simplon B.V. - Wichert Akkerman\n */\n\nimport $ from \"jquery\";\nimport registry from \"../../core/registry\";\n\nvar _ = {\n    name: \"breadcrumbs\",\n    trigger: \"nav.pat-breadcrumbs\",\n    init: function ($el, opts) {\n        if ($el.length > 1) {\n            return $el.map(function () {\n                return _.init($(this), opts);\n            });\n        }\n\n        // wrap elements in a DIV that will be shifted around\n        var $content = $el\n            .children()\n            .wrapAll(\"<div class='pat-breadcrumbs-content'></div>\")\n            .parent();\n\n        // shift ctrl\n        var $ctrl = $(\"<span class='button shift'>shift</span>\").prependTo($el);\n\n        var shifted = false,\n            shifting = false,\n            difference = 0;\n        var shifter = function (toggle) {\n            return function () {\n                var margin;\n                if (toggle) {\n                    margin = shifted ? 0 : difference;\n                    $content.animate({ \"margin-left\": margin }, function () {\n                        $ctrl.toggleClass(\"shift-right shift-left\");\n                        shifted = !shifted;\n                    });\n                } else {\n                    margin = shifted ? difference : 0;\n                    $content.css({ \"margin-left\": margin });\n                }\n            };\n        };\n\n        var maybeshift = function () {\n            // account for other stuff on the same line (100px)\n            difference = $el.innerWidth() - $content.width() - 100;\n\n            if (difference < 0) {\n                // we should be shifting\n                if (!shifting) {\n                    shifting = true;\n                    $el.addClass(\"shifting\");\n                    $ctrl.removeClass(\"shift-right\");\n                    $ctrl.addClass(\"shift-left\");\n                    $ctrl.on(\"click.pat-breadcrumbs\", shifter(true));\n                    $ctrl.click();\n                } else {\n                    // a shifter that keeps state\n                    shifter(false)();\n                }\n            } else {\n                // we should not be shifting\n                if (shifting) {\n                    $content.animate({ \"margin-left\": 0 }, function () {\n                        shifted = false;\n                        shifting = false;\n                        $el.removeClass(\"shifting\");\n                        $ctrl.removeClass(\"shift-left shift-right\");\n                        $ctrl.off(\".pat-breadcrumbs\");\n                    });\n                }\n            }\n        };\n        $(window).on(\"resize.pat-breadcrumbs\", maybeshift);\n\n        var recalculate = function () {\n            // set fixed width on content\n            var width = $content\n                .children()\n                .toArray()\n                .reduce(function (acc, el) {\n                    // outerWidth is buggy http://bugs.jquery.com/ticket/8443 so\n                    // add a magic buffer value of 5.\n                    // XXX: maybe make the buffer configurable.\n                    return acc + $(el).outerWidth(true) + 5;\n                }, 0);\n            $content.width(width);\n            maybeshift();\n        };\n        $el.on(\"pat-breadcrumbs-changed.pat-breadcrumbs\", recalculate);\n        recalculate();\n\n        return $el;\n    },\n    destroy: function ($el) {\n        $el.off(\".pat-breadcrumbs\");\n    },\n};\nregistry.register(_);\n\nexport default _;\n","/**\n * Patterns bumper - Add bumping classes for sticky elements.\n */\n\nimport Base from \"../../core/base\";\nimport dom from \"../../core/dom\";\nimport logging from \"../../core/logging\";\nimport Parser from \"../../core/parser\";\nimport utils from \"../../core/utils\";\n\nconst logger = logging.getLogger(\"tabs\");\n\nexport const parser = new Parser(\"bumper\");\nparser.addArgument(\"selector\");\nparser.addArgument(\"bump-add\", \"bumped\");\nparser.addArgument(\"bump-remove\");\nparser.addArgument(\"unbump-add\");\nparser.addArgument(\"unbump-remove\", \"bumped\");\n\nexport default Base.extend({\n    name: \"bumper\",\n    trigger: \".pat-bumper\",\n\n    async init() {\n        // Based on: https://davidwalsh.name/detect-sticky\n\n        if (!utils.checkCSSFeature(\"position\", \"sticky\")) {\n            // IE11\n            logger.warn(\"No position sticky support.\");\n            return;\n        }\n\n        this.options = parser.parse(this.el, this.options);\n\n        this.target_element = this.options.selector\n            ? document.querySelector(this.options.selector)\n            : this.el;\n\n        // wait for next repaint for things to settle.\n        // e.g. CSS applied for injected content.\n        await utils.timeout(1);\n        this._init();\n    },\n\n    _init() {\n        const scroll_container_y = dom.find_scroll_container(\n            this.el.parentElement,\n            \"y\",\n            null\n        );\n        const scroll_container_x = dom.find_scroll_container(\n            this.el.parentElement,\n            \"x\",\n            null\n        );\n\n        const pos = {\n            top: dom.get_css_value(this.el, \"top\", true),\n            right: dom.get_css_value(this.el, \"right\", true),\n            bottom: dom.get_css_value(this.el, \"bottom\", true),\n            left: dom.get_css_value(this.el, \"left\", true),\n        };\n        const intersection_observer_config = {\n            threshold: [1, 0.99, 0.97, 0.96, 0.95, 0.94, 0.93, 0.92, 0.91, 0.9],\n            // add margin as inverted sticky positions.\n            rootMargin: `${-pos.top - 1}px ${-pos.right - 1}px ${-pos.bottom - 1}px ${-pos.left - 1}px`, // prettier-ignore\n        };\n\n        const observer_y = new IntersectionObserver(\n            this._intersection_observer_callback.bind(this),\n            {\n                ...intersection_observer_config,\n                root: scroll_container_y,\n            }\n        );\n        observer_y.observe(this.el);\n\n        if (scroll_container_x !== scroll_container_y) {\n            const observer_x = new IntersectionObserver(\n                this._intersection_observer_callback.bind(this),\n                {\n                    ...intersection_observer_config,\n                    root: scroll_container_x,\n                }\n            );\n            observer_x.observe(this.el);\n        }\n    },\n\n    _intersection_observer_callback(entries) {\n        const el = this.target_element;\n        for (const entry of entries) {\n            if (entry.intersectionRatio < 1) {\n                if (this.options.bump.add) {\n                    el.classList.add(this.options.bump.add);\n                }\n                if (this.options.bump.remove) {\n                    el.classList.remove(this.options.bump.remove);\n                }\n\n                const root = entry.rootBounds;\n                if (!root) {\n                    // No root found - e.g. CSS not fully applied when scroll\n                    // container was searched - as can happen as a corner case\n                    // after injecting content and initializing this pattern in\n                    // the same repaint cycle.\n                    // This is actually prevented by the 1ms timeout in the\n                    // init method.\n                    return;\n                }\n                const bounds = entry.boundingClientRect;\n\n                if (bounds.left <= root.left) {\n                    el.classList.add(\"bumped-left\");\n                } else {\n                    el.classList.remove(\"bumped-left\");\n                }\n                if (bounds.top <= root.top) {\n                    el.classList.add(\"bumped-top\");\n                } else {\n                    el.classList.remove(\"bumped-top\");\n                }\n                if (bounds.right >= root.right) {\n                    el.classList.add(\"bumped-right\");\n                } else {\n                    el.classList.remove(\"bumped-right\");\n                }\n                if (bounds.bottom >= root.bottom) {\n                    el.classList.add(\"bumped-bottom\");\n                } else {\n                    el.classList.remove(\"bumped-bottom\");\n                }\n            } else {\n                if (this.options.unbump.add) {\n                    el.classList.add(this.options.unbump.add);\n                }\n                if (this.options.unbump.remove) {\n                    el.classList.remove(this.options.unbump.remove);\n                }\n                el.classList.remove(\"bumped-left\");\n                el.classList.remove(\"bumped-top\");\n                el.classList.remove(\"bumped-right\");\n                el.classList.remove(\"bumped-bottom\");\n            }\n        }\n    },\n});\n","import Base from \"../../core/base\";\nimport dom from \"../../core/dom\";\nimport logging from \"../../core/logging\";\nimport Modal from \"../modal/modal\";\nimport Parser from \"../../core/parser\";\nimport registry from \"../../core/registry\";\nimport store from \"../../core/store\";\n\nconst log = logging.getLogger(\"calendar\");\nexport const parser = new Parser(\"calendar\");\n\nparser.addArgument(\"calendar-controls\", null); // Calendar controls must have \"id\" attr set\nparser.addArgument(\"category-controls\", null);\nparser.addArgument(\"column-day\", \"dddd M/d\");\nparser.addArgument(\"column-month\", \"ddd\");\nparser.addArgument(\"column-week\", \"ddd M/d\");\nparser.addArgument(\"initial-date\", null);\nparser.addArgument(\"initial-view\", \"month\", [\n    // Simple names\n    \"month\",\n    \"week\",\n    \"day\",\n    \"list\",\n    // FC 5 names\n    \"dayGridMonth\",\n    \"dayGridWeek\",\n    \"dayGridDay\",\n    \"timeGridWeek\",\n    \"timeGridDay\",\n    \"listDay\",\n    \"listWeek\",\n    \"listMonth\",\n    \"listYear\",\n    \"listWeek\",\n    // FC 3 names\n    \"basicWeek\",\n    \"basicDay\",\n    \"agendaWeek\",\n    \"agendaDay\",\n]);\nparser.addArgument(\"drag-and-drop\", true, [true, false]);\nparser.addArgument(\"drop-external-events\", true, [true, false]);\nparser.addArgument(\"external-event-selector\", \"\");\nparser.addArgument(\"first-day\", null);\nparser.addArgument(\"first-hour\", \"6\");\nparser.addArgument(\"height\", \"auto\");\nparser.addArgument(\"ignore-url\", false);\nparser.addArgument(\"lang\", null); // If not set, use \"en\" (See below)\nparser.addArgument(\"store\", \"none\", [\"none\", \"session\", \"local\"]);\nparser.addArgument(\"time-format\", \"24h\", [\"24h\", \"12h\"]);\nparser.addArgument(\"timezone\", null);\nparser.addArgument(\"title-day\", \"dddd, MMM d, YYYY\");\nparser.addArgument(\"title-month\", \"MMMM YYYY\");\nparser.addArgument(\"title-week\", \"MMM D YYYY\");\nparser.addArgument(\"event-color\", \"blue\");\n\nparser.addArgument(\"url\", null);\nparser.addArgument(\"event-sources\", [], undefined, true);\n//parser.addArgument(\"add-url\", null);\n\n// pat-inject support for individual events\nparser.addArgument(\"pat-inject-source\", null);\nparser.addArgument(\"pat-inject-target\", null);\n\n// pat-modal support for individual events\nparser.addArgument(\"pat-modal-class\", null);\n\n// pat-tooltip support for individual events\nparser.addArgument(\"pat-tooltip-source\", null, [\"ajax\", null]);\n\n// pat-switch support for individual events\nparser.addArgument(\"pat-switch-selector\", null);\nparser.addArgument(\"pat-switch-remove\", null);\nparser.addArgument(\"pat-switch-add\", null);\n\nparser.addAlias(\"default-date\", \"initial-date\");\nparser.addAlias(\"default-view\", \"initial-view\");\n\nexport default Base.extend({\n    name: \"calendar\",\n    trigger: \".pat-calendar\",\n    classMap: {\n        month: \".view-month\",\n        agendaWeek: \".view-week\",\n        agendaDay: \".view-day\",\n    },\n    viewMap: {\n        month: \"dayGridMonth\",\n        week: \"timeGridWeek\",\n        day: \"timeGridDay\",\n        list: \"listMonth\",\n        basicWeek: \"dayGridWeek\",\n        basicDay: \"dayGridDay\",\n        agendaWeek: \"timeGridWeek\",\n        agendaDay: \"timeGridDay\",\n    },\n    dayNames: [\"su\", \"mo\", \"tu\", \"we\", \"th\", \"fr\", \"sa\"],\n    active_categories: null,\n    parser: parser,\n\n    async init() {\n        this.options = store.updateOptions(this.el, parser.parse(this.el, this.options));\n\n        const Calendar = (await import(\"@fullcalendar/core\")).Calendar;\n        const fcDayGrid = (await import(\"@fullcalendar/daygrid\")).default;\n        const fcInteraction = (await import(\"@fullcalendar/interaction\")).default;\n        const fcList = (await import(\"@fullcalendar/list\")).default;\n        const fcLuxon = (await import(\"@fullcalendar/luxon2\")).default;\n        const fcTimeGrid = (await import(\"@fullcalendar/timegrid\")).default;\n\n        // Save some UI elements for reuse.\n        const calendar_controls = this.options.calendarControls\n            ? document.querySelector(this.options.calendarControls)\n            : this.el;\n        this.el_jump_next = calendar_controls.querySelector(\".jump-next\");\n        this.el_jump_prev = calendar_controls.querySelector(\".jump-prev\");\n        this.el_jump_today = calendar_controls.querySelector(\".jump-today\");\n        this.el_view_month = calendar_controls.querySelector(\".view-month\");\n        this.el_view_week = calendar_controls.querySelector(\".view-week\");\n        this.el_view_day = calendar_controls.querySelector(\".view-day\");\n        this.el_view_list_year = calendar_controls.querySelector(\".view-listYear\");\n        this.el_view_list_month = calendar_controls.querySelector(\".view-listMonth\");\n        this.el_view_list_week = calendar_controls.querySelector(\".view-listWeek\");\n        this.el_view_list_day = calendar_controls.querySelector(\".view-listDay\");\n        this.el_timezone = calendar_controls.querySelector(\"select[name='timezone']\");\n        this.el_title =\n            this.el.querySelector(\".cal-title\") ||\n            calendar_controls.querySelector(\".cal-title\");\n\n        const storage_prefix = `${this.name}-${window.location.pathname}`;\n        this.storage =\n            this.options.store === \"none\"\n                ? null\n                : store[this.options.store](storage_prefix);\n\n        const query_string = new URLSearchParams(window.location.search);\n\n        const config = {};\n        config.headerToolbar = false;\n        config.initialDate =\n            query_string.get(\"date\") ||\n            this.storage?.get?.(\"date\") ||\n            this.options.initial.date;\n        config.initialView =\n            query_string.get(\"view\") ||\n            this.storage?.get?.(\"view\") ||\n            this.options.initial.view;\n        config.initialView = this.viewMap[config.initialView] || config.initialView;\n        config.editable = this.options.editable || false;\n        config.plugins = [fcDayGrid, fcInteraction, fcList, fcLuxon, fcTimeGrid];\n        config.eventColor = this.options.eventColor;\n\n        let lang = this.options.lang || dom.acquire_attribute(this.el, \"lang\") || \"en\";\n        // we don't support any country-specific language variants, always use first 2 letters\n        lang = lang.substr(0, 2).toLowerCase();\n        if (lang !== \"en\") {\n            const locale = await import(`@fullcalendar/core/locales/${lang}.js`);\n            config.locale = locale.default;\n            log.debug(`Loaded locale for ${lang}`);\n        }\n        if (this.options.first.day !== null) {\n            config.firstDay = this.options.first.day;\n            if (this.dayNames.indexOf(this.options.first.day) >= 0) {\n                // Set firstDay as string\n                config.firstDay = this.dayNames.indexOf(this.options.first.day);\n            }\n        }\n\n        let timezone = this.el_timezone?.value || this.options.timezone || null;\n        if (timezone) {\n            config.timeZone = timezone;\n        }\n\n        if (this.options.timeFormat == \"12h\") {\n            // 12h format\n            config.eventTimeFormat = {\n                hour12: true,\n                meridiem: \"narrow\",\n                hour: \"numeric\",\n            };\n        } else {\n            // 24h format\n            config.eventTimeFormat = {\n                hour12: false,\n                meridiem: \"false\",\n                hour: \"numeric\",\n            };\n        }\n\n        const sources = [...(this.options.event.sources || [])];\n        if (this.options.url && !sources.includes(this.options.url)) {\n            // add, but do not re-add same source twice.\n            sources.push(this.options.url);\n        }\n        config.eventSources = [];\n        for (const [idx, url] of sources.entries()) {\n            const src = this.create_event_source(idx, url);\n            config.eventSources.push(src);\n        }\n\n        // Restore category controls from local storage before showing events.\n        this._restoreCategoryControls();\n        this._registerCategoryControls();\n        this.reset_active_categories();\n        config.eventDidMount = (args) => this.init_event(args);\n\n        // Need to create a sub-element of ``pat-calendar`` to allow custom\n        // controls within pat-calendar to not be overwritten.\n        const cal_el = document.createElement(\"div\");\n        cal_el.setAttribute(\"class\", \"pat-calendar__fc\");\n        this.el.appendChild(cal_el);\n\n        if (this.options.addUrl) {\n            config.dateClick = this.addNewEvent.bind(this);\n            // Create a element for modals/injections\n            this.mod_el = document.createElement(\"section\");\n            this.mod_el.setAttribute(\"class\", \"pat-calendar__modal\");\n            this.el.appendChild(this.mod_el);\n        }\n\n        let calendar = (this.calendar = new Calendar(cal_el, config));\n        calendar.render();\n\n        calendar.on(\"datesSet\", this._viewChanged.bind(this));\n        calendar.on(\"dateClick\", this._viewChanged.bind(this));\n\n        if (this.el_title) {\n            this.el_title.innerHTML = calendar.view.title;\n        }\n\n        this._registerCalendarControls();\n        this.setActiveClasses();\n    },\n\n    create_event_source(idx, url) {\n        return {\n            id: `event-source--${idx + 1}`,\n            events: (info, success, failure) =>\n                this._fetch_events(url, info, success, failure),\n            className: `event-source--${idx + 1}`,\n        };\n    },\n\n    event_mapper(event) {\n        // Maps backend results to the fullcalendar event schema.\n        // Default implementation confirms to plone.restapi conventions.\n        const ret = {\n            id: event.UID,\n            title: event.title,\n            start: new Date(event.start),\n            end: new Date(event.end),\n            allDay: event.whole_day,\n            url: event.url || event[\"@id\"],\n\n            backgroundColor: event.color,\n            borderColor: event.color,\n            classNames: event.class ? event.class.split(\" \") : [],\n\n            // non fullcalendar standard fields\n            description: event.description,\n            text: event.text,\n            location: event.location,\n            open_end: event.open_end,\n            recurrence: event.recurrence,\n            attendees: event.attendees,\n            contact_name: event.contact_name,\n            contact_phone: event.contact_phone,\n            contact_email: event.contact_email,\n            event_url: event.event_url,\n        };\n        for (const prop in ret) {\n            if (!ret[prop]) {\n                delete ret[prop];\n            }\n        }\n        return ret;\n    },\n\n    update_event(event, data) {\n        // Updated an existing event with new event properties.\n        event.setDates(data.start, data.end);\n        event.setAllDay(data.allDay);\n        event.setProp(\"id\", data.id);\n        event.setProp(\"title\", data.title);\n        event.setProp(\"url\", data.url);\n\n        event.setProp(\"backgroundColor\", data.color);\n        event.setProp(\"borderColor\", data.color);\n\n        event.setExtendedProp(\"description\", data.description);\n        event.setExtendedProp(\"text\", data.text);\n        event.setExtendedProp(\"location\", data.location);\n        event.setExtendedProp(\"open_end\", data.open_end);\n        event.setExtendedProp(\"recurrence\", data.recurrence);\n        event.setExtendedProp(\"attendees\", data.attendees);\n        event.setExtendedProp(\"contact_name\", data.contact_name);\n        event.setExtendedProp(\"contact_phone\", data.contact_phone);\n        event.setExtendedProp(\"contact_email\", data.contact_email);\n        event.setExtendedProp(\"event_url\", data.event_url);\n    },\n\n    async _fetch_events(url, info, success, failure) {\n        let results = [];\n        while (url) {\n            url = url\n                .replace(\"${start_str}\", info.startStr.split(\"T\")[0])\n                .replace(\"${end_str}\", info.endStr.split(\"T\")[0]);\n\n            let response;\n            try {\n                response = await fetch(url, {\n                    method: \"GET\",\n                    mode: \"cors\",\n                    headers: {\n                        \"Accept\": \"application/json\",\n                        \"Content-Type\": \"application/json\",\n                    },\n                });\n            } catch (e) {\n                failure(e);\n                return;\n            }\n            let result = await response.json();\n            let results_ = result.items?.map(this.event_mapper) || [];\n            results = results.concat(results_);\n\n            // resolve all ``next`` batching urls\n            url = result.batching?.next || null;\n        }\n\n        success(results);\n    },\n\n    init_event(args) {\n        this.filter_event(args.event);\n\n        let do_scan = false;\n\n        // pat-inject support\n        const source = this.options.pat[\"inject-source\"];\n        const target = this.options.pat[\"inject-target\"];\n        if (args.event.url && (source || target)) {\n            // Only set pat-inject if event has a url\n            args.el.classList.add(\"pat-inject\");\n            args.el.setAttribute(\n                \"data-pat-inject\",\n                `target: ${target || \"body\"}; source: ${source || \"body\"}`\n            );\n            do_scan = true;\n        }\n\n        // pat-modal support\n        if (args.event.url && this.options.pat[\"modal-class\"]) {\n            // Only set pat-modal if event has a url\n            args.el.classList.add(\"pat-modal\");\n            args.el.setAttribute(\n                \"data-pat-modal\",\n                `class: ${this.options.pat[\"modal-class\"]}`\n            );\n            do_scan = true;\n        }\n\n        // pat-tooltip support\n        if (args.event.url && this.options.pat[\"tooltip-source\"] === \"ajax\") {\n            // Only set pat-tooltip if event has a url\n            args.el.classList.add(\"pat-tooltip\");\n            args.el.setAttribute(\"data-pat-tooltip\", \"source: ajax\");\n            do_scan = true;\n        }\n\n        // pat-switch support\n        const switch_sel = this.options.pat[\"switch-selector\"];\n        if (switch_sel) {\n            const switch_add = this.options.pat[\"switch-add\"];\n            const switch_rm = this.options.pat[\"switch-remove\"];\n\n            args.el.classList.add(\"pat-switch\");\n            args.el.setAttribute(\n                \"data-pat-switch\",\n                `selector: ${switch_sel}${switch_add ? \"; add: \" + switch_add : \"\"}${\n                    switch_rm ? \"; remove: \" + switch_rm : \"\"\n                }`\n            );\n            do_scan = true;\n        }\n\n        if (do_scan) {\n            registry.scan(args.el);\n        }\n    },\n\n    filter_event(event) {\n        let show = true;\n        if (this.active_categories !== null) {\n            // intersection\n            show =\n                this.active_categories.filter((it) => event.classNames.includes(it))\n                    .length > 0;\n        }\n        if (show) {\n            event.setProp(\"display\", \"auto\");\n        } else {\n            event.setProp(\"display\", \"none\");\n        }\n    },\n\n    reset_active_categories() {\n        const ctrls = this.get_category_controls();\n        this.active_categories = null;\n        if (ctrls.length) {\n            this.active_categories = ctrls.filter((el) => el.checked).map((el) => el.id);\n        }\n        this.storage && this.storage.set(\"active_categories\", this.active_categories);\n    },\n\n    get_category_controls() {\n        const ctrl_containers = this.options.categoryControls\n            ? document.querySelectorAll(this.options.categoryControls)\n            : [this.el];\n        const ctrls = [];\n        for (const it of ctrl_containers) {\n            const inp = it.querySelectorAll(\"input[type=checkbox]\");\n            ctrls.push(...inp);\n        }\n        return [...new Set(ctrls)]; // do not return the same inputs multiple times\n    },\n\n    _registerCategoryControls() {\n        /* The \"category controls\" are checkboxes that cause different\n         * types of events to be shown or hidden.\n         */\n        let timer;\n        for (const ctrl of this.get_category_controls()) {\n            ctrl.addEventListener(\"change\", () => {\n                clearTimeout(timer); // Cancel scheduled filter runs\n                timer = setTimeout(() => {\n                    this.reset_active_categories();\n                    this.calendar.getEvents().map(this.filter_event.bind(this));\n                }, 50);\n            });\n        }\n    },\n\n    _restoreCategoryControls() {\n        /* Restore values of the category controls as stored in store.\n         * NOTE: run BEFORE _registerCalendarControls\n         */\n        const ctrls = this.get_category_controls();\n        const active_categories =\n            (this.storage && this.storage.get(\"active_categories\")) || null;\n\n        if (!ctrls.length || active_categories === null) {\n            // No category controls or never set, use default un/checked status.\n            return;\n        }\n\n        for (const ctrl of ctrls) {\n            if (ctrl.hidden) {\n                // Do not set non-user-interactable inputs.\n                // They are programmatically set.\n                continue;\n            }\n            if (active_categories.includes(ctrl.id)) {\n                ctrl.checked = true;\n            } else {\n                ctrl.checked = false;\n            }\n            ctrl.dispatchEvent(new Event(\"change\", { bubbles: true, cancelable: true }));\n        }\n    },\n\n    _registerCalendarControls() {\n        this.el_jump_next?.addEventListener(\"click\", (event) => {\n            event.preventDefault();\n            this.calendar.next();\n        });\n\n        this.el_jump_prev?.addEventListener(\"click\", (event) => {\n            event.preventDefault();\n            this.calendar.prev();\n        });\n\n        this.el_jump_today?.addEventListener(\"click\", (event) => {\n            event.preventDefault();\n            this.calendar.today();\n        });\n\n        this.el_view_month?.addEventListener(\"click\", (event) => {\n            event.preventDefault();\n            this.calendar.changeView(\"dayGridMonth\");\n        });\n\n        this.el_view_week?.addEventListener(\"click\", (event) => {\n            event.preventDefault();\n            this.calendar.changeView(\"timeGridWeek\");\n        });\n\n        this.el_view_day?.addEventListener(\"click\", (event) => {\n            event.preventDefault();\n            this.calendar.changeView(\"timeGridDay\");\n        });\n\n        this.el_view_list_year?.addEventListener(\"click\", (event) => {\n            event.preventDefault();\n            this.calendar.changeView(\"listYear\");\n        });\n\n        this.el_view_list_month?.addEventListener(\"click\", (event) => {\n            event.preventDefault();\n            this.calendar.changeView(\"listMonth\");\n        });\n\n        this.el_view_list_week?.addEventListener(\"click\", (event) => {\n            event.preventDefault();\n            this.calendar.changeView(\"listWeek\");\n        });\n\n        this.el_view_list_day?.addEventListener(\"click\", (event) => {\n            event.preventDefault();\n            this.calendar.changeView(\"listDay\");\n        });\n\n        this.el_timezone?.addEventListener(\"change\", (event) => {\n            event.preventDefault();\n            this.calendar.setOption(\"timeZone\", event.target.value);\n        });\n    },\n\n    setActiveClasses() {\n        // Set active classes of UI elements.\n\n        this.el_jump_today?.classList.remove(\"active\");\n        this.el_view_month?.classList.remove(\"active\");\n        this.el_view_week?.classList.remove(\"active\");\n        this.el_view_day?.classList.remove(\"active\");\n        this.el_view_list_year?.classList.remove(\"active\");\n        this.el_view_list_month?.classList.remove(\"active\");\n        this.el_view_list_week?.classList.remove(\"active\");\n        this.el_view_list_day?.classList.remove(\"active\");\n\n        const cdate = this.calendar.currentData.currentDate;\n        const today = new Date();\n        if (\n            cdate.getYear() === today.getYear() &&\n            cdate.getMonth() === today.getMonth() &&\n            cdate.getDate() === today.getDate()\n        ) {\n            this.el_jump_today?.classList.add(\"active\");\n        }\n\n        switch (this.calendar.view.type) {\n            case \"dayGridMonth\":\n                this.el_view_month?.classList.add(\"active\");\n                break;\n            case \"timeGridWeek\":\n                this.el_view_week?.classList.add(\"active\");\n                break;\n            case \"timeGridDay\":\n                this.el_view_day?.classList.add(\"active\");\n                break;\n            case \"listYear\":\n                this.el_view_list_year?.classList.add(\"active\");\n                break;\n            case \"listMonth\":\n                this.el_view_list_month?.classList.add(\"active\");\n                break;\n            case \"listWeek\":\n                this.el_view_list_week?.classList.add(\"active\");\n                break;\n            case \"listDay\":\n                this.el_view_list_day?.classList.add(\"active\");\n                break;\n        }\n    },\n\n    _viewChanged(data) {\n        // Set title\n        if (this.el_title) {\n            this.el_title.innerHTML = data.view.title;\n        }\n        // store current date and view\n        const date = data.view.currentStart.toISOString();\n        const view = data.view.type;\n        this.storage && this.storage.set(\"date\", date);\n        this.storage && this.storage.set(\"view\", view);\n\n        const query = new URLSearchParams(window.location.search);\n        query.set(\"date\", date);\n        query.set(\"view\", view);\n        history.replaceState(null, null, \"?\" + query.toString());\n\n        this.setActiveClasses();\n    },\n\n    async addNewEvent(info) {\n        let addUrl = this.options.addUrl;\n        if (!addUrl) {\n            return;\n        }\n\n        let start, end, allDay;\n        if (this.calendar.view.type === \"timeGridMonth\") {\n            start = info.date;\n            end = info.date;\n            allDay = true;\n        } else {\n            start = info.date;\n            end = new Date(start.getTime() + 1 * 60 * 60 * 1000); // same as start, 1h offset\n            allDay = false;\n        }\n        addUrl = addUrl\n            .replace(\"${start_str}\", start)\n            .replace(\"${end_str}\", end)\n            .replace(\"${all_day}\", allDay ? \"1\" : \"0\");\n\n        const event = this.calendar.addEvent(\n            {\n                title: \"New Event\",\n                start: start,\n                end: end,\n            },\n            true\n        );\n\n        await new Modal(this.mod_el, {\n            url: addUrl,\n            trigger: \"autoload\",\n        });\n\n        //const mod_el = document.querySelector(\"#pat-modal form\");\n        //mod_el.addEventListener(\"submit\", (e) => {\n        document.addEventListener(\"submit\", async (e) => {\n            const form = e.target;\n            const form_data = new FormData(form);\n            try {\n                const response = await fetch(form.action, {\n                    method: form.method,\n                    headers: {\n                        \"Content-Type\": \"application/json\",\n                    },\n                    body: form_data,\n                });\n                let data = await response.json();\n                data = this.event_mapper(data);\n                this.update_event(event, data);\n            } catch (error) {\n                log.error(error);\n                event.remove();\n            }\n        });\n    },\n});\n","/**\n * Patterns carousel\n *\n * Copyright 2017 Syslab.com GmbH Alexander Pilz\n */\nimport $ from \"jquery\";\nimport Base from \"../../core/base\";\nimport logging from \"../../core/logging\";\nimport Parser from \"../../core/parser\";\n\nconst log = logging.getLogger(\"pat.carousel\");\n\nexport const parser = new Parser(\"carousel\");\nparser.addArgument(\"auto-play\", false);\nparser.addArgument(\"auto-play-speed\", 1000);\nparser.addArgument(\"speed\", 500);\nparser.addArgument(\"height\", \"fixed\");\nparser.addArgument(\"arrows\", \"show\");\nparser.addArgument(\"slides-to-show\", 1);\nparser.addArgument(\"slides-to-scroll\", 1);\nparser.addArgument(\"dots\", \"show\");\nparser.addArgument(\"append-dots\", \"\");\nparser.addArgument(\"infinite\", false);\n\nexport default Base.extend({\n    name: \"carousel\",\n    trigger: \".pat-carousel\",\n\n    async init() {\n        if (window.__patternslib_import_styles) {\n            import(\"slick-carousel/slick/slick.scss\");\n        }\n        await import(\"slick-carousel\");\n        const ImagesLoaded = (await import(\"imagesloaded\")).default;\n\n        this.options = parser.parse(this.el, this.options);\n        this.settings = {\n            autoplay: this.options.auto.play,\n            autoplaySpeed: this.options.auto[\"play-speed\"],\n            speed: this.options.speed,\n            adaptiveHeight: this.options.height === \"adaptive\",\n            arrows: this.options.arrows === \"show\",\n            slidesToShow: this.options.slides[\"to-show\"],\n            slidesToScroll: this.options.slides[\"to-scroll\"],\n            dots: this.options.dots === \"show\",\n            infinite: this.options.infinite,\n        };\n        if (this.options.appendDots) {\n            this.settings.appendDots = this.options.appendDots;\n        }\n\n        ImagesLoaded(this.el, () => this.setup());\n    },\n\n    setup() {\n        const $carousel = $(this.el).slick(this.settings);\n        let $panel_links = $();\n\n        $carousel\n            .children()\n            .each((index, obj) => {\n                if (!obj.id) {\n                    return;\n                }\n                var $links = $(\"a[href=#\" + obj.id + \"]\");\n                // TODO: fix this.\n                // eslint-disable-next-line no-undef\n                if (index === control.currentPage) {\n                    $links.addClass(\"current\");\n                } else {\n                    $links.removeClass(\"current\");\n                }\n                $links.on(\n                    \"click.pat-carousel\",\n                    null,\n                    // TODO: fix this.\n                    // eslint-disable-next-line no-undef\n                    { control: control, index: index },\n                    this.onPanelLinkClick.bind(this)\n                );\n                $panel_links = $panel_links.add($links);\n            })\n            .end()\n            .on(\n                \"slide_complete.pat-carousel\",\n                null,\n                $panel_links,\n                this.onSlideComplete.bind(this)\n            );\n    },\n\n    _loadPanelImages(slider, page) {\n        let $img;\n        log.info(\"Loading lazy images on panel \" + page);\n        slider.$items\n            .eq(page)\n            .find(\"img\")\n            .addBack()\n            .filter(\"[data-src]\")\n            .each((idx, img) => {\n                $img = $(img);\n                this.src = $img.attr(\"data-src\");\n                $img.removeAttr(\"data-src\");\n            });\n    },\n\n    onPanelLinkClick: function (event) {\n        event.data.control.gotoPage(event.data.index, false);\n        event.preventDefault();\n    },\n\n    onInitialized: function (event, slider) {\n        this._loadPanelImages(slider, slider.options.startPanel);\n        this._loadPanelImages(slider, slider.options.startPanel + 1);\n        this._loadPanelImages(slider, 0);\n        this._loadPanelImages(slider, slider.pages + 1);\n    },\n\n    onSlideInit: function (event, slider) {\n        this._loadPanelImages(slider, slider.targetPage);\n    },\n\n    onSlideComplete: function (event, slider) {\n        var $panel_links = event.data;\n        $panel_links.removeClass(\"current\");\n        if (slider.$targetPage[0].id)\n            $panel_links\n                .filter(\"[href=#\" + slider.$targetPage[0].id + \"]\")\n                .addClass(\"current\");\n        this._loadPanelImages(slider, slider.targetPage + 1);\n    },\n});\n","import Base from \"../../core/base\";\nimport Parser from \"../../core/parser\";\nimport dom from \"../../core/dom\";\nimport utils from \"../../core/utils\";\nimport \"../../core/jquery-ext\";\n\nexport const parser = new Parser(\"checklist\");\nparser.addArgument(\"select\", \".select-all\");\nparser.addArgument(\"deselect\", \".deselect-all\");\n\nexport default Base.extend({\n    name: \"checklist\",\n    trigger: \".pat-checklist\",\n    jquery_plugin: true,\n    all_selects: [],\n    all_deselects: [],\n    all_checkboxes: [],\n    all_radios: [],\n\n    init() {\n        this.options = parser.parse(this.el, this.options, false);\n        this.$el.on(\"patterns-injected\", this._init.bind(this));\n        this._init();\n    },\n\n    _init() {\n        this.all_checkboxes = this.el.querySelectorAll(\"input[type=checkbox]\");\n        this.all_radios = this.el.querySelectorAll(\"input[type=radio]\");\n\n        this.all_selects = dom.find_scoped(this.el, this.options.select);\n        for (const btn of this.all_selects) {\n            btn.addEventListener(\"click\", this.select_all.bind(this));\n        }\n\n        this.all_deselects = dom.find_scoped(this.el, this.options.deselect);\n        for (const btn of this.all_deselects) {\n            btn.addEventListener(\"click\", this.deselect_all.bind(this));\n        }\n\n        // update select/deselect button status\n        this.el.addEventListener(\"change\", this._handler_change.bind(this));\n        this.change_buttons();\n        this.change_checked();\n    },\n\n    _handler_change() {\n        utils.debounce(() => this.change_buttons(), 50)();\n        utils.debounce(() => this.change_checked(), 50)();\n    },\n\n    destroy() {\n        for (const it of this.all_selects) {\n            it.removeEventListener(\"click\", this.select_all);\n        }\n        for (const it of this.all_deselects) {\n            it.removeEventListener(\"click\", this.deselect_all);\n        }\n        this.el.removeEventListener(\"change\", this._handler_change);\n        this.$el.off(\"patterns_injected\");\n    },\n\n    find_siblings(el, sel) {\n        // Looks for the closest elements within the `el` tree that match the\n        // `sel` selector\n        let res;\n        let parent = el.parentNode;\n        while (parent) {\n            res = parent.querySelectorAll(sel);\n            if (res.length || parent === this.el) {\n                // return if results were found or we reached the pattern top\n                return res;\n            }\n            parent = parent.parentNode;\n        }\n    },\n\n    find_checkboxes(ref_el, sel) {\n        let chkbxs = [];\n        if (this.options.select.indexOf(\"#\") === 0) {\n            chkbxs = this.el.querySelectorAll(sel);\n        } else {\n            chkbxs = this.find_siblings(ref_el, sel);\n        }\n        return chkbxs;\n    },\n\n    change_buttons() {\n        let chkbxs;\n        for (const btn of this.all_selects) {\n            chkbxs = this.find_checkboxes(btn, \"input[type=checkbox]\");\n            btn.disabled = [...chkbxs]\n                .map((el) => el.matches(\":checked\"))\n                .every((it) => it === true);\n        }\n        for (const btn of this.all_deselects) {\n            chkbxs = this.find_checkboxes(btn, \"input[type=checkbox]\");\n            btn.disabled = [...chkbxs]\n                .map((el) => el.matches(\":checked\"))\n                .every((it) => it === false);\n        }\n    },\n\n    select_all(e) {\n        e.preventDefault();\n        const chkbxs = this.find_checkboxes(\n            e.target,\n            \"input[type=checkbox]:not(:checked)\"\n        );\n        for (const box of chkbxs) {\n            box.checked = true;\n            box.dispatchEvent(new Event(\"change\", { bubbles: true, cancelable: true }));\n        }\n    },\n\n    deselect_all(e) {\n        e.preventDefault();\n        const chkbxs = this.find_checkboxes(e.target, \"input[type=checkbox]:checked\");\n        for (const box of chkbxs) {\n            box.checked = false;\n            box.dispatchEvent(new Event(\"change\", { bubbles: true, cancelable: true }));\n        }\n    },\n\n    change_checked() {\n        for (const it of [...this.all_checkboxes].concat([...this.all_radios])) {\n            for (const label of it.labels) {\n                label.classList.remove(\"unchecked\");\n                label.classList.remove(\"checked\");\n                label.classList.add(it.checked ? \"checked\" : \"unchecked\");\n            }\n        }\n\n        for (const fieldset of dom.querySelectorAllAndMe(this.el, \"fieldset\")) {\n            if (\n                fieldset.querySelectorAll(\n                    \"input[type=checkbox]:checked, input[type=radio]:checked\"\n                ).length\n            ) {\n                fieldset.classList.remove(\"unchecked\");\n                fieldset.classList.add(\"checked\");\n            } else {\n                fieldset.classList.remove(\"checked\");\n                fieldset.classList.add(\"unchecked\");\n            }\n        }\n    },\n});\n","/* Clone pattern */\nimport $ from \"jquery\";\nimport Parser from \"../../core/parser\";\nimport registry from \"../../core/registry\";\nimport Base from \"../../core/base\";\nimport logging from \"../../core/logging\";\nimport dom from \"../../core/dom\";\nimport utils from \"../../core/utils\";\n\nconst log = logging.getLogger(\"pat-clone\");\nconst TEXT_NODE = 3;\n\nexport const parser = new Parser(\"clone\");\nparser.addArgument(\"max\");\nparser.addArgument(\"template\", \":first\");\nparser.addArgument(\"trigger-element\", \".add-clone\");\nparser.addArgument(\"remove-element\", \".remove-clone\");\nparser.addArgument(\"remove-behaviour\", \"confirm\", [\"confirm\", \"none\"]);\nparser.addArgument(\n    \"remove-confirmation\",\n    \"Are you sure you want to remove this element?\"\n);\nparser.addArgument(\"clone-element\", \".clone\");\nparser.addAlias(\"remove-behavior\", \"remove-behaviour\");\n\nexport default Base.extend({\n    name: \"clone\",\n    trigger: \".pat-clone\",\n\n    init() {\n        this.options = parser.parse(this.el, this.options);\n        if (this.options.template.lastIndexOf(\":\", 0) === 0) {\n            this.template = $(this.options.template, this.el)[0];\n        } else {\n            this.template = document.querySelector(this.options.template);\n        }\n\n        this.bind_trigger(document.body);\n\n        const clones = this.el.querySelectorAll(this.options.cloneElement);\n        this.num_clones = clones.length;\n        for (const clone of clones) {\n            this.bind_remove(clone);\n        }\n    },\n\n    clone() {\n        if (this.num_clones >= this.options.max) {\n            alert(\"Sorry, only \" + this.options.max + \" elements allowed.\");\n            return;\n        }\n        this.num_clones += 1;\n\n        let $clone =\n            this.template.nodeName === \"TEMPLATE\"\n                ? $([...this.template.content.children]).clone()\n                : $(this.template).safeClone();\n\n        const ids = ($clone.attr(\"id\") || \"\").split(\" \").filter((it) => it);\n        $clone.removeAttr(\"id\").removeClass(\"disable-patterns\");\n        $.each(\n            ids,\n            function (idx, id) {\n                // Re-add all ids that have the substring #{1} in them, while\n                // also replacing that substring with the number of clones.\n                if (id.indexOf(\"#{1}\") !== -1) {\n                    $clone.attr(\n                        \"id\",\n                        $clone.attr(\"id\")\n                            ? $clone.attr(\"id\") + \" \"\n                            : \"\" + id.replace(\"#{1}\", this.num_clones)\n                    );\n                }\n            }.bind(this)\n        );\n\n        $clone.appendTo(this.$el);\n        $clone\n            .children()\n            .addBack()\n            .contents()\n            .addBack()\n            .filter(this.incrementValues.bind(this));\n\n        this.bind_trigger($clone);\n        this.bind_remove($clone);\n\n        $clone.prop(\"hidden\", false);\n        registry.scan($clone);\n\n        $clone.trigger(\"pat-update\", {\n            pattern: \"clone\",\n            action: \"clone\",\n            $el: $clone,\n        });\n        if (this.num_clones >= this.options.max) {\n            for (const el_ of this.clone_triggers) {\n                dom.hide(el_);\n            }\n        }\n    },\n\n    incrementValues(idx, el) {\n        const $el = $(el);\n        $el.children().addBack().contents().filter(this.incrementValues.bind(this));\n        const callback = function (idx, attr) {\n            if (attr.name === \"type\" || !$el.attr(attr.name)) {\n                return;\n            }\n            try {\n                $el.attr(\n                    attr.name,\n                    $el.attr(attr.name).replace(\"#{1}\", this.num_clones)\n                );\n            } catch (e) {\n                log.warn(e);\n            }\n        };\n        if (el.nodeType !== TEXT_NODE) {\n            $.each(el.attributes, callback.bind(this));\n        } else if (el.data.length) {\n            el.data = el.data.replace(\"#{1}\", this.num_clones);\n        }\n    },\n\n    bind_trigger(triggers) {\n        // Bind clone trigger\n        for (const node of utils.ensureArray(triggers)) {\n            for (const trigger of dom.querySelectorAllAndMe(\n                node,\n                this.options.triggerElement\n            )) {\n                trigger.addEventListener(\"click\", () => this.clone());\n            }\n        }\n    },\n\n    bind_remove(clone) {\n        for (const node of utils.ensureArray(clone)) {\n            for (const remove_button of dom.querySelectorAllAndMe(\n                node,\n                this.options.remove.element\n            )) {\n                remove_button.addEventListener(\"click\", () => {\n                    if (this.options.remove.behaviour === \"confirm\") {\n                        if (window.confirm(this.options.remove.confirmation) === true) {\n                            this.remove(clone);\n                        }\n                    } else {\n                        this.remove(clone);\n                    }\n                });\n            }\n        }\n    },\n\n    remove(clone) {\n        for (const node of utils.ensureArray(clone)) {\n            node.remove();\n            this.$el.trigger(\"pat-update\", {\n                pattern: \"clone\",\n                action: \"remove\",\n                $el: $(node), // used by pat-sortable only.\n            });\n        }\n        this.num_clones -= 1;\n        if (this.num_clones < this.options.max) {\n            for (const el_ of this.clone_triggers) {\n                dom.show(el_);\n            }\n        }\n    },\n});\n","/**\n * Patterns collapsible - Collapsible content\n *\n * Copyright 2012-2013 Florian Friesdorf\n * Copyright 2012-2013 Simplon B.V. - Wichert Akkerman\n * Copyright 2012 Markus Maier\n * Copyright 2013 Peter Lamut\n * Copyright 2012 Jonas Hoersch\n */\n\nimport $ from \"jquery\";\nimport \"../../core/jquery-ext\";\nimport inject from \"../inject/inject\";\nimport logging from \"../../core/logging\";\nimport Parser from \"../../core/parser\";\nimport store from \"../../core/store\";\nimport Base from \"../../core/base\";\nimport utils from \"../../core/utils\";\n\nconst log = logging.getLogger(\"pat.collapsible\");\n\nexport const parser = new Parser(\"collapsible\");\nparser.addArgument(\"load-content\");\nparser.addArgument(\"store\", \"none\", [\"none\", \"session\", \"local\"]);\nparser.addArgument(\"transition\", \"slide\", [\n    \"none\",\n    \"css\",\n    \"fade\",\n    \"slide\",\n    \"slide-horizontal\",\n]);\nparser.addArgument(\"effect-duration\", \"fast\");\nparser.addArgument(\"effect-easing\", \"swing\");\nparser.addArgument(\"closed\", false);\nparser.addArgument(\"trigger\", \"::first\");\nparser.addArgument(\"close-trigger\");\nparser.addArgument(\"open-trigger\");\n// pat-scroll support\nparser.addArgument(\"scroll-selector\");\nparser.addArgument(\"scroll-offset\", 0);\n\nconst debounce_scroll_timer = { timer: null };\n\nexport default Base.extend({\n    name: \"collapsible\",\n    trigger: \".pat-collapsible\",\n    jquery_plugin: true,\n    parser: parser,\n\n    transitions: {\n        \"none\": { closed: \"hide\", open: \"show\" },\n        \"fade\": { closed: \"fadeOut\", open: \"fadeIn\" },\n        \"slide\": { closed: \"slideUp\", open: \"slideDown\" },\n        \"slide-horizontal\": { closed: \"slideOut\", open: \"slideIn\" },\n    },\n\n    init: function ($el, opts) {\n        var $content, state, storage;\n        this.options = store.updateOptions($el[0], parser.parse($el, opts));\n\n        if (this.options.trigger === \"::first\") {\n            this.$trigger = $el.children(\":first\");\n            $content = $el.children(\":gt(0)\");\n        } else {\n            this.$trigger = $(this.options.trigger);\n            $content = $el.children();\n        }\n        if (this.$trigger.length === 0) {\n            log.error(\"Collapsible has no trigger.\", $el[0]);\n            return;\n        }\n\n        this.$panel = $el.children(\".panel-content\");\n        if (this.$panel.length === 0) {\n            if ($content.length) {\n                this.$panel = $content.wrapAll(\"<div class='panel-content' />\").parent();\n            } else {\n                this.$panel = $(\"<div class='panel-content' />\").insertAfter(\n                    this.$trigger\n                );\n            }\n        }\n\n        state = this.options.closed || $el.hasClass(\"closed\") ? \"closed\" : \"open\";\n        if (this.options.store !== \"none\") {\n            storage = (this.options.store === \"local\" ? store.local : store.session)(\n                this.name\n            );\n            state = storage.get($el.attr(\"id\")) || state;\n        }\n\n        if (state === \"closed\") {\n            this.$trigger.removeClass(\"collapsible-open\").addClass(\"collapsible-closed\");\n            $el.removeClass(\"open\").addClass(\"closed\");\n            this.$panel.hide();\n        } else {\n            if (this.options.loadContent)\n                this._loadContent($el, this.options.loadContent, this.$panel);\n            this.$trigger.removeClass(\"collapsible-closed\").addClass(\"collapsible-open\");\n            $el.removeClass(\"closed\").addClass(\"open\");\n            this.$panel.show();\n        }\n\n        this.$trigger\n            .off(\".pat-collapsible\")\n            .on(\"click.pat-collapsible\", null, $el, this._onClick.bind(this))\n            .on(\"keypress.pat-collapsible\", null, $el, this._onKeyPress.bind(this));\n\n        if (this.options.closeTrigger) {\n            $(document).on(\"click\", this.options.closeTrigger, this.close.bind(this));\n        }\n        if (this.options.openTrigger) {\n            $(document).on(\"click\", this.options.openTrigger, this.open.bind(this));\n        }\n\n        this.debounce_scroll = utils.debounce(\n            () => this._scroll(),\n            10,\n            debounce_scroll_timer\n        ); // scroll debouncer for later use.\n\n        return $el;\n    },\n\n    open: function () {\n        if (!this.$el.hasClass(\"open\")) this.toggle();\n        return this.$el;\n    },\n\n    close: function () {\n        if (!this.$el.hasClass(\"closed\")) this.toggle();\n        return this.$el;\n    },\n\n    _onClick: function (event) {\n        this.toggle(event.data);\n    },\n\n    _onKeyPress: function (event) {\n        var keycode = event.keyCode ? event.keyCode : event.which;\n        if (keycode === 13) this.toggle();\n    },\n\n    _loadContent: function ($el, url, $target) {\n        var components = url.split(\"#\"),\n            base_url = components[0],\n            id = components[1] ? \"#\" + components[1] : \"body\",\n            opts = [\n                {\n                    url: base_url,\n                    source: id,\n                    $target: $target,\n                    dataType: \"html\",\n                },\n            ];\n        inject.execute(opts, $el);\n    },\n\n    // jQuery method to force loading of content.\n    loadContent: function ($el) {\n        return $el.each(\n            function (idx, el) {\n                if (this.options.loadContent)\n                    this._loadContent($(el), this.options.loadContent, this.$panel);\n            }.bind(this)\n        );\n    },\n\n    toggle: function () {\n        var new_state = this.$el.hasClass(\"closed\") ? \"open\" : \"closed\";\n        if (this.options.store !== \"none\") {\n            var storage = (this.options.store === \"local\" ? store.local : store.session)(\n                this.name\n            );\n            storage.set(this.$el.attr(\"id\"), new_state);\n        }\n        if (new_state === \"open\") {\n            this.$el.trigger(\"patterns-collapsible-open\");\n            this._transit(this.$el, \"closed\", \"open\");\n            this.debounce_scroll();\n        } else {\n            this.$el.trigger(\"patterns-collapsible-close\");\n            this._transit(this.$el, \"open\", \"closed\");\n        }\n        return this.$el; // allow chaining\n    },\n\n    async _scroll() {\n        const scroll_selector = this.options.scroll?.selector;\n        if (scroll_selector) {\n            const pat_scroll = (await import(\"../scroll/scroll\")).default;\n            const scroll = new pat_scroll(this.el, {\n                trigger: \"manual\",\n                selector: scroll_selector,\n                offset: this.options.scroll?.offset,\n            });\n            await scroll.smoothScroll();\n        }\n    },\n\n    _transit: async function ($el, from_cls, to_cls) {\n        if (to_cls === \"open\" && this.options.loadContent) {\n            this._loadContent($el, this.options.loadContent, this.$panel);\n        }\n        var duration =\n            this.options.transition === \"css\" || this.options.transition === \"none\"\n                ? null\n                : this.options.effect.duration;\n        if (!duration) {\n            this.$trigger\n                .removeClass(\"collapsible-\" + from_cls)\n                .addClass(\"collapsible-\" + to_cls);\n            $el.removeClass(from_cls).addClass(to_cls).trigger(\"pat-update\", {\n                pattern: \"collapsible\",\n                transition: \"complete\",\n            });\n        } else {\n            var t = this.transitions[this.options.transition];\n            $el.addClass(\"in-progress\").trigger(\"pat-update\", {\n                pattern: \"collapsible\",\n                transition: \"start\",\n            });\n            this.$trigger.addClass(\"collapsible-in-progress\");\n            await this.$panel[t[to_cls]](\n                duration,\n                this.options.effect.easing,\n                function () {\n                    this.$trigger\n                        .removeClass(\"collapsible-\" + from_cls)\n                        .removeClass(\"collapsible-in-progress\")\n                        .addClass(\"collapsible-\" + to_cls);\n                    $el.removeClass(from_cls)\n                        .removeClass(\"in-progress\")\n                        .addClass(to_cls)\n                        .trigger(\"pat-update\", {\n                            pattern: \"collapsible\",\n                            transition: \"complete\",\n                        });\n                }.bind(this)\n            ).promise();\n        }\n    },\n});\n","/**\n * Patterns pat-polyfill-colour - Polyfill for colour inputs.\n *\n * Copyright 2014 Marko Durkovic\n * Copyright 2014 Simplon B.V. - Wichert Akkerman\n */\nimport registry from \"../../core/registry\";\n\nvar _ = {\n    name: \"polyfill-color\",\n    trigger: \"input.pat-colour-picker,input.pat-color-picker\",\n    async init($el) {\n        await import(\"spectrum-colorpicker\");\n        if (window.__patternslib_import_styles) {\n            import(\"./_colour-picker.scss\");\n        }\n        return $el.spectrum({ preferredFormat: \"hex\" });\n    },\n};\n\nregistry.register(_);\nexport default _;\n","/* pat-date-picker  - Polyfill for input type=date */\nimport $ from \"jquery\";\nimport Base from \"../../core/base\";\nimport Parser from \"../../core/parser\";\nimport dom from \"../../core/dom\";\nimport events from \"../../core/events\";\nimport utils from \"../../core/utils\";\n\nexport const parser = new Parser(\"date-picker\");\nparser.addArgument(\"behavior\", \"styled\", [\"native\", \"styled\"]);\nparser.addArgument(\"week-numbers\", [], [\"show\", \"hide\"]);\nparser.addArgument(\"i18n\"); // URL pointing to JSON resource with i18n values\nparser.addArgument(\"first-day\", 0);\nparser.addArgument(\"after\");\nparser.addArgument(\"offset-days\", 0);\n\nparser.add_argument(\"output-format\", null);\nparser.add_argument(\"locale\", null);\n\nparser.addAlias(\"behaviour\", \"behavior\");\n\n/* JSON format for i18n\n * { \"previousMonth\": \"Previous Month\",\n *   \"nextMonth\"    : \"Next Month\",\n *   \"months\"       : [\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],\n *   \"weekdays\"     : [\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"],\n *   \"weekdaysShort\": [\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"]\n * } */\n\nexport default Base.extend({\n    name: \"date-picker\",\n    trigger: \".pat-date-picker\",\n    parser: parser,\n    format: \"YYYY-MM-DD\",\n\n    async init() {\n        const el = this.el;\n        const disabled = this.el.disabled;\n\n        //TODO: make parser with options extend missing options.\n        //this.options = parser.parse(el, opts);\n        this.options = $.extend(parser.parse(el), this.options);\n\n        if (!disabled && this.options.after) {\n            // Set the date depending on another date which must be ``offset-days``\n            // BEFORE this date. Only set it, if the other date is AFTER this\n            // date.\n            const befores = document.querySelectorAll(this.options.after);\n            for (const b_el of befores) {\n                b_el.addEventListener(\"change\", (e) => {\n                    let b_date = e.target.value; // the \"before-date\"\n                    b_date = b_date ? new Date(b_date) : null;\n                    if (!b_date) {\n                        return;\n                    }\n                    let a_date = this.el.value; // the \"after-date\"\n                    a_date = a_date ? new Date(a_date) : null;\n                    if (!a_date || a_date < b_date) {\n                        const offset = this.options.offsetDays || 0;\n                        b_date.setDate(b_date.getDate() + offset);\n                        this.el.value = b_date.toISOString().substring(0, 10);\n                        this.dispatch_change_event();\n                    }\n                });\n            }\n        }\n\n        let display_el;\n        if (this.options.behavior === \"styled\") {\n            dom.hide(el); // hide input, but keep active (e.g. for validation)\n\n            display_el = document.createElement(\"time\");\n            display_el.setAttribute(\"class\", \"output-field\");\n            display_el.setAttribute(\"datetime\", el.value);\n            if (disabled) {\n                display_el.classList.add(\"disabled\");\n            }\n            el.insertAdjacentElement(\"beforebegin\", display_el);\n\n            // Disable click on label, as this invokes a click on the invisible\n            // input field which opens the calendar in Firefox and masks a\n            // click on display_el on Chrome.\n            const label = display_el.closest(\"label\");\n            if (label) {\n                events.add_event_listener(\n                    label,\n                    \"click\",\n                    \"pat-date-picker--label\",\n                    (e) => {\n                        e.preventDefault();\n                    }\n                );\n            }\n\n            let display_el_pat;\n            if (this.options.outputFormat) {\n                const PatDisplayTime = (await import(\"../display-time/display-time\")).default; // prettier-ignore\n                const display_time_config = { format: this.format };\n                if (this.options.outputFormat) {\n                    display_time_config[\"output-format\"] = this.options.outputFormat;\n                }\n                if (this.options.locale) {\n                    display_time_config.locale = this.options.locale;\n                }\n                display_el_pat = new PatDisplayTime(display_el, display_time_config);\n            } else {\n                display_el.textContent = el.value;\n            }\n\n            $(display_el).on(\"init.display-time.patterns\", () =>\n                this.add_clear_button(display_el)\n            );\n\n            this.el.addEventListener(\"change\", () => {\n                display_el.setAttribute(\"datetime\", this.el.value);\n                if (display_el_pat) {\n                    display_el_pat.format();\n                } else {\n                    display_el.textContent = this.el.value;\n                }\n                this.add_clear_button(display_el);\n            });\n\n            if (disabled) {\n                // nothing else to do here...\n                return;\n            }\n        } else if (disabled) {\n            return;\n        } else if (utils.checkInputSupport(\"date\", \"invalid date\")) {\n            // behavior native with native support.\n            return;\n        } else if (el.getAttribute(\"type\") === \"date\") {\n            // behavior native but no native support.\n            // Fallback JS date picker with a text input field.\n            el.setAttribute(\"type\", \"text\");\n        }\n\n        if (window.__patternslib_import_styles) {\n            import(\"./_date-picker.scss\");\n        }\n        const Pikaday = (await import(\"pikaday\")).default;\n\n        const config = {\n            field: el,\n            trigger: display_el || el,\n            format: this.format,\n            firstDay: this.options.firstDay,\n            showWeekNumber: this.options.weekNumbers === \"show\",\n            onSelect: () => this.dispatch_change_event(),\n        };\n\n        if (el.getAttribute(\"min\")) {\n            config.minDate = new Date(el.getAttribute(\"min\"));\n        }\n        if (el.getAttribute(\"max\")) {\n            config.maxDate = new Date(el.getAttribute(\"max\"));\n        }\n\n        if (this.options.i18n) {\n            try {\n                const response = await fetch(this.options.i18n);\n                config.i18n = await response.json();\n            } catch {\n                console.error(\n                    `date-picker could not load i18n for ${this.options.i18n}`\n                );\n            }\n        }\n        this.pikaday = new Pikaday(config);\n    },\n\n    add_clear_button(el_append_to) {\n        if (!this.el.disabled && !this.el.required && this.el.value) {\n            // Add clear button\n            const clear_button = document.createElement(\"span\");\n            clear_button.setAttribute(\"class\", \"cancel-button\");\n            clear_button.addEventListener(\"click\", (e) => {\n                e.stopPropagation();\n                this.el.value = null;\n                this.dispatch_change_event();\n            });\n            el_append_to.appendChild(clear_button);\n        }\n    },\n\n    dispatch_change_event() {\n        const event = new Event(\"change\", {\n            bubbles: true,\n            cancelable: true,\n        });\n        // Set ``firedBy` to prevent pikaday to call it's own handler and land\n        // in an infinite loop.\n        event.firedBy = this.pikaday;\n        this.el.dispatchEvent(event);\n\n        // Also trigger input-change\n        $(this.el).trigger(\"input-change\");\n        $(this.el.form).trigger(\"input-change\");\n    },\n});\n","/* pat-datetime-picker  - Polyfill for input type=datetime-local */\nimport Base from \"../../core/base\";\nimport Parser from \"../../core/parser\";\nimport utils from \"../../core/utils\";\nimport dom from \"../../core/dom\";\n\nexport const parser = new Parser(\"datetime-picker\");\nparser.addArgument(\"format\", \"YYYY-MM-DD\");\nparser.addArgument(\"week-numbers\", [], [\"show\", \"hide\"]);\nparser.addArgument(\"i18n\"); // URL pointing to JSON resource with i18n values\nparser.addArgument(\"today\", \"Today\");\nparser.addArgument(\"clear\", \"Clear\");\nparser.addArgument(\"first-day\", 0);\n\nexport default Base.extend({\n    name: \"datetime-picker\",\n    trigger: \".pat-datetime-picker\",\n    parser: parser,\n    el_date: null,\n    el_time: null,\n\n    async init() {\n        const el = this.el;\n        this.options = parser.parse(this.el, this.options);\n\n        if (utils.checkInputSupport(\"datetime-local\", \"invalid date\")) {\n            return;\n        }\n\n        if (window.__patternslib_import_styles) {\n            import(\"./_datetime-picker.scss\");\n        }\n        const DatePicker = (await import(\"../date-picker/date-picker\")).default;\n\n        const value = this.el.value.split(\"T\");\n        const date_value = value[0] || \"\";\n        const time_value = value[1] || \"\";\n\n        const el_wrapper = document.createElement(\"div\");\n        el_wrapper.setAttribute(\"class\", \"pat-datetime-picker__wrapper\");\n\n        dom.hide(el);\n\n        // let the buttons be of type button otherwise they are submit buttons\n        const html_btn_now = `\n            <button type=\"button\" class=\"_btn _now\" title=\"${this.options.today}\">\n                <span class=\"_icon\"/>\n                <span class=\"_text\">${this.options.today}</span>\n            </button>`;\n        const html_btn_clear = `\n            <button type=\"button\" class=\"_btn _clear\" title=\"${this.options.clear}\">\n                <span class=\"_icon\"/>\n                <span class=\"_text\">${this.options.clear}</span>\n            </button>`;\n\n        el_wrapper.innerHTML = `\n            <input type=\"date\" placeholder=\"YYYY-MM-DD\" value=\"${date_value}\" />\n            <input type=\"time\" placeholder=\"hh:mm\" value=\"${time_value}\" />\n            ${this.options.today ? html_btn_now : \"\"}\n            ${this.options.clear ? html_btn_clear : \"\"}\n        `;\n\n        this.el_time = el_wrapper.querySelector(\"input[type=time]\");\n        this.el_time.addEventListener(\"change\", () => this.update());\n\n        this.el_date = el_wrapper.querySelector(\"input[type=date]\");\n        this.el_date.addEventListener(\"change\", () => {\n            if (!this.el_time.value) {\n                // Set time on date change, if time was empty.\n                this.el_time.value = this.isotime();\n            }\n            this.update();\n        });\n\n        const date_options = {\n            behavior: \"native\",\n            format: this.options.format,\n            weekNumbers: this.options.weekNumbers,\n            firstDay: this.options.firstDay,\n        };\n        await DatePicker.init(this.el_date, date_options);\n\n        if (this.options.today) {\n            const btn_now = el_wrapper.querySelector(\"._btn._now\");\n            btn_now.addEventListener(\"click\", (e) => {\n                e.preventDefault();\n                this.el_date.value = this.isodate();\n                this.el_time.value = this.isotime();\n                this.update();\n            });\n        }\n\n        if (this.options.clear) {\n            const btn_clear = el_wrapper.querySelector(\"._btn._clear\");\n            btn_clear.addEventListener(\"click\", (e) => {\n                e.preventDefault();\n                this.el_date.value = \"\";\n                this.el_time.value = \"\";\n                this.update();\n            });\n        }\n\n        // TODO: timezone\n        el.parentNode.insertBefore(el_wrapper, el);\n    },\n\n    update() {\n        if (this.el_date.value && this.el_time.value) {\n            this.el.value = `${this.el_date.value}T${this.el_time.value}`;\n        } else {\n            this.el.value = \"\";\n        }\n        this.el.dispatchEvent(new Event(\"change\", { bubbles: true, cancelable: true }));\n    },\n\n    isodate() {\n        const now = new Date();\n        return now.toISOString().substr(0, 10);\n    },\n\n    isotime() {\n        const now = new Date();\n        return now.toTimeString().substr(0, 5);\n    },\n});\n","import $ from \"jquery\";\nimport Base from \"../../core/base\";\nimport utils from \"../../core/utils\";\nimport logging from \"../../core/logging\";\nimport Parser from \"../../core/parser\";\n\nconst log = logging.getLogger(\"depends\");\n\nexport const parser = new Parser(\"depends\");\nparser.addArgument(\"condition\");\nparser.addArgument(\"action\", \"show\", [\"show\", \"enable\", \"both\"]);\nparser.addArgument(\"transition\", \"none\", [\"none\", \"css\", \"fade\", \"slide\"]);\nparser.addArgument(\"effect-duration\", \"fast\");\nparser.addArgument(\"effect-easing\", \"swing\");\n\nexport default Base.extend({\n    name: \"depends\",\n    trigger: \".pat-depends\",\n    jquery_plugin: true,\n\n    async init($el, opts) {\n        const DependsHandler = (await import(\"../../lib/dependshandler\")).default; // prettier-ignore\n\n        const dependent = this.$el[0];\n        const options = parser.parse(this.$el, opts);\n        this.$modal = this.$el.parents(\".pat-modal\");\n\n        let handler;\n        try {\n            handler = new DependsHandler(this.$el, options.condition);\n        } catch (e) {\n            log.error(\"Invalid condition: \" + e.message, dependent);\n            return;\n        }\n\n        let state = handler.evaluate();\n        switch (options.action) {\n            case \"show\":\n                utils.hideOrShow($el, state, options, this.name);\n                this.updateModal();\n                break;\n            case \"enable\":\n                if (state) this.enable();\n                else this.disable();\n                break;\n            case \"both\":\n                if (state) {\n                    utils.hideOrShow($el, state, options, this.name);\n                    this.updateModal();\n                    this.enable();\n                } else {\n                    utils.hideOrShow($el, state, options, this.name);\n                    this.updateModal();\n                    this.disable();\n                }\n                break;\n        }\n\n        const data = {\n            handler: handler,\n            options: options,\n            dependent: dependent,\n        };\n\n        for (let input of handler.getAllInputs()) {\n            if (input.form) {\n                let $form = $(input.form);\n                let dependents = $form.data(\"patDepends.dependents\");\n                if (!dependents) {\n                    dependents = [data];\n                    $form.on(\"reset.pat-depends\", () => this.onReset);\n                } else if (dependents.indexOf(data) === -1) dependents.push(data);\n                $form.data(\"patDepends.dependents\", dependents);\n            }\n            $(input).on(\"change.pat-depends\", null, data, this.onChange.bind(this));\n            $(input).on(\"keyup.pat-depends\", null, data, this.onChange.bind(this));\n        }\n    },\n\n    async onReset(event) {\n        const dependents = $(event.target).data(\"patDepends.dependents\");\n        await utils.timeout(50);\n        for (let dependent of dependents) {\n            event.data = dependent;\n            this.onChange(event);\n        }\n    },\n\n    updateModal() {\n        // If we're in a modal, make sure that it gets resized.\n        if (this.$modal.length) {\n            $(document).trigger(\"pat-update\", { pattern: \"depends\" });\n        }\n    },\n\n    enable() {\n        if (this.$el.is(\":input\")) {\n            this.$el[0].disabled = null;\n        } else if (this.$el.is(\"a\")) {\n            this.$el.off(\"click.patternDepends\");\n        }\n        if (this.$el.hasClass(\"pat-autosuggest\")) {\n            this.$el.findInclusive(\"input.pat-autosuggest\").trigger(\"pat-update\", {\n                pattern: \"depends\",\n                enabled: true,\n            });\n        }\n        this.$el.removeClass(\"disabled\");\n    },\n\n    disable() {\n        if (this.$el.is(\":input\")) {\n            this.$el[0].disabled = \"disabled\";\n        } else if (this.$el.is(\"a\")) {\n            this.$el.on(\"click.patternDepends\", (e) => e.preventDefault());\n        }\n        if (this.$el.hasClass(\"pat-autosuggest\")) {\n            this.$el.findInclusive(\"input.pat-autosuggest\").trigger(\"pat-update\", {\n                pattern: \"depends\",\n                enabled: false,\n            });\n        }\n        this.$el.addClass(\"disabled\");\n    },\n\n    onChange(event) {\n        const handler = event.data.handler;\n        const options = event.data.options;\n        const dependent = event.data.dependent;\n        const $depdendent = $(dependent);\n        const state = handler.evaluate();\n\n        switch (options.action) {\n            case \"show\":\n                utils.hideOrShow($depdendent, state, options, this.name);\n                this.updateModal();\n                break;\n            case \"enable\":\n                if (state) {\n                    this.enable();\n                } else {\n                    this.disable();\n                }\n                break;\n            case \"both\":\n                utils.hideOrShow($depdendent, state, options, this.name);\n                this.updateModal();\n                if (state) {\n                    this.enable();\n                } else {\n                    this.disable();\n                }\n                break;\n        }\n    },\n});\n","import Base from \"../../core/base\";\nimport Parser from \"../../core/parser\";\nimport dom from \"../../core/dom\";\nimport logging from \"../../core/logging\";\n\n// Lazy loading modules.\nlet Moment;\n\nconst log = logging.getLogger(\"pat-display-time\");\n\nexport const parser = new Parser(\"display-time\");\n// input datetime options\nparser.add_argument(\"format\", \"\");\nparser.add_argument(\"locale\", null);\nparser.add_argument(\"strict\", false);\n// output options\nparser.add_argument(\"from-now\", false);\nparser.add_argument(\"no-suffix\", false);\nparser.add_argument(\"output-format\", null);\n\nexport default Base.extend({\n    name: \"display-time\",\n    trigger: \".pat-display-time\",\n\n    async init() {\n        Moment = (await import(\"moment\")).default;\n\n        this.options = parser.parse(this.el, this.options);\n\n        let lang = this.options.locale || dom.acquire_attribute(this.el, \"lang\") || \"en\";\n        // we don't support any country-specific language variants, always use first 2 letters\n        lang = lang.substr(0, 2).toLowerCase();\n        try {\n            await import(`moment/locale/${lang}.js`);\n            Moment.locale(lang);\n        } catch {\n            Moment.locale(\"en\");\n        }\n        log.debug(`Moment.js language used: ${lang}.`);\n        this.format();\n    },\n\n    format() {\n        const datetime = this.el.getAttribute(\"datetime\");\n        let out = \"\";\n        if (datetime) {\n            const date = Moment(datetime, this.options.format, this.options.strict);\n            if (this.options.fromNow === true) {\n                out = date.fromNow(this.options.noSuffix);\n            } else {\n                out = date.format(this.options.outputFormat || undefined);\n            }\n        }\n        this.el.textContent = out;\n    },\n});\n","/**\n * equaliser - Equalise height of elements in a row\n *\n * Copyright 2013 Simplon B.V. - Wichert Akkerman\n */\nimport $ from \"jquery\";\nimport registry from \"../../core/registry\";\nimport Parser from \"../../core/parser\";\nimport utils from \"../../core/utils\";\n\nexport const parser = new Parser(\"equaliser\");\nparser.addArgument(\"transition\", \"none\", [\"none\", \"grow\"]);\nparser.addArgument(\"effect-duration\", \"fast\");\nparser.addArgument(\"effect-easing\", \"swing\");\n\nvar equaliser = {\n    name: \"equaliser\",\n    trigger: \".pat-equaliser, .pat-equalizer\",\n\n    async init($el, opts) {\n        const ImagesLoaded = (await import(\"imagesloaded\")).default;\n\n        return $el.each(function () {\n            var $container = $(this),\n                options = parser.parse($container, opts);\n            $container.data(\"pat-equaliser\", options);\n            $(window).on(\n                \"resize.pat-equaliser\",\n                null,\n                this,\n                utils.debounce(equaliser._onEvent, 100)\n            );\n            ImagesLoaded(\n                this,\n                $.proxy(function () {\n                    equaliser._update(this);\n                }, this)\n            );\n            const callback = utils.debounce(equaliser._update.bind(this), 100);\n            const observer = new MutationObserver(callback);\n            const config = {\n                childList: true,\n                subtree: true,\n                characterData: true,\n                attributes: true,\n            };\n            observer.observe(document.body, config);\n        });\n    },\n\n    _update: function (container) {\n        var $container = $(container),\n            options = $container.data(\"pat-equaliser\"),\n            $children = $container.children(),\n            max_height = 0;\n\n        for (var i = 0; i < $children.length; i++) {\n            var $child = $children.eq(i),\n                css = $child.css(\"height\"),\n                height;\n            $child.css(\"height\", \"\").removeClass(\"equalised\");\n            height = $child.height();\n            if (height > max_height) max_height = height;\n            if (css) $child.css(\"height\", css);\n        }\n\n        var new_css = { height: max_height + \"px\" };\n\n        switch (options && options.transition) {\n            case \"none\":\n                $children.css(new_css).addClass(\"equalised\");\n                break;\n            case \"grow\":\n                $children.animate(\n                    new_css,\n                    options.effect.duration,\n                    options.effect.easing,\n                    function () {\n                        $(this).addClass(\"equalised\");\n                    }\n                );\n                break;\n        }\n        $container.trigger(\"pat-update\", { pattern: \"equaliser\" });\n    },\n\n    _onEvent: function (event) {\n        if (typeof event.data !== \"undefined\") {\n            equaliser._update(event.data);\n        }\n    },\n};\n\nregistry.register(equaliser);\nexport default equaliser;\n","import $ from \"jquery\";\nimport inject from \"../inject/inject\";\nimport Parser from \"../../core/parser\";\nimport registry from \"../../core/registry\";\n\nexport const parser = new Parser(\"expandable\");\nparser.addArgument(\"load-content\");\n\nvar _ = {\n    name: \"expandable\",\n    trigger: \"ul.pat-expandable\",\n    jquery_plugin: true,\n    init: function ($el) {\n        // make sure inject folders have a ul\n        $el.find(\".folder[data-pat-expandable]:not(:has(ul))\").append(\"<ul />\");\n\n        // find all folders that contain a ul\n        var $folders = $el.find(\"li.folder:has(ul)\");\n\n        // inject span.toggle as first child of each folder\n        $folders.prepend(\"<span class='toggle'></span>\");\n\n        // all folders are implicitly closed\n        $folders.filter(\":not(.open,.closed)\").addClass(\"closed\");\n\n        // trigger open event for open folders\n        $folders.filter(\".open\").trigger(\"patterns-folder-open\");\n\n        // wire spans as control elements\n        var $ctrls = $el.find(\"span.toggle\");\n        $ctrls.each(function () {\n            var $ctrl = $(this),\n                $folder = $ctrl.parent();\n            $ctrl.on(\"click.pat-expandable\", function () {\n                $folder\n                    .toggleClass(\"open closed\")\n                    .filter(\".open[data-pat-expandable]\")\n                    .patExpandable(\"loadContent\");\n            });\n        });\n        return $el;\n    },\n    loadContent: function ($el) {\n        return $el.each(function () {\n            var $el = $(this),\n                url = parser.parse($el).loadContent,\n                components = url.split(\"#\"),\n                base_url = components[0],\n                id = components[1] ? \"#\" + components[1] : \"body\",\n                opts = [\n                    {\n                        url: base_url,\n                        source: id,\n                        $target: $el.find(\"ul\"),\n                        dataType: \"html\",\n                    },\n                ];\n            inject.execute(opts, $el);\n        });\n    },\n};\nregistry.register(_);\nexport default _;\n","/**\n * @license\n * Patterns @VERSION@ focus - Manage focus class on fieldsets\n *\n * Copyright 2012 Simplon B.V.\n */\n\nimport $ from \"jquery\";\nimport registry from \"../../core/registry\";\nimport utils from \"../../core/utils\";\n\nvar focus = {\n    name: \"focus\",\n\n    onNewContent: function () {\n        if ($(document.activeElement).is(\":input\"))\n            focus._doFocus(document.activeElement);\n    },\n\n    transform: function ($root) {\n        $root.find(\":input[placeholder]\").each(function (ix, el) {\n            var $relatives = utils.findRelatives(el);\n            if (el.placeholder) $relatives.attr(\"data-placeholder\", el.placeholder);\n        });\n        $root.find(\":input\").each(focus.onChange);\n    },\n\n    onFocus: function () {\n        focus._doFocus(this);\n    },\n\n    _updateHasValue: function (el) {\n        var $relatives = utils.findRelatives(el);\n        var hv = utils.hasValue(el);\n\n        if (hv) {\n            $relatives.addClass(\"has-value\").attr(\"data-value\", el.value);\n        } else {\n            $relatives\n                .filter(function (ix, e) {\n                    const inputs = $(\":input\", e);\n                    for (var i = 0; i < inputs.length; i++)\n                        if (utils.hasValue(inputs[i])) return false;\n                    return true;\n                })\n                .removeClass(\"has-value\")\n                .attr(\"data-value\", null);\n        }\n    },\n\n    _doFocus: function (el) {\n        var $relatives = utils.findRelatives(el);\n        $relatives.addClass(\"focus\");\n        this._updateHasValue($relatives);\n    },\n\n    onBlur: function () {\n        var $relatives = utils.findRelatives(this);\n\n        $(document).one(\"mouseup keyup\", function () {\n            $relatives.filter(\":not(:has(:input:focus))\").removeClass(\"focus\");\n        });\n    },\n\n    onChange: function () {\n        focus._updateHasValue(this);\n    },\n};\n\n$(document)\n    .on(\"focus.patterns\", \":input\", focus.onFocus)\n    .on(\"blur.patterns\", \":input\", focus.onBlur)\n    .on(\"newContent\", focus.onNewContent)\n    .on(\"change.pat-focus keyup.pat-focus\", \":input\", focus.onChange)\n    .on(\"input.pat-focus\", \":input[type=range]\", utils.debounce(focus.onChange, 50));\n\nregistry.register(focus);\nexport default focus;\n","import $ from \"jquery\";\nimport logging from \"../../core/logging\";\nimport registry from \"../../core/registry\";\nimport modal from \"../modal/modal\";\nimport input_change_events from \"../../lib/input-change-events\";\n\nvar log = logging.getLogger(\"form-state\");\n\nvar _ = {\n    name: \"form-state\",\n    trigger: \"form.pat-form-state\",\n    init: function ($form) {\n        if ($form.length > 1)\n            return $form.each(function () {\n                _.init($(this));\n            });\n\n        input_change_events.setup($form, _.name);\n\n        // XXX: hide reset buttons until we have proper handling for them\n        $form.find(\"[type=reset]\").hide();\n\n        _.setReset.call($form);\n\n        // remember initial state of the form and after\n        // successfull submission\n        $form.data(\"pat-ajax.state\", $form.serializeArray());\n        $form.on(\"pat-ajax-success\", _.saveState);\n\n        return $form;\n    },\n    saveState: function () {\n        var $form = $(this);\n        $form.data(\"pat-ajax.previous-state\", $form.data(\"pat-ajax.state\"));\n        $form.data(\"pat-ajax.state\", $form.serializeArray());\n        $form.trigger(\"pat-form-state-saved\");\n    },\n    setModified: function () {\n        var $form = $(this);\n\n        $form.find(\"[type=reset]\").prop(\"disabled\", false);\n        $form.find(\"[type=submit]\").prop(\"disabled\", false);\n\n        $form\n            .addClass(\"modified\")\n            .off(\".pat-form-state\")\n            .one(\"reset.pat-form-state\", _.setReset)\n            .one(\"pat-ajax-error.pat-form-state\", _.setError)\n            .one(\"pat-ajax-success.pat-form-state\", _.setSaved);\n        log.debug(\"modified\");\n    },\n    setReset: function () {\n        var $form = $(this);\n\n        // hide only if form has changeable inputs\n        if (\n            $form\n                .find(\n                    ':input[type!=\"hidden\"][type!=\"submit\"]' +\n                        '[type!=\"reset\"][type!=button]'\n                )\n                .not(\"button\").length\n        ) {\n            $form.find(\"[type=reset]\").prop(\"disabled\", true);\n            $form.find(\"[type=submit]\").prop(\"disabled\", true);\n        }\n\n        $form\n            .removeClass(\"modified\")\n            .off(\".pat-form-state\")\n            .one(\"input-change.pat-form-state\", _.setModified);\n        log.debug(\"reset\");\n    },\n    setError: function (event) {\n        var msg = [event.jqxhr.status, event.jqxhr.statusText].join(\" \");\n        modal.init(\n            $(\n                \"<div class='pat-modal small'>\" +\n                    \"<h3>Error</h3>\" +\n                    \"<div class='wizard-box'>\" +\n                    \"<div class='panel-body'>\" +\n                    \"<p>A server error has occured.</p>\" +\n                    \"<p>The error message is: <strong>\" +\n                    msg +\n                    \"</strong>.</p>\" +\n                    \"</div>\" +\n                    \"<div class='buttons panel-footer'>\" +\n                    \"<button class='close-panel'>Ok</button>\" +\n                    \"</div>\" +\n                    \"</div>\" +\n                    \"</div>\"\n            ).appendTo($(\"body\"))\n        );\n    },\n    setSaved: function (event) {\n        if (event.target !== this) return;\n\n        var $form = $(this);\n        _.setReset.call($form);\n\n        var time = new Date(),\n            timestr =\n                time.getHours() + \":\" + time.getMinutes() + \":\" + time.getSeconds();\n        $form.find(\"time.last-saved\").remove();\n        $form.prepend(\n            \"<time class='last-saved' datetime='\" + timestr + \"'>\" + timestr + \"</time>\"\n        );\n\n        $form.addClass(\"saved\");\n    },\n};\nregistry.register(_);\n\nexport default _;\n","// Patterns forward - Forward click events\nimport Base from \"../../core/base\";\nimport Parser from \"../../core/parser\";\nimport utils from \"../../core/utils\";\n\nexport const parser = new Parser(\"forward\");\nparser.addArgument(\"selector\");\nparser.addArgument(\"trigger\", \"click\", [\"click\", \"auto\"]);\nparser.addArgument(\"delay\");\n\nexport default Base.extend({\n    name: \"forward\",\n    trigger: \".pat-forward\",\n    skip: false,\n\n    init() {\n        this.options = parser.parse(this.el, this.options);\n        if (!this.options.selector) {\n            return;\n        }\n        if (this.options.delay) {\n            this.options.delay = utils.parseTime(this.options.delay);\n        }\n\n        this.el.addEventListener(\"click\", this.on_click.bind(this));\n        if (this.options.trigger === \"auto\") {\n            this.el.click();\n        }\n    },\n\n    async on_click(event) {\n        if (this.skip) {\n            this.skip = false;\n            return;\n        }\n        event.preventDefault();\n        event.stopPropagation();\n        if (this.options.delay) {\n            await utils.timeout(this.options.delay);\n        }\n        let targets;\n        if (this.options.selector === \"self\") {\n            this.skip = true;\n            targets = [this.el];\n        } else {\n            targets = document.querySelectorAll(this.options.selector);\n        }\n        for (const el of targets) {\n            el.click();\n        }\n    },\n});\n\n// Notes:\n//\n// We're using `ELEMENT.click()` instead of\n// `ELEMENT.dispatchEvent(new Event(\"click\"))`.\n// The latter doesn't get recognized by jQuery and does not invoke the default\n// action on an <a href> element.\n//\n","import Base from \"../../core/base\";\n\nexport default Base.extend({\n    name: \"fullscreen-close\",\n    trigger: \".close-fullscreen\",\n    async init() {\n        const Screenfull = (await import(\"screenfull\")).default;\n\n        this.$el[0].addEventListener(\"click\", function () {\n            // no prevent-default nor stop propagation to let\n            // the button also do other stuff.\n            Screenfull.exit();\n        });\n    },\n});\n","import Base from \"../../core/base\";\nimport Parser from \"../../core/parser\";\nimport logging from \"../../core/logging\";\n\n// Lazy loading modules.\nlet Screenfull;\n\nconst log = logging.getLogger(\"fullscreen\");\n\nexport const parser = new Parser(\"fullscreen\");\nparser.addArgument(\"selector\", null); // Selector for the fullscreen element.\nparser.addArgument(\"close-button\", \"none\", [\"none\", \"show\"]); // Inject a fullscreen button.\n\n/*\nclass Fullscreen extends Base {\n    __constructor__()\n}\n*/\n\nexport default Base.extend({\n    name: \"fullscreen\",\n    trigger: \".pat-fullscreen\",\n\n    async init($el, opts) {\n        Screenfull = (await import(\"screenfull\")).default;\n\n        this.options = parser.parse(this.$el, opts);\n        //const el = this.$el[0];\n        //el.addEventListener('click', function (e) {  // TODO: doesn't work in karma for href links\n        this.$el.on(\"click\", this.fullscreen_handler.bind(this));\n    },\n\n    fullscreen_handler(event) {\n        event.preventDefault();\n        const el = this.$el[0];\n        // querying the fullscreen element fs_el and inside the event\n        // handler instead of outside allows for dynamic injecting\n        // fullscreen elements even after pattern initialization.\n        let fs_el_sel = this.options.selector\n            ? this.options.selector\n            : el.getAttribute(\"href\");\n        fs_el_sel = fs_el_sel ? fs_el_sel : \"body\";\n        const fs_el = document.querySelector(fs_el_sel);\n        if (fs_el) {\n            // setting page to fullscreen\n            Screenfull.request(fs_el);\n            if (this.options.closeButton === \"show\") {\n                this.setup_exit_button(fs_el);\n            }\n        } else {\n            log.error(\"No fullscreen element found.\");\n        }\n    },\n\n    setup_exit_button(fs_el) {\n        // setting up the exit button\n        let exit_el = null;\n        if (this.options.closeButton === \"show\") {\n            exit_el = document.createElement(\"button\");\n            exit_el.className = \"pat-fullscreen-close-fullscreen\";\n            exit_el.title = \"Exit fullscreen\";\n            exit_el.appendChild(document.createTextNode(\"Exit fullscreen\"));\n            exit_el.addEventListener(\"click\", (e) => {\n                e.preventDefault();\n                Screenfull.exit();\n            });\n        }\n        fs_el.appendChild(exit_el);\n        Screenfull.on(\"change\", () => {\n            // Removing exit button.\n            // The button is also removed when pressing the <ESC> button.\n            if (!Screenfull.isFullscreen) {\n                fs_el.removeChild(exit_el);\n            }\n        });\n    },\n});\n","// pat-gallery - A gallery pattern.\nimport Base from \"../../core/base\";\nimport Parser from \"../../core/parser\";\nimport dom from \"../../core/dom\";\nimport events from \"../../core/events\";\nimport logging from \"../../core/logging\";\nimport utils from \"../../core/utils\";\n\nconst log = logging.getLogger(\"pat.gallery\");\n\nexport const parser = new Parser(\"gallery\");\nparser.addArgument(\"item-selector\", \"a\"); // selector for anchor element, which is added to the gallery.\nparser.addArgument(\"loop\", true);\nparser.addArgument(\"scale-method\", \"fit\", [\"fit\", \"fitNoUpscale\", \"zoom\"]);\nparser.addArgument(\"delay\", 30000);\nparser.addArgument(\"effect-duration\", 250);\n\nlet PhotoSwipe;\nlet PhotoSwipeUI;\n\nexport default Base.extend({\n    name: \"gallery\",\n    trigger: \".pat-gallery\",\n    orig_body_overflow: \"auto\",\n\n    images: [],\n\n    async init() {\n        if (window.__patternslib_import_styles) {\n            import(\"photoswipe/dist/photoswipe.css\");\n            import(\"photoswipe/dist/default-skin/default-skin.css\");\n        }\n        PhotoSwipe = (await import(\"photoswipe\")).default;\n        PhotoSwipeUI = (await import(\"photoswipe/dist/photoswipe-ui-default\")).default; // prettier-ignore\n\n        this.options = parser.parse(this.el, this.options);\n\n        this.template = await this.get_template();\n\n        const gallery_observer = new MutationObserver(\n            this.initialize_trigger.bind(this)\n        );\n        gallery_observer.observe(this.el, {\n            subtree: true,\n            childList: true,\n        });\n\n        this.initialize_trigger();\n    },\n\n    async get_template() {\n        // Check for already defined templates.\n        let template = document.querySelector(\n            \".pat-gallery__template-wrapper, #photoswipe-template\"\n        );\n        // Otherwise, use default template.\n        if (!template) {\n            const raw_template = (await import(\"./template.html\")).default;\n            template = document.createElement(\"div\");\n            template.setAttribute(\"class\", \"pat-gallery__template-wrapper\");\n            template.setAttribute(\"hidden\", \"\");\n            template.innerHTML = raw_template;\n            document.body.appendChild(template);\n        }\n        return template;\n    },\n\n    initialize_trigger() {\n        const image_wrapper_els = dom.querySelectorAllAndMe(\n            this.el,\n            this.options.itemSelector\n        );\n        this.images = [...image_wrapper_els].map((it) => {\n            events.add_event_listener(\n                it,\n                \"click\",\n                \"pat-gallery--image_handler\",\n                this.initialize_gallery.bind(this)\n            );\n\n            const src =\n                it.getAttribute(\"href\") ||\n                it.getAttribute(\"src\") ||\n                it.querySelector(\"img\")?.getAttribute(\"src\");\n            const title =\n                it.getAttribute(\"title\") ||\n                it.querySelector(\"img\")?.getAttribute(\"title\");\n\n            return {\n                w: 0,\n                h: 0,\n                src: src,\n                title: title,\n            };\n        });\n    },\n\n    initialize_gallery(e) {\n        const trigger_el = e.currentTarget;\n\n        this.template.removeAttribute(\"hidden\");\n\n        const pswp_el = dom.querySelectorAllAndMe(this.template, \".pswp\")?.[0];\n        if (!pswp_el) {\n            log.warn(\"No photoswipe template found.\");\n        }\n\n        // Now - when all is set - prevent default action.\n        e.preventDefault();\n\n        const index =\n            this.images\n                .map((it) => it.src)\n                .indexOf(\n                    trigger_el.getAttribute(\"href\") || trigger_el.getAttribute(\"src\")\n                ) || 0;\n\n        const options = {\n            // Get the index of the clicked gallery item in the list of images.\n            index: index,\n            scaleMode: this.options.scaleMethod,\n            loop: this.options.loop,\n            slideshowDelay: this.options.delay,\n            hideAnimationDuration: this.options.effectDuration,\n            showAnimationDuration: this.options.effectDuration,\n            pinchToClose: false,\n            closeOnScroll: false,\n            // Fix reload on gallery close which was induced by a history back call.\n            history: false,\n        };\n\n        const gallery = new PhotoSwipe(pswp_el, PhotoSwipeUI, this.images, options);\n\n        const gallery_reinit_sizes_debouncer = utils.debounce(() => {\n            gallery.updateSize(true); // reinit Items\n        }, 50);\n\n        gallery.listen(\"gettingData\", function (index, item) {\n            // Workaround for the fact that we don't know the image sizes.\n            // https://github.com/dimsemenov/PhotoSwipe/issues/796\n            if (item.w < 1 || item.h < 1) {\n                // unknown size\n                const img = new Image();\n                img.onload = (_e) => {\n                    const img_el = _e.target;\n                    // will get size after load\n                    item.w = img_el.width; // set image width\n                    item.h = img_el.height; // set image height\n                    item.needsUpdate = true;\n                    gallery_reinit_sizes_debouncer(); // debounce to not land in a re-init loop.\n                };\n                img.src = item.src; // let's download image\n            }\n        });\n\n        gallery.listen(\"initialZoomInEnd\", () => {\n            // don't show body scrollbars when overlay is open\n            this.orig_body_overflow = dom.get_css_value(document.body, \"overflow\");\n            document.body.style.overflow = \"hidden\";\n        });\n\n        gallery.listen(\"destroy\", () => {\n            // show original overlay value on body after closing\n            document.body.style.overflow = this.orig_body_overflow;\n            this.template.setAttribute(\"hidden\", \"\");\n        });\n\n        gallery.init();\n    },\n});\n","import $ from \"jquery\";\nimport logging from \"../../core/logging\";\nimport Parser from \"../../core/parser\";\nimport registry from \"../../core/registry\";\n\nconst log = logging.getLogger(\"pat.image-crop\");\n\nexport const parser = new Parser(\"image-crop\");\nparser.addArgument(\"preview-id\", \"\");\nparser.addArgument(\"preview-height\", 0);\nparser.addArgument(\"preview-width\", 0);\nparser.addArgument(\"aspect-ratio\", 1);\nparser.addArgument(\"form-id\", \"\");\nparser.addArgument(\"initial-sel\", \"0 0 0 0\");\nparser.addArgument(\"min-size\", \"0 0\");\nparser.addArgument(\"max-size\", \"0 0\");\nparser.addArgument(\"input-prefix\", \"\");\n\nvar _ = {\n    name: \"image-crop\",\n    trigger: \"img.pat-image-crop\",\n    bounds: [0, 0],\n    inputNames: [\"x1\", \"y1\", \"x2\", \"y2\", \"w\", \"h\"],\n\n    async init($el, options) {\n        await import(\"jquery-jcrop\");\n\n        // initialize the elements\n        return $el.each(function () {\n            var $this = $(this),\n                opts = parser.parse($this, options),\n                data = {};\n\n            // Initialize the preview parameters\n            if (opts.preview.id.length === 0) data.preview = false;\n            else {\n                data.preview = {};\n                data.preview.element = $(opts.preview.id);\n                if (data.preview.element.length === 0) {\n                    log.error(\"Invalid preview element ID supplied: \" + opts.preview.id);\n                    return;\n                }\n                if (opts.previewWidth > 0 && opts.preview.height > 0) {\n                    data.preview.width = opts.preview.width;\n                    data.preview.height = opts.preview.height;\n                } else {\n                    data.preview.width = data.preview.element.parent().width();\n                    data.preview.height = data.preview.element.parent().height();\n                }\n            }\n\n            // Set the form ID\n            if (opts.formId.length === 0) {\n                // no form ID supplied. Look for the closest parent form element\n                data.form = $this.closest(\"form\");\n                if (data.form.length === 0) {\n                    log.error(\"No form specified or found\");\n                    return;\n                }\n            } else {\n                data.form = $(opts.formId);\n                if (data.form.length === 0) {\n                    log.error(\"Invalid form ID supplied: \" + opts.formId);\n                }\n            }\n\n            // Setup form inputs\n            data.prefix = opts.inputPrefix;\n            data.inputs = {};\n            for (var i = 0; i < _.inputNames.length; i++)\n                data.inputs[_.inputNames[i]] = _._setupInput(\n                    data.form,\n                    data.prefix,\n                    _.inputNames[i]\n                );\n\n            //\n            // Initial coordinates\n            //\n            var ic = _._parseOpt(opts.initialSel);\n            if (ic.length !== 4) log.warn(\"Invalid coordinates for initial selection\");\n            else if (ic[2] - ic[0] > 0 && ic[3] - ic[1] > 0) data.initialCoords = ic;\n\n            data.aspectRatio = opts.aspectRatio;\n            data.minSize = _._parseOpt(opts.minSize);\n            data.maxSize = _._parseOpt(opts.maxSize);\n\n            var handler = function (c) {\n                _.onSelect(c, data);\n            };\n\n            $this.Jcrop(\n                {\n                    onChange: handler,\n                    onSelect: handler,\n                    onRelease: handler,\n                    aspectRatio: data.aspectRatio,\n                    setSelect: data.initialCoords,\n                    minSize: data.minSize,\n                    maxSize: data.maxSize,\n                },\n                function () {\n                    data.api = this;\n                    _.onSelect(this.tellSelect(), data);\n                }\n            );\n        });\n    },\n\n    _setupInput: function ($form, prefix, name) {\n        var input = $form.find(\"input[name=\" + prefix + name + \"]\");\n        if (input.length === 0)\n            input = $('<input type=\"hidden\" name=\"' + prefix + name + '\" />').appendTo(\n                $form\n            );\n        return input;\n    },\n\n    _parseOpt: function (val) {\n        var ret = val\n            .replace(/\\s{2,}/g, \" \")\n            .trim()\n            .split(\" \");\n        for (var i = 0; i < ret.length; i++) ret[i] = parseInt(ret[i], 10);\n        return ret;\n    },\n\n    onSelect: function (c, data) {\n        if (data.preview) _.updatePreview(c, data);\n        _.updateInputs(c, data);\n    },\n\n    updatePreview: function (c, data) {\n        if (!data.api) return;\n        if (parseInt(c.w, 10) > 0) {\n            var rx = data.preview.width / c.w,\n                ry = data.preview.height / c.h,\n                bounds = data.api.getBounds();\n\n            data.preview.element.css({\n                width: Math.round(rx * bounds[0]) + \"px\",\n                height: Math.round(ry * bounds[1]) + \"px\",\n                marginLeft: \"-\" + Math.round(rx * c.x) + \"px\",\n                marginTop: \"-\" + Math.round(ry * c.y) + \"px\",\n            });\n        }\n    },\n\n    updateInputs: function (c, data) {\n        if (c && c.w && parseInt(c.w, 10) > 0) {\n            data.inputs.x1.attr(\"value\", c.x);\n            data.inputs.y1.attr(\"value\", c.y);\n            data.inputs.x2.attr(\"value\", c.x2);\n            data.inputs.y2.attr(\"value\", c.y2);\n            data.inputs.w.attr(\"value\", c.w);\n            data.inputs.h.attr(\"value\", c.h);\n        }\n    },\n};\n\nregistry.register(_);\nexport default _;\n","import $ from \"jquery\";\nimport registry from \"../../core/registry\";\nimport utils from \"../../core/utils\";\nimport dom from \"../../core/dom\";\n\nvar legend = {\n    name: \"legend\",\n    trigger: \"legend\",\n\n    _convertToIframes: function ($root) {\n        $root.findInclusive(\"object[type='text/html']\").each(function () {\n            var $object = $(this),\n                $iframe = $(\"<iframe allowtransparency='true'/>\");\n\n            $iframe\n                .attr(\"id\", $object.attr(\"id\"))\n                .attr(\"class\", $object.attr(\"class\"))\n                .attr(\"src\", $object.attr(\"data\"))\n                .attr(\"frameborder\", \"0\")\n                .attr(\"style\", \"background-color:transparent\");\n            $object.replaceWith($iframe);\n        });\n    },\n\n    transform: function ($root) {\n        const root = utils.jqToNode($root);\n        const all = dom.querySelectorAllAndMe(root, \"legend:not(.disable-patterns)\");\n        for (const el of all) {\n            $(el).replaceWith(\"<p class='legend'>\" + $(el).html() + \"</p>\");\n        }\n    },\n};\nregistry.register(legend);\nexport default legend;\n","/**\n * Patternslib pattern for Masonry\n * Copyright 2015 Syslab.com GmBH\n */\nimport $ from \"jquery\";\nimport logging from \"../../core/logging\";\nimport Parser from \"../../core/parser\";\nimport Base from \"../../core/base\";\nimport utils from \"../../core/utils\";\n\n// Lazy loading modules.\nlet Masonry;\n\nconst log = logging.getLogger(\"pat.masonry\");\n\nexport const parser = new Parser(\"masonry\");\n// parser.addArgument(\"stagger\", \"\");\nparser.addArgument(\"column-width\");\nparser.addArgument(\"container-style\", '{ \"position\": \"relative\" }');\nparser.addArgument(\"gutter\");\nparser.addArgument(\"is-fit-width\", false);\nparser.addArgument(\"is-horizontal-order\", false); // preserve horizontal order.\nparser.addArgument(\"is-origin-left\", true);\nparser.addArgument(\"is-origin-top\", true);\nparser.addArgument(\"is-percent-position\", false); // set item positions in percent values. items will not transition on resize.\nparser.addArgument(\"is-resize\", true); // adjust sizes and position on resize.\nparser.addArgument(\"item-selector\", \".item\");\nparser.addArgument(\"stamp\", \"\");\nparser.addArgument(\"transition-duration\", \"0.4s\");\n\n// is-* are masonry v3 options, here we add v4 style names.\n// we keep the is-* as there is special support with options parsing.\nparser.addAlias(\"fit-width\", \"is-fit-width\");\nparser.addAlias(\"origin-left\", \"is-origin-left\");\nparser.addAlias(\"origin-top\", \"is-origin-top\");\nparser.addAlias(\"horizontal-order\", \"is-horizontal-order\");\nparser.addAlias(\"percent-position\", \"is-percent-position\");\nparser.addAlias(\"resize\", \"is-resize\");\n\nexport default Base.extend({\n    name: \"masonry\",\n    trigger: \".pat-masonry\",\n\n    async init($el, opts) {\n        Masonry = (await import(\"masonry-layout\")).default;\n        const ImagesLoaded = (await import(\"imagesloaded\")).default;\n\n        this.options = parser.parse(this.$el, opts);\n        // Initialize\n        this.initMasonry();\n\n        const imgLoad = await ImagesLoaded(this.$el);\n        imgLoad.on(\n            \"progress\",\n            function () {\n                if (!this.msnry) {\n                    this.initMasonry();\n                }\n                this.quicklayout();\n            }.bind(this)\n        );\n        imgLoad.on(\n            \"always\",\n            function () {\n                if (!this.msnry) {\n                    this.initMasonry();\n                }\n                this.layout();\n            }.bind(this)\n        );\n\n        // Update if something gets injected inside the pat-masonry\n        this.$el\n            .on(\n                \"patterns-injected.pat-masonry\",\n                utils.debounce(this.update.bind(this), 100)\n            )\n            .on(\"pat-update\", utils.debounce(this.quicklayout.bind(this), 200));\n\n        var callback = utils.debounce(this.quicklayout.bind(this), 400);\n        var observer = new MutationObserver(callback);\n        /* Explicitly not including style. We assume style is set dynamically only by scripts and we do all our controlled changes through classes.\n           That way we avoid masonry to react on its own style calculation */\n        var config = {\n            childList: true,\n            subtree: true,\n            characterData: false,\n            attributeOldValue: true,\n            attributes: true,\n            attributeFilter: [\"class\"],\n        };\n        observer.observe(document.body, config);\n    },\n\n    async initMasonry() {\n        var containerStyle;\n        try {\n            containerStyle = JSON.parse(this.options.containerStyle);\n        } catch (e) {\n            containerStyle = { position: \"relative\" };\n            log.warn(\n                \"Invalid value passed in as containerStyle. Needs to \" +\n                    \"be valid JSON so that it can be converted to an object for Masonry.\"\n            );\n        }\n        this.msnry = new Masonry(this.$el[0], {\n            columnWidth: this.getTypeCastedValue(this.options.columnWidth),\n            containerStyle: containerStyle,\n            fitWidth: this.options.is[\"fit-width\"],\n            gutter: this.getTypeCastedValue(this.options.gutter),\n            horizontalOrder: this.options.is[\"horizontal-order\"],\n            initLayout: false,\n            itemSelector: this.options.itemSelector,\n            originLeft: this.options.is[\"origin-left\"],\n            originTop: this.options.is[\"origin-top\"],\n            percentPosition: this.options.is[\"percent-position\"],\n            resize: this.options.is[\"resize\"],\n            stamp: this.options.stamp,\n            transitionDuration: this.options.transitionDuration,\n        });\n    },\n\n    update: function () {\n        this.msnry.remove();\n        this.initMasonry();\n        this.layout();\n    },\n\n    quicklayout: function () {\n        if (!this.msnry) {\n            // Not initialized yet\n            return;\n        }\n        // call masonry layout on the children before calling it on this element\n        this.$el.find(\".pat-masonry\").each(function (idx, child) {\n            $(child).patMasonry(\"quicklayout\");\n        });\n        this.msnry.layout();\n    },\n\n    layout: function () {\n        this.$el.removeClass(\"masonry-ready\");\n        this.msnry.on(\n            \"layoutComplete\",\n            function () {\n                this.$el.addClass(\"masonry-ready\");\n            }.bind(this)\n        );\n        this.msnry.layout();\n        this.quicklayout();\n    },\n\n    getTypeCastedValue: function (original) {\n        var val = Number(original);\n        return isNaN(val) ? original || 0 : val;\n    },\n});\n","import $ from \"jquery\";\nimport Base from \"../../core/base\";\nimport Parser from \"../../core/parser\";\n\nexport const parser = new Parser(\"fullscreen\");\nparser.addArgument(\"nav-item-selector\", \"li\"); // CSS Selector for navigation items.\n\nexport default Base.extend({\n    name: \"menu\",\n    trigger: \".pat-menu\",\n\n    timer: null,\n\n    init: function ($el, opts) {\n        this.options = parser.parse(this.$el, opts);\n        var self = this;\n        $el.find(this.options.navItemSelector).each(function () {\n            var $it = $(this);\n            $it.addClass(\"closed\")\n                .on(\"mouseover\", self.mouseOverHandler.bind(self))\n                .on(\"mouseout\", self.mouseOutHandler.bind(self));\n            if ($it.children(self.options.navItemSelector).length > 0) {\n                $it.addClass(\"hasChildren\");\n            }\n        });\n    },\n\n    openMenu: function (it) {\n        if (this.timer) {\n            clearTimeout(this.timer);\n            this.timer = null;\n        }\n        it = $(it);\n        if (!it.hasClass(\"open\")) {\n            it.siblings(\".open\").each(\n                function () {\n                    this.closeMenu(this.$el);\n                }.bind(this)\n            );\n            it.addClass(\"open\").removeClass(\"closed\");\n        }\n    },\n\n    closeMenu: function (it) {\n        $(it).find(\".open\").addBack().removeClass(\"open\").addClass(\"closed\");\n    },\n\n    mouseOverHandler: function (ev) {\n        this.openMenu(ev.target);\n    },\n\n    mouseOutHandler: function (ev) {\n        if (this.timer) {\n            clearTimeout(this.timer);\n            this.timer = null;\n        }\n        this.timer = setTimeout(\n            function () {\n                this.closeMenu(ev.target);\n            }.bind(this),\n            1000\n        );\n    },\n});\n","import $ from \"jquery\";\nimport Base from \"../../core/base\";\nimport Parser from \"../../core/parser\";\nimport dom from \"../../core/dom\";\nimport events from \"../../core/events\";\nimport inject from \"../inject/inject\";\nimport registry from \"../../core/registry\";\nimport utils from \"../../core/utils\";\n\n// Initialize close-panel functionality.\nimport \"../close-panel/close-panel\";\n\nexport const parser = new Parser(\"modal\");\nparser.addArgument(\"class\");\nparser.addArgument(\"closing\", [\"close-button\"], [\"close-button\", \"outside\"], true);\nparser.addArgument(\"close-text\", \"Close\");\nparser.addArgument(\"panel-header-content\", \":first:not(.header)\");\nparser.addArgument(\"source\", null); // If not given, the href should specify the source via a url fragment.\nparser.addArgument(\"target\", \"#pat-modal\");\n\nexport default Base.extend({\n    name: \"modal\",\n    jquery_plugin: true,\n    // div's are turned into modals\n    // links, forms and subforms inject modals\n    trigger: \"div.pat-modal, a.pat-modal, form.pat-modal, .pat-modal.pat-subform\",\n\n    init($el, opts, trigger) {\n        if (window.__patternslib_import_styles) {\n            import(\"./_modal.scss\");\n        }\n\n        this.options = parser.parse(this.$el, opts);\n        if (trigger && trigger.type === \"injection\") {\n            $.extend(this.options, parser.parse($(trigger.element), {}, false, false));\n        }\n        if (this.$el.is(\"div\")) {\n            this._init_div1();\n        } else {\n            this._init_inject1();\n        }\n    },\n\n    _init_inject1() {\n        // This will get remote content via pat-inject, add the pat-modal class\n        // to the result and pat-inject's pattern scanning will then call\n        // ``_init_div1``.\n\n        const opts = {\n            ...(this.options.source && { source: this.options.source }),\n            target: this.options.target,\n            class:\n                \"pat-modal\" + (this.options[\"class\"] ? \" \" + this.options[\"class\"] : \"\"),\n        };\n        if (this.options.url) {\n            opts.url = this.options.url;\n        }\n        if (this.options.trigger) {\n            opts.trigger = this.options.trigger;\n        }\n\n        // if $el is already inside a modal, do not detach #pat-modal,\n        // because this would unnecessarily close the modal itself\n        if (!this.$el.closest(\"#pat-modal\")) {\n            $(\"#pat-modal\").detach();\n        }\n        this.$el.on(\"pat-inject-missingSource pat-inject-missingTarget\", () => {\n            $(\"#pat-modal\").detach();\n        });\n\n        inject.init(this.$el, opts);\n    },\n\n    _init_div1() {\n        // This is always called and will inject the modal in the page.\n\n        const header = document.createElement(\"div\");\n        header.setAttribute(\"class\", \"header\");\n\n        if (this.options.closing.indexOf(\"close-button\") !== -1) {\n            header.innerHTML = `<button type=\"button\" class=\"close-panel\">${this.options.closeText}</button>`;\n            registry.scan(header, [\"close-panel\"]); // initialize close-panel\n        }\n\n        // We cannot handle text nodes here\n        let $children;\n        if (this.options.panelHeaderContent === \"none\") {\n            $children = this.$el.children();\n        } else {\n            $children = this.$el.children(\n                \":last, :not(\" + this.options.panelHeaderContent + \")\"\n            );\n        }\n\n        if ($children.length) {\n            $children.wrapAll(\"<div class='panel-content' />\");\n        } else {\n            this.$el.append(\"<div class='panel-content' />\");\n        }\n        this.$el.children(\".panel-content\").before(header);\n        this.$el.children(this.options.panelHeaderContent).prependTo(header);\n\n        // Restore focus in case the active element was a child of $el and\n        // the focus was lost during the wrapping.\n        // Only if we have an activeElement, as IE10/11 can have undefined as activeElement\n        if (document.activeElement) {\n            document.activeElement.focus();\n        }\n\n        this._init_handlers();\n        this.resize();\n        this.setPosition();\n\n        $(\"body\").addClass(\"modal-active\");\n        this.el.dispatchEvent(\n            new Event(\"pat-modal-ready\", { bubbles: true, cancelable: true })\n        );\n    },\n\n    _init_handlers() {\n        this.el.classList.add(\"has-close-panel\");\n        dom.set_data(this.el, \"close_panel\", this._close_handler.bind(this));\n\n        $(document).on(\"keyup.pat-modal\", this._onKeyUp.bind(this));\n        if (this.options.closing.indexOf(\"outside\") !== -1) {\n            $(document).on(\"click.pat-modal\", this._onPossibleOutsideClick.bind(this));\n        }\n        $(window).on(\n            \"resize.pat-modal-position\",\n            utils.debounce(this.resize.bind(this), 400)\n        );\n        $(document).on(\n            \"pat-inject-content-loaded.pat-modal-position\",\n            \"#pat-modal\",\n            utils.debounce(this.resize.bind(this), 400)\n        );\n        $(document).on(\n            \"patterns-injected.pat-modal-position\",\n            \"#pat-modal,div.pat-modal\",\n            utils.debounce(this.resize.bind(this), 400)\n        );\n        $(document).on(\n            \"pat-update.pat-modal-position\",\n            \"#pat-modal,div.pat-modal\",\n            utils.debounce(this.resize.bind(this), 50)\n        );\n    },\n\n    _onPossibleOutsideClick(ev) {\n        if (this.$el.has(ev.target)) {\n            this.destroy();\n        }\n    },\n\n    _onKeyUp(ev) {\n        if (ev.which === 27) {\n            this.destroy();\n        }\n    },\n\n    _close_handler(e) {\n        if (e.target.matches(\"[type=submit], button:not([type=button])\")) {\n            // submit + close\n            this.destroy_inject(e);\n        } else {\n            // close only\n            this.destroy();\n        }\n    },\n\n    getTallestChild() {\n        let $tallest_child;\n        for (const child of $(\"*\", this.$el)) {\n            const $child = $(child);\n            if (typeof $tallest_child === \"undefined\") {\n                $tallest_child = $child;\n            } else if ($child.outerHeight(true) > $tallest_child.outerHeight(true)) {\n                $tallest_child = $child;\n            }\n        }\n        return $tallest_child;\n    },\n\n    setPosition() {\n        this.$el.css(\"top\", ($(window).innerHeight() - this.$el.height()) / 2);\n    },\n\n    resize() {\n        // reset the height before setting a new one\n        this.$el.removeClass(\"max-height\").css(\"height\", \"\");\n\n        const panel_content_elem = this.$el.find(\".panel-content\");\n        const header_elem = this.$el.find(\".header\");\n        const modal_height =\n            panel_content_elem.outerHeight(true) + header_elem.outerHeight(true);\n        if (this.$el.height() < modal_height) {\n            this.$el.addClass(\"max-height\").css({ height: modal_height + \"px\" });\n            this.setPosition();\n        }\n    },\n\n    async destroy() {\n        await utils.timeout(1); // wait a tick for event handlers (e.g. form submit) have a chance to kick in first.\n        $(document).off(\".pat-modal\");\n        this.$el.remove();\n        $(\"body\").removeClass(\"modal-active\");\n        $(\"body\").removeClass(\"modal-panel\");\n    },\n\n    destroy_inject(e) {\n        const button = e.target;\n        const form = button.form;\n\n        if (form && form.classList.contains(\"pat-inject\")) {\n            // if the modal contains a form with pat-inject, wait for injection\n            // to be finished and then destroy the modal.\n            const destroy_handler = () => {\n                this.destroy();\n                events.remove_event_listener(form, \"pat-modal--destroy-inject\");\n            };\n            events.add_event_listener(\n                form,\n                \"pat-inject-success\",\n                \"pat-modal--destroy-inject\",\n                destroy_handler.bind(this)\n            );\n        } else {\n            // if working without form injection, just destroy.\n            this.destroy();\n        }\n    },\n});\n","import $ from \"jquery\";\nimport Base from \"../../core/base\";\nimport Parser from \"../../core/parser\";\nimport logging from \"../../core/logging\";\n\nconst log = logging.getLogger(\"navigation\");\n\nexport const parser = new Parser(\"navigation\");\nparser.addArgument(\"item-wrapper\", \"li\");\nparser.addArgument(\"in-path-class\", \"navigation-in-path\");\nparser.addArgument(\"current-class\", \"current\");\n\nexport default Base.extend({\n    name: \"navigation\",\n    trigger: \"nav, .navigation, .pat-navigation\",\n    init: function ($el, opts) {\n        this.options = parser.parse($el, opts);\n        var current = this.options.currentClass;\n        // check whether to load\n        if ($el.hasClass(\"navigation-load-current\")) {\n            $el.find(\"a.\" + current, \".\" + current + \" a\").click();\n            // check for current elements injected here\n            $el.on(\n                \"patterns-injected-scanned\",\n                function (ev) {\n                    var $target = $(ev.target);\n                    if ($target.is(\"a.\" + current)) $target.click();\n                    if ($target.is(\".\" + current)) $target.find(\"a\").click();\n                    this._updatenavpath($el);\n                }.bind(this)\n            );\n        }\n\n        // An anchor within this navigation triggered injection\n        $el.on(\n            \"patterns-inject-triggered\",\n            \"a\",\n            function (ev) {\n                var $target = $(ev.target);\n                // remove all set current classes\n                $el.find(\".\" + current).removeClass(current);\n                // set current class on target\n                $target.addClass(current);\n                // If target's parent is an LI, also set current class there\n                $target.parents(this.options.itemWrapper).first().addClass(current);\n                this._updatenavpath($el);\n            }.bind(this)\n        );\n\n        var observer = new MutationObserver(this._initialSet.bind(this));\n        observer.observe($el[0], {\n            childList: true,\n            subtree: true,\n            attributes: false,\n            characterData: false,\n        });\n\n        this._initialSet();\n    },\n    _initialSet: function () {\n        var $el = this.$el;\n        var current = this.options.currentClass;\n        // Set current class if it is not set\n        if ($el[0].querySelectorAll(\".\" + current).length === 0) {\n            var ael = $el[0].querySelectorAll(\"a\");\n            for (var cnt = 0; cnt < ael.length; cnt++) {\n                var $a = $(ael[cnt]),\n                    $li = $a.parents(this.options.itemWrapper).first(),\n                    url = $a.attr(\"href\"),\n                    path;\n                if (typeof url === \"undefined\") {\n                    return;\n                }\n                path = this._pathfromurl(url);\n                log.debug(\"checking url:\", url, \"extracted path:\", path);\n                if (this._match(window.location.pathname, path)) {\n                    log.debug(\"found match\", $li);\n                    $a.addClass(current);\n                    $li.addClass(current);\n                }\n            }\n        }\n\n        // Set current class on item-wrapper, if not set.\n        if (\n            this.options.itemWrapper &&\n            $el[0].querySelectorAll(\".\" + current).length > 0 &&\n            $el[0].querySelectorAll(this.options.itemWrapper + \".\" + current).length ===\n                0\n        ) {\n            $(\".\" + current, $el)\n                .parents(this.options.itemWrapper)\n                .first()\n                .addClass(current);\n        }\n\n        this._updatenavpath($el);\n    },\n    _updatenavpath: function ($el) {\n        var in_path = this.options.inPathClass;\n        if (!in_path) {\n            return;\n        }\n        $el.find(\".\" + in_path).removeClass(in_path);\n        $el.find(\n            this.options.itemWrapper +\n                \":not(.\" +\n                this.options.currentClass +\n                \"):has(.\" +\n                this.options.currentClass +\n                \")\"\n        ).addClass(in_path);\n    },\n    _match: function (curpath, path) {\n        if (!path) {\n            log.debug(\"path empty\");\n            return false;\n        }\n        // current path needs to end in the anchor's path\n        if (path !== curpath.slice(-path.length)) {\n            log.debug(curpath, \"does not end in\", path);\n            return false;\n        }\n        // XXX: we might need more exclusion tests\n        return true;\n    },\n    _pathfromurl: function (url) {\n        var path = url.split(\"#\")[0].split(\"://\");\n        if (path.length > 2) {\n            log.error(\"weird url\", url);\n            return \"\";\n        }\n        if (path.length === 1) return path[0];\n        return path[1].split(\"/\").slice(1).join(\"/\");\n    },\n});\n","// Patterns notification - Display (self-healing) notifications.\nimport $ from \"jquery\";\nimport Base from \"../../core/base\";\nimport dom from \"../../core/dom\";\nimport events from \"../../core/events\";\nimport inject from \"../inject/inject\";\nimport logging from \"../../core/logging\";\nimport Parser from \"../../core/parser\";\nimport registry from \"../../core/registry\";\nimport utils from \"../../core/utils\";\n\n// Initialize close-panel functionality.\nimport \"../close-panel/close-panel\";\n\nconst log = logging.getLogger(\"notification\");\n//log.setLevel(logging.Level.DEBUG);\n\nexport const parser = new Parser(\"notification\");\nparser.addArgument(\"type\", \"static\", [\"static\", \"banner\"]);\nparser.addArgument(\"healing\", \"5s\");\nparser.addArgument(\"controls\", \"icons\", [\"icons\", \"buttons\", \"none\"]);\nparser.addArgument(\"class\");\nparser.addArgument(\"close-text\", \"Close\");\n\nexport default Base.extend({\n    name: \"notification\",\n    trigger: \".pat-notification\",\n    count: 0,\n\n    init($el, opts) {\n        if (this.el.matches(\"a, form\")) {\n            this._init_inject($el, opts);\n        } else {\n            this._init_notification($el, opts);\n        }\n    },\n\n    _init_notification($el, opts) {\n        this.count++;\n\n        const el = $el[0];\n        const options = parser.parse($el, opts);\n        const closetext = options.closeText;\n\n        const wrapper = document.createElement(\"div\");\n        wrapper.setAttribute(\"id\", `pat-notification-${this.count}`);\n        wrapper.setAttribute(\"class\", \"pat-notification-panel\");\n        dom.wrap(el, wrapper);\n\n        events.add_event_listener(\n            wrapper,\n            \"mouseenter\",\n            \"notification__mouseenter\",\n            this.onMouseEnter.bind(this)\n        );\n        events.add_event_listener(\n            wrapper,\n            \"mouseleave\",\n            \"notification__mouseleave\",\n            this.onMouseLeave.bind(this)\n        );\n\n        if (options[\"class\"]) {\n            wrapper.classList.add(options[\"class\"]);\n        }\n\n        if (!Array.isArray(options.controls)) {\n            options.controls = [options.controls];\n        }\n\n        // add close icon if requested\n        if (options.controls.indexOf(\"icons\") >= 0) {\n            wrapper.append(\n                dom.create_from_string(\n                    `<button type=\"button\" class=\"close-panel\">${closetext}</button>`\n                )\n            );\n        }\n\n        // add close button if requested\n        if (options.controls.indexOf(\"buttons\") >= 0) {\n            wrapper.append(\n                dom.create_from_string(\n                    `<div class=\"button-bar\">\n                    <button type=\"button\" class=\"close-panel\">${closetext}</button>\n                </div>`\n                )\n            );\n        }\n\n        if (wrapper.querySelector(\".close-panel\")) {\n            wrapper.classList.add(\"has-close-panel\");\n            dom.set_data(wrapper, \"close_panel\", this.onClick.bind(this));\n            registry.scan(wrapper, [\"close-panel\"]);\n        } else {\n            events.add_event_listener(\n                wrapper,\n                \"click\",\n                \"notification__click\",\n                this.onClick.bind(this)\n            );\n        }\n\n        if (options.type === \"banner\") {\n            let container = document.querySelector(\"#pat-notification-banners\");\n            if (!container) {\n                container = document.createElement(\"div\");\n                container.setAttribute(\"id\", \"pat-notification-banners\");\n                container.setAttribute(\"class\", \"pat-notification-container\");\n                document.body.append(container);\n            }\n            container.append(wrapper);\n        }\n\n        let healing = options.healing;\n        if (healing !== \"persistent\") {\n            healing = utils.parseTime(healing);\n        }\n\n        log.debug(`Healing value is: ${healing}`);\n        dom.set_data(wrapper, \"healing\", healing);\n\n        $el.animate({ opacity: 1 }, \"fast\", () => {\n            this.init_remove_timer(wrapper);\n        });\n    },\n\n    _init_inject($el) {\n        $el[0].addEventListener(\"pat-inject-success\", (e) => {\n            const $trigger = $(e.target);\n            const cfg = parser.parse($trigger, { type: \"banner\" });\n\n            const $temp = $(\"#pat-notification-temp\")\n                .contents()\n                .wrapAll(\"<div/>\")\n                .parent()\n                .addClass(\"pat-notification\");\n\n            if ($trigger.is(\"a\")) {\n                $trigger.after($temp);\n            } else {\n                $temp.prependTo($trigger);\n            }\n            this._init_notification($temp, cfg);\n\n            // XXX: Do this later as inject tries to access its target afterwards.\n            // This should be fixed in injection.\n            setTimeout(() => {\n                $(\"#pat-notification-temp\").remove();\n            }, 0);\n        });\n        inject.init($el, {\n            target: \"#pat-notification-temp\",\n        });\n    },\n\n    init_remove_timer(panel) {\n        const healing = dom.get_data(panel, \"healing\");\n        if (healing !== \"persistent\") {\n            clearTimeout(dom.get_data(panel, \"timer\"));\n            dom.set_data(\n                panel,\n                \"timer\",\n                setTimeout(() => {\n                    log.debug(\"Timeout reached.\");\n                    this.remove(panel);\n                }, healing)\n            );\n        }\n    },\n\n    onMouseEnter(e) {\n        dom.set_data(e.target, \"persistent\", true);\n    },\n\n    onMouseLeave(e) {\n        const panel = e.target;\n        dom.set_data(panel, \"persistent\", false);\n        this.init_remove_timer(panel);\n    },\n\n    onClick(e) {\n        const panel = e.target.closest(\".pat-notification-panel\");\n        dom.set_data(panel, \"persistent\", false);\n        this.remove(panel);\n    },\n\n    remove(panel) {\n        if (\n            dom.get_data(panel, \"persistent\") === true ||\n            dom.get_data(panel, \"removing\") === true\n        ) {\n            return;\n        }\n        const $panel = $(panel);\n\n        dom.set_data(panel, \"removing\", true);\n\n        $panel.stop(true).animate(\n            { opacity: 0 },\n            {\n                step() {\n                    if (dom.get_data(panel, \"persistent\") === true) {\n                        // remove the timer and show notification\n                        clearTimeout(dom.get_data(panel, \"timer\"));\n                        $panel.stop(true).animate({ opacity: 1 });\n                        dom.set_data(panel, \"removing\", false);\n                        return false;\n                    }\n                },\n\n                complete() {\n                    $panel.off(\".pat-notification\");\n                    $panel.slideUp(\"slow\", () => {\n                        $panel.remove();\n                    });\n                },\n            }\n        );\n    },\n});\n","import Base from \"../../core/base\";\nimport events from \"../../core/events\";\nimport logging from \"../../core/logging\";\nimport Parser from \"../../core/parser\";\nimport registry from \"../../core/registry\";\nimport utils from \"../../core/utils\";\n\nconst logger = logging.getLogger(\"push\");\n\nexport const parser = new Parser(\"push\");\nparser.addArgument(\"url\", null);\nparser.addArgument(\"push-id\", null);\nparser.addArgument(\"mode\", \"replace\", [\"replace\", \"append\", \"desktop-notification\"]);\n\nconst rfp_key = \"pat-push__desktop-notification__request_for_permission\";\n\nexport default Base.extend({\n    name: \"push\",\n    trigger: \".pat-push\",\n\n    init() {\n        this.options = parser.parse(this.el, this.options);\n\n        if (\n            this.options.mode === \"desktop-notification\" &&\n            !(Notification.permission in [\"denied\", \"granted\"])\n        ) {\n            // Try to get a notification permission on any click.\n            events.add_event_listener(\n                document,\n                \"click\",\n                rfp_key,\n                this.desktop_notification__request_permission.bind(this)\n            );\n        }\n\n        document.body.addEventListener(\"push\", (e) => {\n            logger.debug(\"received push marker\");\n            const data = e?.detail?.body;\n            if (data === this.options.pushId) {\n                if (this.options.mode === \"desktop-notification\") {\n                    this.desktop_notification();\n                } else if (this.el.tagName === \"FORM\") {\n                    this.el.submit();\n                } else {\n                    this.perform_inject();\n                }\n            }\n        });\n    },\n\n    async perform_inject() {\n        let data = null;\n\n        try {\n            const response = await fetch(this.options.url);\n            data = await response.text();\n        } catch (e) {\n            logger.error(\n                `Could not fetch from ${this.options.url} on push-id ${this.options.pushId}.`\n            );\n        }\n\n        if (data === null) {\n            return;\n        }\n\n        if (this.options.mode === \"append\") {\n            this.el.insertAdjacentHTML(\"beforeend\", data);\n        } else {\n            this.el.innerHTML = data;\n        }\n        registry.scan(this.el);\n    },\n\n    async desktop_notification__request_permission() {\n        // Wait a bit to make the dialog more prominent...\n        await utils.timeout(1000);\n\n        // Notifications need to be granted.\n        // Note: Current browsers don't allow an automatic request for\n        //       permission but need an interaction to allow it.\n        //       The following code won't work out of the box in such cases.\n        if (!(Notification.permission in [\"denied\", \"granted\"])) {\n            Notification.requestPermission((permission) => {\n                // Unregister the event handler, which should only be necessary once.\n                events.remove_event_listener(document, rfp_key);\n\n                // Whatever the user answers, we make sure Chrome stores the information\n                if (!(\"permission\" in Notification)) {\n                    Notification.permission = permission;\n                }\n            });\n        }\n    },\n\n    async desktop_notification() {\n        // Let's check if the browser supports notifications\n        if (!(\"Notification\" in window)) {\n            logger.error(\"This browser does not support notifications.\");\n            return;\n        }\n\n        // Let's check if the user is okay to get some notification\n        if (Notification.permission !== \"granted\") {\n            return;\n        }\n\n        let data = [];\n        try {\n            const response = await fetch(this.options.url);\n            data = await response.json();\n        } catch (e) {\n            logger.error(\n                `Could not fetch from ${this.options.url} on push-id ${this.options.pushId}.`\n            );\n        }\n\n        if (!data?.length) {\n            return;\n        }\n\n        for (const message of data) {\n            const notification = new Notification(message.title, message);\n            if (message.data?.url) {\n                // If ``message.data`` contains an URL, open it.\n                // If not, the browser will simply get the focus when\n                // clicking on the desktop notification.\n                notification.addEventListener(\"click\", () => {\n                    window.open(message.data.url, \"_self\");\n\n                    // Opening a URL in a new tab from JavaScript is\n                    // equivalent to opening a popup window which is\n                    // blocked by default.\n                    // Therefore, we open the URL in the same tab and\n                    // rely on other mechanisms that the user's work\n                    // isn't lost (auto-save, form unload protection.)\n\n                    // Don't focus the originating tab.\n                    //e.preventDefault();\n                    // Open in new window.\n                    //const new_window = window.open(message.data.url, \"_blank\");\n                    //try {\n                    //    new_window.focus();\n                    //} catch (e) {\n                    //    // Opening of new window (aka \"popup\") might\n                    //    // have been blocked.\n                    //    window.focus();\n                    //}\n                });\n            }\n        }\n    },\n});\n","import Base from \"../../core/base\";\nimport Parser from \"../../core/parser\";\nimport events from \"../../core/events\";\n\nexport const parser = new Parser(\"scroll-box\");\nparser.addArgument(\"timeout-stop\", 600); // Timeout to detect when stopping scrolling.\n\nexport default Base.extend({\n    name: \"scroll-box\",\n    trigger: \".pat-scroll-box\",\n\n    scroll_listener: null,\n    last_known_scroll_position: 0,\n    timeout_id__scroll_stop: null,\n\n    init() {\n        const el = this.el;\n        this.options = parser.parse(el);\n        this.scroll_listener = el === document.body ? window : el;\n\n        // If scolling is not possible, exit.\n        if (\n            !this.scroll_listener === window &&\n            ([\"auto\", \"scroll\"].indexOf(getComputedStyle(el).overflow) === -1 ||\n                [\"auto\", \"scroll\"].indexOf(getComputedStyle(el).overflowY) === -1)\n        ) {\n            return;\n        }\n\n        let ticking = false;\n        events.add_event_listener(\n            this.scroll_listener,\n            \"scroll\",\n            \"pat-scroll-box--scroll_listener\",\n            () => {\n                if (!ticking) {\n                    window.requestAnimationFrame(() => {\n                        this.set_scroll_classes();\n\n                        // Detect case when user stops scrolling.\n                        window.clearTimeout(this.timeout_id__scroll_stop);\n                        this.timeout_id__scroll_stop = window.setTimeout(() => {\n                            // When user stopped scrolling, set/clear scroll classes.\n                            this.clear_scrolling_classes();\n                        }, this.options.timeoutStop);\n\n                        ticking = false;\n                    });\n                    ticking = true;\n                }\n            }\n        );\n\n        // Set initial state\n        this.set_scroll_classes();\n    },\n\n    set_scroll_classes() {\n        const scroll_pos = this.get_scroll_y();\n        const el = this.el;\n\n        const to_add = [];\n\n        if (scroll_pos < this.last_known_scroll_position) {\n            to_add.push(\"scroll-up\");\n            to_add.push(\"scrolling-up\");\n        } else if (this.last_known_scroll_position < scroll_pos) {\n            to_add.push(\"scroll-down\");\n            to_add.push(\"scrolling-down\");\n        }\n\n        if (scroll_pos <= 0) {\n            to_add.push(\"scroll-position-top\");\n        } else if (\n            this.scroll_listener === window &&\n            window.innerHeight + scroll_pos >= el.scrollHeight\n        ) {\n            to_add.push(\"scroll-position-bottom\");\n        } else if (\n            this.scroll_listener !== window &&\n            el.clientHeight + scroll_pos >= el.scrollHeight\n        ) {\n            to_add.push(\"scroll-position-bottom\");\n        }\n\n        // Keep DOM manipulation calls together to let the browser optimize reflow/repaint.\n        // See: https://areknawo.com/dom-performance-case-study/\n\n        el.classList.remove(\n            \"scroll-up\",\n            \"scroll-down\",\n            \"scrolling-up\",\n            \"scrolling-down\",\n            \"scroll-position-top\",\n            \"scroll-position-bottom\"\n        );\n        el.classList.add(...to_add);\n\n        this.last_known_scroll_position = scroll_pos;\n    },\n\n    clear_scrolling_classes() {\n        // Remove ``scrolling-up`` and ``scrolling-down``\n        // but keep ``scroll-up`` and ``scroll-down``.\n        this.el.classList.remove(\"scrolling-up\", \"scrolling-down\");\n    },\n\n    get_scroll_y() {\n        if (this.scroll_listener === window) {\n            // scrolling the window\n            return window.scrollY !== undefined ? window.scrollY : window.pageYOffset; // pageYOffset for IE\n        }\n        // scrolling a DOM element\n        return this.scroll_listener.scrollTop;\n    },\n});\n","import \"../../core/jquery-ext\";\nimport $ from \"jquery\";\nimport Base from \"../../core/base\";\nimport dom from \"../../core/dom\";\nimport logging from \"../../core/logging\";\nimport Parser from \"../../core/parser\";\nimport utils from \"../../core/utils\";\n\nconst log = logging.getLogger(\"pat.scroll\");\n\nexport const parser = new Parser(\"scroll\");\nparser.addArgument(\"trigger\", \"click\", [\"click\", \"auto\", \"manual\"]);\nparser.addArgument(\"direction\", \"top\", [\"top\", \"left\"]);\nparser.addArgument(\"selector\");\nparser.addArgument(\"offset\", 0);\nparser.addArgument(\"delay\");\n\nexport default Base.extend({\n    name: \"scroll\",\n    trigger: \".pat-scroll\",\n    jquery_plugin: true,\n\n    async init($el, opts) {\n        this.options = parser.parse(this.$el, opts);\n        if (this.options.delay) {\n            this.options.delay = utils.parseTime(this.options.delay);\n        }\n        if (this.options.trigger === \"auto\") {\n            const ImagesLoaded = (await import(\"imagesloaded\")).default;\n            // Only calculate the offset when all images are loaded\n            ImagesLoaded(document.body, () => this.smoothScroll());\n        }\n        if (this.options.trigger === \"auto\" || this.options.trigger === \"click\") {\n            this.el.addEventListener(\"click\", this.onClick.bind(this));\n        }\n        this.$el.on(\"pat-update\", this.onPatternsUpdate.bind(this));\n        this.markBasedOnFragment();\n        this.on(\"hashchange\", this.clearIfHidden.bind(this));\n        $(window).scroll(utils.debounce(this.markIfVisible.bind(this), 50));\n    },\n\n    onClick() {\n        //ev.preventDefault();\n        history.pushState({}, null, this.$el.attr(\"href\"));\n        this.smoothScroll();\n        this.markBasedOnFragment();\n        // manually trigger the hashchange event on all instances of pat-scroll\n        $(\"a.pat-scroll\").trigger(\"hashchange\");\n    },\n\n    markBasedOnFragment() {\n        // Get the fragment from the URL and set the corresponding this.$el as current\n        const fragment = window.location.hash.substr(1);\n        if (fragment) {\n            const $target = $(\"#\" + fragment);\n            this.$el.addClass(\"current\"); // the element that was clicked on\n            $target.addClass(\"current\");\n        }\n    },\n\n    clearIfHidden() {\n        const active_target = \"#\" + window.location.hash.substr(1);\n        const $active_target = $(active_target);\n        const target = \"#\" + this.$el[0].href.split(\"#\").pop();\n        if ($active_target.length > 0) {\n            if (active_target != target) {\n                // if the element does not match the one listed in the url #,\n                // clear the current class from it.\n                const $target = $(\"#\" + this.$el[0].href.split(\"#\").pop());\n                $target.removeClass(\"current\");\n                this.$el.removeClass(\"current\");\n            }\n        }\n    },\n\n    markIfVisible() {\n        if (this.$el.hasClass(\"pat-scroll-animated\")) {\n            // this section is triggered when the scrolling is a result of the animate function\n            // ie. automatic scrolling as opposed to the user manually scrolling\n            this.$el.removeClass(\"pat-scroll-animated\");\n        } else if (this.$el[0].nodeName === \"A\") {\n            const href = this.$el[0].href;\n            const fragment =\n                (href.indexOf(\"#\") !== -1 && href.split(\"#\").pop()) || undefined;\n            if (fragment) {\n                const $target = $(\"#\" + fragment);\n                if ($target.length) {\n                    if (\n                        utils.isElementInViewport($target[0], true, this.options.offset)\n                    ) {\n                        // check that the anchor's target is visible\n                        // if so, mark both the anchor and the target element\n                        $target.addClass(\"current\");\n                        this.$el.addClass(\"current\");\n                    }\n                    $(this.$el).trigger(\"pat-update\", { pattern: \"scroll\" });\n                }\n            }\n        }\n    },\n\n    onPatternsUpdate(ev, data) {\n        if (data?.pattern === \"stacks\") {\n            if (data.originalEvent && data.originalEvent.type === \"click\") {\n                this.smoothScroll();\n            }\n        } else if (data?.pattern === \"scroll\") {\n            const href = this.$el[0].href;\n            const fragment =\n                (href.indexOf(\"#\") !== -1 && href.split(\"#\").pop()) || undefined;\n            if (fragment) {\n                const $target = $(\"#\" + fragment);\n                if ($target.length) {\n                    if (\n                        !utils.isElementInViewport($target[0], true, this.options.offset)\n                    ) {\n                        // if the anchor's target is invisible, remove current class from anchor and target.\n                        $target.removeClass(\"current\");\n                        $(this.$el).removeClass(\"current\");\n                    }\n                }\n            }\n        }\n    },\n\n    _get_selector_target() {\n        const selector = this.options.selector;\n        if (!selector && this.el.href?.includes(\"#\")) {\n            return document.querySelector(`#${this.el.href.split(\"#\").pop()}`);\n        } else if (!selector || selector === \"self\") {\n            return this.el;\n        }\n        return document.querySelector(selector);\n    },\n\n    async smoothScroll() {\n        if (this.options.delay) {\n            await utils.timeout(this.options.delay);\n        }\n        const scroll = this.options.direction == \"top\" ? \"scrollTop\" : \"scrollLeft\";\n        const options = {};\n        let scrollable;\n        if (this.options.selector === \"top\") {\n            // Just scroll up or left, period.\n            scrollable = $(\n                dom.find_scroll_container(\n                    this.el.parentElement,\n                    this.options.direction === \"top\" ? \"y\" : \"x\"\n                )\n            );\n            options[scroll] = 0;\n        } else if (this.options.selector === \"bottom\") {\n            // Just scroll down or right, period.\n            scrollable = $(\n                dom.find_scroll_container(\n                    this.el.parentElement,\n                    this.options.direction === \"top\" ? \"y\" : \"x\"\n                )\n            );\n            if (scroll === \"scrollTop\") {\n                options.scrollTop = scrollable[0].scrollHeight;\n            } else {\n                options.scrollLeft = scrollable[0].scrollWidth;\n            }\n        } else {\n            // Get the first element with overflow (the scroll container)\n            // starting from the *target*\n            // The intent is to move target into view within scrollable\n            // if the scrollable has no scrollbar, do not scroll body\n\n            const target = $(this._get_selector_target());\n\n            if (!target.length) {\n                return;\n            }\n\n            scrollable = $(\n                dom.find_scroll_container(\n                    target[0].parentElement,\n                    this.options.direction === \"top\" ? \"y\" : \"x\"\n                )\n            );\n\n            if (scrollable[0] === document.body) {\n                // positioning context is document\n                if (scroll === \"scrollTop\") {\n                    options[scroll] = Math.floor(target.safeOffset().top);\n                } else {\n                    options[scroll] = Math.floor(target.safeOffset().left);\n                }\n            } else if (scroll === \"scrollTop\") {\n                // difference between target top and scrollable top becomes 0\n                options[scroll] = Math.floor(\n                    scrollable.scrollTop() +\n                        target.safeOffset().top -\n                        scrollable.safeOffset().top\n                );\n            } else {\n                options[scroll] = Math.floor(\n                    scrollable.scrollLeft() +\n                        target.safeOffset().left -\n                        scrollable.safeOffset().left\n                );\n            }\n        }\n\n        options[scroll] -= this.options.offset;\n\n        // Fix scrolling on body - need to scroll on HTML, howsoever.\n        if (scrollable[0] === document.body) {\n            scrollable = $(\"html\");\n        }\n\n        // execute the scroll\n        await scrollable\n            .animate(options, {\n                duration: 500,\n                start: () => {\n                    $(\".pat-scroll\").addClass(\"pat-scroll-animated\");\n                    log.debug(\"scrolling.\");\n                },\n            })\n            .promise();\n    },\n});\n","/* Patterns selectbox - Expose select option for (un)checking. */\nimport $ from \"jquery\";\nimport Base from \"../../core/base\";\nimport dom from \"../../core/dom\";\n\nconst KEY_RESET = \"__patternslib__pat_selectbox__reset\";\n\nexport default Base.extend({\n    name: \"selectbox\",\n    trigger: \".pat-select\",\n    all_selects: [],\n\n    init() {\n        const el = this.el;\n\n        if (el.form && !el[KEY_RESET]) {\n            $(el.form).on(\"reset.pat-selectbox\", () => this.form_reset());\n            el[KEY_RESET] = true;\n        }\n\n        this.all_selects = dom.querySelectorAllAndMe(el, \"select:not([multiple])\");\n        for (const sel of this.all_selects) {\n            // create parent span if not direct child of a label\n            if (!sel.parentNode.matches(\"label\")) {\n                dom.wrap(sel, document.createElement(\"span\"));\n            }\n            this.change_select(sel);\n            $(sel).on(\"change.pat-selectbox\", () => this.change_select(sel));\n        }\n    },\n\n    destroy($el) {\n        return $el.off(\".pat-selectbox\");\n    },\n\n    form_reset() {\n        // This event is triggered before the form is reset, and we need\n        // the post-reset state to update our pattern. Use a small delay\n        // to fix this.\n        setTimeout(() => {\n            for (const sel of this.all_selects) {\n                this.change_select(sel);\n            }\n        }, 50);\n    },\n\n    change_select(el) {\n        el.parentNode.setAttribute(\"data-option\", el.querySelector(\"option:checked\")?.text || ''); // prettier-ignore\n        el.parentNode.setAttribute(\"data-option-value\", el.value);\n    },\n});\n","/**\n * Patterns URL - URL parsing utilities\n *\n * Copyright 2013 Simplon B.V.\n */\n\nfunction UrlArgumentParser() {\n    this._cache = null;\n    if (window.addEventListener) window.addEventListener(\"popstate\", this._reset);\n}\n\nUrlArgumentParser.prototype = {\n    space_pattern: /\\+/g,\n    keyvalue_pattern: /^(.+?)(?:=(.*))/,\n\n    _reset: function UrlArgumentParser_reset() {\n        this._cache = null;\n    },\n\n    _decodeQS: function UrlArgumentParser_decodeQS(bit) {\n        return decodeURIComponent(bit.replace(this.space_pattern, \" \"));\n    },\n\n    _parse: function UrlArgumentParser_parse(qs) {\n        var query = /\\?(.+)/.exec(qs),\n            params = {};\n\n        if (query === null) return params;\n\n        var parameters = query[1].split(\"&\"),\n            i,\n            parts,\n            key,\n            value;\n\n        for (i = 0; i < parameters.length; i++) {\n            if ((parts = this.keyvalue_pattern.exec(parameters[i])) === null) {\n                key = this._decodeQS(parameters[i]);\n                value = null;\n            } else {\n                key = this._decodeQS(parts[1]);\n                value = this._decodeQS(parts[2]);\n            }\n\n            if (params[key] === undefined) params[key] = [];\n            params[key].push(value);\n        }\n\n        return params;\n    },\n\n    get: function UrlArgumentParser_get() {\n        if (this._cache === null) this._cache = this._parse(window.location.search);\n        return this._cache;\n    },\n};\n\nvar url_parser = new UrlArgumentParser();\n\nexport default {\n    UrlArgumentParser: UrlArgumentParser,\n    parameters: url_parser.get.bind(url_parser),\n};\n","/**\n * Patterns remove - send event when objects are removed from the DOM\n *\n * Copyright 2012 Simplon B.V. - Wichert Akkerman\n */\nimport $ from \"jquery\";\n\nvar real_cleanData = $.cleanData;\n\n$.cleanData = function remove_cleanData(elems) {\n    var i, el;\n    for (i = 0; (el = elems[i]) !== undefined; i++) $(el).triggerHandler(\"destroy\");\n    real_cleanData.call(this, arguments);\n};\n","/**\n * Patterns slides - Automatic and customised slideshows.\n *\n * Copyright 2013 Simplon B.V. - Wichert Akkerman\n */\nimport $ from \"jquery\";\nimport registry from \"../../core/registry\";\nimport utils from \"../../core/utils\";\nimport url from \"../../core/url\";\nimport \"../../core/remove\";\n\nvar slides = {\n    name: \"slides\",\n    trigger: \".pat-slides\",\n\n    setup: function () {\n        $(document).on(\"patterns-injected\", utils.debounce(slides._reset, 100));\n    },\n\n    async init($el) {\n        if (!this.el.querySelector(\".slide\")) {\n            // no slides, nothing to do.\n            return;\n        }\n        await import(\"slides/src/slides\"); // loads ``Presentation`` globally.\n\n        var parameters = url.parameters();\n        if (parameters.slides !== undefined) {\n            var requested_ids = slides._collapse_ids(parameters.slides);\n            if (requested_ids) slides._remove_slides($el, requested_ids);\n        }\n        $el.each(function () {\n            var presentation = new window.Presentation(this),\n                $container = $(this);\n            $container\n                .data(\"pat-slide\", presentation)\n                .on(\"SlideDisplay\", slides._onSlideDisplay)\n                .on(\"SlideHide\", slides._onSlideHide);\n        });\n        return slides._hook($el);\n    },\n\n    _onSlideDisplay: function (event) {\n        var slide = event.originalEvent.detail.slide.element,\n            $videos = $(\"video\", slide);\n\n        $videos.each(function () {\n            if (this.paused) {\n                this.currentTime = 0;\n                this.play();\n            }\n        });\n    },\n\n    _onSlideHide: function (event) {\n        var slide = event.originalEvent.detail.slide.element,\n            $videos = $(\"video\", slide);\n\n        $videos.each(function () {\n            if (!this.paused) this.pause();\n        });\n    },\n\n    _collapse_ids: function (params) {\n        var ids = [];\n        params.forEach(function (param) {\n            if (param)\n                ids = ids.concat(\n                    param.split(\",\").filter(function (id) {\n                        return !!id;\n                    })\n                );\n        });\n        return ids;\n    },\n\n    _remove_slides: function ($shows, ids) {\n        var has_bad_id = function (idx, el) {\n            return ids.indexOf(el.id) === -1;\n        };\n\n        for (var i = 0; i < $shows.length; i++) {\n            var $show = $shows.eq(i),\n                $bad_slides = $show.find(\".slide[id]\").filter(has_bad_id);\n            $bad_slides.remove();\n        }\n    },\n\n    _hook: function ($el) {\n        return $el\n            .off(\"destroy.pat-slide\")\n            .on(\"destroy.pat-slide\", utils.debounce(slides._reset, 100));\n    },\n\n    _reset: function () {\n        var $container = $(this).closest(\".pat-slides\"),\n            presentation = $container.data(\"pat-slide\");\n        if (presentation) presentation.scan();\n        slides._hook($(this.trigger));\n    },\n};\n\nslides.setup();\nregistry.register(slides);\nexport default slides;\n","import $ from \"jquery\";\nimport Base from \"../../core/base\";\nimport Parser from \"../../core/parser\";\n\nexport const parser = new Parser(\"sortable\");\nparser.addArgument(\"selector\", \"li\");\nparser.addArgument(\"drag-class\", \"dragged\"); // Class to apply to item that is being dragged.\nparser.addArgument(\"drop\"); // Callback function for when item is dropped (null)\n\n// BBB for the mockup sortable pattern.\nparser.addAlias(\"dragClass\", \"drag-class\");\n\nexport default Base.extend({\n    name: \"sortable\",\n    trigger: \".pat-sortable\",\n\n    init: function () {\n        this.$form = this.$el.closest(\"form\");\n        this.options = parser.parse(this.$el, false);\n        this.recordPositions().addHandles().initScrolling();\n        this.$el.on(\"pat-update\", this.onPatternUpdate.bind(this));\n    },\n\n    onPatternUpdate: function (ev, data) {\n        /* Handler which gets called when pat-update is triggered within\n         * the .pat-sortable element.\n         */\n        if (data?.pattern == \"clone\") {\n            this.recordPositions();\n            data.$el.on(\"dragstart\", this.onDragStart.bind(this));\n            data.$el.on(\"dragend\", this.onDragEnd.bind(this));\n        }\n        return true;\n    },\n\n    recordPositions: function () {\n        // use only direct descendants to support nested lists\n        this.$sortables = this.$el.children().filter(this.options.selector);\n        this.$sortables.each(function (idx) {\n            $(this).data(\"patterns.sortable\", { position: idx });\n        });\n        return this;\n    },\n\n    addHandles: function () {\n        /* Add handles and make them draggable for HTML5 and IE8/9\n         * it has to be an \"a\" tag (or img) to make it draggable in IE8/9\n         */\n        var $sortables_without_handles = this.$sortables.filter(function () {\n            return $(this).find(\".sortable-handle\").length === 0;\n        });\n        var $handles = $('<a href=\"#\" class=\"sortable-handle\">⇕</a>').appendTo(\n            $sortables_without_handles\n        );\n        if (\"draggable\" in document.createElement(\"span\")) {\n            $handles.attr(\"draggable\", true);\n        } else {\n            $handles.on(\"selectstart\", function (ev) {\n                ev.preventDefault();\n            });\n        }\n        $handles.on(\"dragstart\", this.onDragStart.bind(this));\n        $handles.on(\"dragend\", this.onDragEnd.bind(this));\n        return this;\n    },\n\n    initScrolling: function () {\n        // invisible scroll activation areas\n        var scrollup = $('<div id=\"pat-scroll-up\">&nbsp;</div>'),\n            scrolldn = $('<div id=\"pat-scroll-dn\">&nbsp;</div>'),\n            scroll = $().add(scrollup).add(scrolldn);\n        scrollup.css({ top: 0 });\n        scrolldn.css({ bottom: 0 });\n        scroll.css({\n            position: \"fixed\",\n            zIndex: 999999,\n            height: 32,\n            left: 0,\n            right: 0,\n        });\n        scroll.on(\"dragover\", function (ev) {\n            ev.preventDefault();\n            if ($(\"html,body\").is(\":animated\")) {\n                return;\n            }\n            var newpos =\n                $(window).scrollTop() +\n                ($(this).attr(\"id\") === \"pat-scroll-up\" ? -32 : 32);\n            $(\"html,body\").animate({ scrollTop: newpos }, 50, \"linear\");\n        });\n        return this;\n    },\n\n    onDragEnd: function (ev) {\n        var $dragged = $(ev.target).parent();\n        $dragged.removeClass(this.options.dragClass);\n        this.$sortables.off(\".pat-sortable\");\n        this.$el.off(\".pat-sortable\");\n        $(\"#pat-scroll-up, #pat-scroll-dn\").detach();\n        var change = this.submitChangedAmount($(ev.target).closest(\".sortable\"));\n        // Call the optionally passed-in callback function\n        if (this.options.drop) {\n            this.options.drop($dragged, change);\n        }\n    },\n\n    submitChangedAmount: function ($dragged) {\n        /* If we are in a form, then submit the form with the right amount\n         * that the sortable element was moved up or down.\n         */\n        var $amount_input = this.$form.find(\".sortable-amount\");\n        if ($amount_input.length === 0) {\n            return;\n        }\n        var old_position = $dragged.data(\"patterns.sortable\").position;\n        this.recordPositions();\n        var new_position = $dragged.data(\"patterns.sortable\").position;\n        var change = Math.abs(new_position - old_position);\n        var direction = (new_position > old_position && \"down\") || \"up\";\n        if (this.$form.length > 0) {\n            $amount_input.val(change);\n            if (direction == \"up\") {\n                $dragged.find(\".sortable-button-up\").click();\n            } else {\n                $dragged.find(\".sortable-button-down\").click();\n            }\n        }\n        return change;\n    },\n\n    onDragStart: function (ev) {\n        var $handle = $(ev.target),\n            $dragged = $handle.parent(),\n            that = this;\n        if (typeof ev.originalEvent !== \"undefined\") {\n            // Firefox seems to need this set to any value\n            ev.originalEvent.dataTransfer.setData(\"Text\", \"\");\n            ev.originalEvent.dataTransfer.effectAllowed = [\"move\"];\n            if (\"setDragImage\" in ev.originalEvent.dataTransfer) {\n                ev.originalEvent.dataTransfer.setDragImage($dragged[0], 0, 0);\n            }\n        }\n        $dragged.addClass(this.options.dragClass);\n\n        // Scroll the list if near the borders\n        this.$el.on(\n            \"dragover.pat-sortable\",\n            function (ev) {\n                ev.preventDefault();\n                if (this.$el.is(\":animated\")) return;\n\n                var pos = ev.originalEvent.clientY + $(\"body\").scrollTop();\n                if (pos - this.$el.safeOffset().top < 32)\n                    this.$el.animate(\n                        { scrollTop: this.$el.scrollTop() - 32 },\n                        50,\n                        \"linear\"\n                    );\n                else if (this.$el.safeOffset().top + this.$el.height() - pos < 32)\n                    this.$el.animate(\n                        { scrollTop: this.$el.scrollTop() + 32 },\n                        50,\n                        \"linear\"\n                    );\n            }.bind(this)\n        );\n\n        this.$sortables.on(\n            \"dragover.pat-sortable\",\n            function (ev) {\n                // list elements are only drop targets when one element of the\n                // list is being dragged. avoids dragging between lists.\n                var $dropTarget = $(ev.target).closest(that.options.selector),\n                    midlineY =\n                        $dropTarget.safeOffset().top -\n                        $(document).scrollTop() +\n                        $dropTarget.height() / 2;\n\n                if ($dropTarget.is($dragged)) {\n                    return;\n                }\n                $dropTarget.removeClass(\"drop-target-above drop-target-below\");\n                if (ev.originalEvent.clientY > midlineY)\n                    $dropTarget.addClass(\"drop-target-below\");\n                else $dropTarget.addClass(\"drop-target-above\");\n                ev.preventDefault();\n            }.bind(this)\n        );\n\n        this.$sortables.on(\n            \"dragleave.pat-sortable\",\n            function () {\n                this.$sortables.removeClass(\"drop-target-above drop-target-below\");\n            }.bind(this)\n        );\n\n        this.$sortables.on(\"drop.pat-sortable\", function (ev) {\n            var $dropTarget = $(ev.target).closest(that.options.selector);\n            if ($dropTarget.is($dragged)) {\n                return;\n            }\n            if ($dropTarget.hasClass(\"drop-target-below\")) {\n                $dropTarget.after($dragged);\n            } else {\n                $dropTarget.before($dragged);\n            }\n            $dropTarget.removeClass(\"drop-target-above drop-target-below\");\n            ev.preventDefault();\n        });\n    },\n});\n","/**\n * Stacks pattern\n *\n * Copyright 2013 Simplon B.V. - Wichert Akkerman\n */\nimport $ from \"jquery\";\nimport Parser from \"../../core/parser\";\nimport Base from \"../../core/base\";\nimport logging from \"../../core/logging\";\nimport utils from \"../../core/utils\";\n\nconst log = logging.getLogger(\"stacks\");\n\nexport const parser = new Parser(\"stacks\");\nparser.addArgument(\"selector\", \"> *[id]\");\nparser.addArgument(\"transition\", \"none\", [\"none\", \"css\", \"fade\", \"slide\"]);\nparser.addArgument(\"effect-duration\", \"fast\");\nparser.addArgument(\"effect-easing\", \"swing\");\n\nexport default Base.extend({\n    name: \"stacks\",\n    trigger: \".pat-stacks\",\n    document: document,\n\n    init: function ($el, opts) {\n        this.options = parser.parse(this.$el, opts);\n        this._setupStack();\n        $(this.document).on(\"click\", \"a\", this._onClick.bind(this));\n        return $el;\n    },\n\n    _setupStack: function () {\n        var selected = this._currentFragment(),\n            $sheets = this.$el.find(this.options.selector),\n            $visible = [],\n            $invisible;\n        if ($sheets.length < 2) {\n            log.warn(\"Stacks pattern: must have more than one sheet.\", this.$el[0]);\n            return;\n        }\n        if (selected) {\n            try {\n                $visible = $sheets.filter(\"#\" + selected);\n            } catch (e) {\n                selected = undefined;\n            }\n        }\n        if (!$visible.length) {\n            $visible = $sheets.first();\n            selected = $visible[0].id;\n        }\n        $invisible = $sheets.not($visible);\n        utils.hideOrShow($visible, true, { transition: \"none\" }, this.name);\n        utils.hideOrShow($invisible, false, { transition: \"none\" }, this.name);\n        this._updateAnchors(selected);\n    },\n\n    _base_URL: function () {\n        return this.document.URL.split(\"#\")[0];\n    },\n\n    _currentFragment: function () {\n        var parts = this.document.URL.split(\"#\");\n        if (parts.length === 1) {\n            return null;\n        }\n        return parts[parts.length - 1];\n    },\n\n    _onClick: function (e) {\n        var base_url = this._base_URL(),\n            href_parts = e.currentTarget.href.split(\"#\");\n        // Check if this is an in-document link and has a fragment\n        if (base_url !== href_parts[0] || !href_parts[1]) {\n            return;\n        }\n        if (!this.$el.has(\"#\" + href_parts[1]).length) {\n            return;\n        }\n        e.preventDefault();\n        this._updateAnchors(href_parts[1]);\n        this._switch(href_parts[1]);\n        $(e.target).trigger(\"pat-update\", {\n            pattern: \"stacks\",\n            originalEvent: e,\n        });\n    },\n\n    _updateAnchors: function (selected) {\n        var $sheets = this.$el.find(this.options.selector),\n            base_url = this._base_URL();\n        $sheets.each(function (idx, sheet) {\n            // This may appear odd, but: when querying a browser uses the\n            // original href of an anchor as it appeared in the document\n            // source, but when you access the href property you always get\n            // the fully qualified version.\n            var $anchors = $(\n                'a[href=\"' + base_url + \"#\" + sheet.id + '\"],a[href=\"#' + sheet.id + '\"]'\n            );\n            if (sheet.id === selected) {\n                $anchors.addClass(\"current\");\n            } else {\n                $anchors.removeClass(\"current\");\n            }\n        });\n    },\n\n    _switch: function (sheet_id) {\n        var $sheet = this.$el.find(\"#\" + sheet_id);\n        if (!$sheet.length || $sheet.hasClass(\"visible\")) {\n            return;\n        }\n        var $invisible = this.$el.find(this.options.selector).not($sheet);\n        utils.hideOrShow($invisible, false, this.options, this.name);\n        utils.hideOrShow($sheet, true, this.options, this.name);\n    },\n});\n","/**\n * Patterns subform - scoped submission of form content\n *\n * Copyright 2013 Marko Durkovic\n */\nimport $ from \"jquery\";\nimport ajax from \"../ajax/ajax\";\nimport Base from \"../../core/base\";\nimport inject from \"../inject/inject\";\nimport logging from \"../../core/logging\";\n\nconst log = logging.getLogger(\"subform\");\n\nexport default Base.extend({\n    name: \"subform\",\n    trigger: \".pat-subform\",\n\n    init($el) {\n        $el.submit(this.submit.bind(this));\n        $el.find(\"input\").on(\"keyup keypress keydown\", this.keyboard_handler.bind(this));\n        $el.find(\"button[type=submit]\").on(\"click\", this.submitClicked.bind(this));\n    },\n\n    destroy($el) {\n        $el.off(\"submit\");\n    },\n\n    scopedSubmit($el) {\n        var $form = $el.parents(\"form\"),\n            $exclude = $form.find(\":input\").filter(function () {\n                return !$(this).is($el.find(\"*\"));\n            });\n        // make other controls \"unsuccessful\"\n        log.debug(\"Hiding unwanted elements from submission.\");\n        var names = $exclude.map(function () {\n            var name = $(this).attr(\"name\");\n            return name ? name : 0;\n        });\n        $exclude.each(function () {\n            $(this).attr(\"name\", \"\");\n        });\n        if ($el.is(\".pat-inject\") || $el.is(\".pat-modal\")) {\n            inject.submitSubform($el);\n        } else {\n            // use the native handler, since there could be event handlers\n            // redirecting to inject/ajax.\n            $form[0].submit();\n        }\n        // reenable everything\n        log.debug(\"Restoring previous state.\");\n        $exclude.each(function (i) {\n            if (names[i]) {\n                $(this).attr(\"name\", names[i]);\n            }\n        });\n    },\n\n    submit(ev) {\n        ev.stopPropagation();\n        var $this = $(ev.target),\n            $button = $this.find(\"button[type=submit][formaction]\").first();\n        if ($button.length) {\n            $button.trigger(\"click\");\n        } else {\n            this.scopedSubmit($this);\n        }\n    },\n\n    keyboard_handler(ev) {\n        // If the user presses the enter key and\n        // we have an autosubmit form trigger the subform submission\n        if (ev.keyCode != 13) {\n            return;\n        }\n        var $subform = $(ev.target).parents(\".pat-subform\");\n        if (!$subform.is(\".pat-autosubmit\")) {\n            return;\n        }\n        return $subform.submit();\n    },\n\n    submitClicked(ev) {\n        ev.preventDefault();\n        ev.stopPropagation();\n        ajax.onClickSubmit(ev); // make sure the submitting button is sent with the form\n\n        var $button = $(ev.target),\n            $sub = $button.parents(\".pat-subform\").first(),\n            formaction = $button.attr(\"formaction\");\n\n        if (formaction) {\n            // override the default action and restore afterwards\n            if ($sub.is(\".pat-inject\")) {\n                var previousValue = $sub.data(\"pat-inject\");\n                $sub.data(\"pat-inject\", inject.extractConfig($sub, { url: formaction }));\n                this.scopedSubmit($sub);\n                $sub.data(\"pat-inject\", previousValue);\n            } else if ($sub.is(\".pat-modal\")) {\n                $sub.data(\"pat-inject\", [\n                    $.extend($sub.data(\"pat-inject\")[0], {\n                        url: formaction,\n                    }),\n                ]);\n                this.scopedSubmit($sub);\n            } else {\n                $sub.parents(\"form\").attr(\"action\", formaction);\n                this.scopedSubmit($sub);\n            }\n        } else {\n            this.scopedSubmit($sub);\n        }\n    },\n});\n","// Patterns switch - toggle classes on click\nimport $ from \"jquery\";\nimport Base from \"../../core/base\";\nimport Parser from \"../../core/parser\";\nimport events from \"../../core/events\";\nimport logging from \"../../core/logging\";\nimport store from \"../../core/store\";\nimport utils from \"../../core/utils\";\n\nconst log = logging.getLogger(\"pat.switch\");\n\nexport const parser = new Parser(\"switch\");\nparser.addArgument(\"selector\");\nparser.addArgument(\"remove\");\nparser.addArgument(\"add\");\nparser.addArgument(\"store\", \"none\", [\"none\", \"session\", \"local\"]);\n\nexport default Base.extend({\n    name: \"switch\",\n    trigger: \".pat-switch\",\n\n    init() {\n        this.options = this._validateOptions(parser.parse(this.el, this.options, true));\n\n        events.add_event_listener(this.el, \"click\", \"pat-switch--on-click\", (e) => {\n            if (e.tagName === \"A\") {\n                e.preventDefault();\n            }\n            this._go();\n        });\n\n        for (const option of this.options) {\n            if (option.store !== \"none\") {\n                option._storage = (\n                    option.store === \"local\" ? store.local : store.session\n                )(\"switch\");\n                const state = option._storage.get(option.selector);\n                if (state && state.remove === option.remove && state.add === option.add)\n                    this._update(option.selector, state.remove, state.add);\n            }\n        }\n    },\n\n    destroy() {\n        events.remove_event_listener(this.el, \"pat-switch--on-click\");\n    },\n\n    execute() {\n        // jQuery API to toggle a switch\n        this._go();\n    },\n\n    _go() {\n        for (const option of this.options) {\n            this._update(option.selector, option.remove, option.add);\n            if (option._storage)\n                option._storage.set(option.selector, {\n                    remove: option.remove,\n                    add: option.add,\n                });\n        }\n        $(this.el).trigger(\"resize\"); // See: https://github.com/Patternslib/Patterns/pull/539\n    },\n\n    _validateOptions: function (options) {\n        var correct = [];\n\n        let logged_error = false;\n        for (var i = 0; i < options.length; i++) {\n            var option = options[i];\n            if (option.selector && (option.remove || option.add)) {\n                correct.push(option);\n            } else {\n                log.error(\n                    \"Switch pattern requires selector and one of add or remove.\",\n                    this.el\n                );\n                logged_error = true;\n            }\n        }\n\n        if (!correct.length && !logged_error) {\n            log.error(\"Switch without options cannot be initialized.\", this.el);\n        }\n\n        return correct;\n    },\n\n    _update: function (selector, remove, add) {\n        const targets = document.querySelectorAll(selector);\n        for (const target of targets) {\n            if (remove) {\n                utils.removeWildcardClass(target, remove);\n            }\n\n            if (add) {\n                target.classList.add(add);\n            }\n\n            $(target).trigger(\"pat-update\", { pattern: \"switch\" });\n        }\n    },\n});\n","import Base from \"../../core/base\";\nimport utils from \"../../core/utils\";\n\nexport default Base.extend({\n    name: \"syntax-highlight\",\n    trigger: \".pat-syntax-highlight\",\n\n    async init() {\n        const Prettify = (await import(\"google-code-prettify/src/prettify\")).default; // prettier-ignore\n        this.$el.addClass(\"prettyprint\");\n        utils.debounce(Prettify.prettyPrint, 50)();\n    },\n});\n","import $ from \"jquery\";\nimport Base from \"../../core/base\";\nimport logging from \"../../core/logging\";\nimport utils from \"../../core/utils\";\nimport dom from \"../../core/dom\";\n\nconst logger = logging.getLogger(\"tabs\");\nexport const DEBOUNCE_TIMEOUT = 10;\n\n//logger.setLevel(logging.Level.DEBUG);\n\nexport default Base.extend({\n    name: \"tabs\",\n    trigger: \".pat-tabs\",\n    jquery_plugin: true,\n    allowed_update_patterns: [\n        \"stacks\",\n        \"switch\",\n        \"auto-scale\",\n        \"grid\",\n        \"equaliser\",\n        \"masonry\",\n        \"zoom\",\n    ],\n\n    init() {\n        // debounce_resize to cancel previous runs of adjust_tabs\n        const debounced_resize = utils.debounce(\n            this.adjust_tabs.bind(this),\n            DEBOUNCE_TIMEOUT\n        );\n\n        // ResizeObserver allows for calling the adjust_tabs method after an\n        // animation is done, e.g. a menu is slided in. At the end of the\n        // animation the calculation is done with the final layout.\n        let previous_parent_width = utils.get_bounds(this.el.parentElement).width;\n        this.resize_observer = new ResizeObserver((entry) => {\n            const width = parseInt(entry[0].contentRect.width, 10);\n            // Only run the resize callback for changes in width.\n            // Apply a threshold of 3 pixels to compensate for rounding errors\n            // and not run this adjust_tabs for very small layout changes.\n            if (Math.abs(width - previous_parent_width) > 3) {\n                logger.debug(\"Entering resize observer\");\n                previous_parent_width = width;\n                debounced_resize();\n            }\n        });\n        this.resize_observer.observe(this.el.parentElement); // observe on size changes of parent.\n\n        // Also listen for ``pat-update`` event for cases where no resize but\n        // an immediate display of the element is done.\n        $(\"body\").on(\"pat-update\", (e, data) => {\n            if (this.allowed_update_patterns.includes(data?.pattern)) {\n                logger.debug(\"pat-update received.\");\n                debounced_resize();\n            }\n        });\n\n        debounced_resize();\n    },\n\n    async adjust_tabs() {\n        logger.debug(\"Entering adjust_tabs\");\n        logger.debug(\"Element:\");\n        logger.debug(this.el);\n\n        this.el.classList.remove(\"tabs-ready\");\n        this.el.classList.remove(\"tabs-wrapped\");\n        this._flatten_tabs();\n        this.dimensions = this._get_dimensions();\n        await this._adjust_tabs();\n        this.el.classList.add(\"tabs-ready\");\n    },\n\n    _flatten_tabs() {\n        // Remove the extra-tabs structure and place all tabs directly under .pat-tabs\n        const extra_wrapper = this.el.querySelector(\".extra-tabs\");\n        if (extra_wrapper) {\n            this.el.append(...extra_wrapper.children);\n            extra_wrapper.remove();\n        }\n    },\n\n    _get_dimensions() {\n        const bounds = utils.get_bounds(this.el);\n        const x = bounds.x;\n        const width = bounds.width;\n        const border_left = dom.get_css_value(this.el, \"border-left\", true);\n        const padding_left = dom.get_css_value(this.el, \"padding-left\", true);\n        const border_right = dom.get_css_value(this.el, \"border-right\", true);\n        const padding_right = dom.get_css_value(this.el, \"padding-right\", true);\n        const max_width =\n            width - border_left - padding_left - padding_right - border_right;\n        const max_x = bounds.x + max_width + border_left + padding_left;\n\n        const dimensions = {\n            x: x,\n            max_x: max_x,\n            width: width,\n            max_width: max_width,\n            border_left: border_left,\n            border_right: border_right,\n            padding_left: padding_left,\n            padding_right: padding_right,\n        };\n\n        logger.debug(\"dimensions:\");\n        logger.debug(dimensions);\n\n        return dimensions;\n    },\n\n    async _adjust_tabs() {\n        logger.debug(\"Entering _adjust_tabs\");\n        const children = [...this.el.children].filter(\n            (it) =>\n                dom.is_visible(it) && dom.get_css_value(it, \"position\") !== \"absolute\"\n        ); // remove elements, which do not count against available width.\n\n        const children_no_extra = children.filter(\n            (it) => !it.classList.contains(\"extra-tabs\")\n        );\n\n        if (children_no_extra.length === 0) {\n            // nothing to do.\n            logger.debug(\"no children, exit _adjust_tabs.\");\n            return;\n        }\n\n        // Check if tabs fit into one line by checking their start position not\n        // exceeding the available inner width or if they are not broken to a\n        // new line.\n        // This also takes whitespace between elements into account.\n        let last_x;\n        let tabs_fit = true;\n        // iterate over all children excluding absolutely positioned or invisible elements.\n        for (const it of children) {\n            const bounds = utils.get_bounds(it);\n            const it_x = bounds.x;\n            const it_w = bounds.width + dom.get_css_value(this.el, \"margin-right\", true);\n\n            logger.debug(\"Item:\");\n            logger.debug(it);\n            logger.debug(`\n                item dimensions: x: ${it_x},\n                width: ${it_w},\n                max x: ${it_x + it_w},\n                last_x: ${last_x}\n            `);\n\n            if (\n                (last_x && last_x - 3 > it_x) ||\n                it_x + it_w - 3 > this.dimensions.max_x\n                // -3 pixel to compensate for rounding errors (x, width, margin-right).\n            ) {\n                // this tab exceeds initial available width or\n                // breaks into a new line when width\n                tabs_fit = false;\n                break;\n            }\n\n            // Next position-left must be greater than last position-left plus element width.\n            last_x = it_x + it_w;\n        }\n        if (tabs_fit) {\n            // allright, nothing to do\n            logger.debug(\"tabs fit, exit _adjust_tabs.\");\n            return;\n        }\n\n        logger.debug(\"Breaks into new line.\");\n\n        let extra_tabs = this.el.querySelector(\".extra-tabs\");\n        if (!extra_tabs) {\n            logger.debug(\"Creating .extra-tabs element.\");\n            extra_tabs = document.createElement(\"span\");\n            extra_tabs.classList.add(\"extra-tabs\");\n            this.el.classList.add(\"closed\");\n            this.el.classList.add(\"tabs-wrapped\");\n\n            extra_tabs.addEventListener(\"click\", () => {\n                // Toggle opened/closed class on extra-tabs\n                if (this.el.classList.contains(\"open\")) {\n                    this.el.classList.remove(\"open\");\n                    this.el.classList.add(\"closed\");\n                } else {\n                    this.el.classList.remove(\"closed\");\n                    this.el.classList.add(\"open\");\n                }\n            });\n\n            this.el.append(extra_tabs);\n            await utils.animation_frame(); // Wait for CSS to be applied.\n            this.dimensions = this._get_dimensions(); // Update dimensions after CSS was applied\n        }\n\n        logger.debug(\"Prepend last tab to .extra_tabs.\");\n        // ... but exclude `.extra-tabs` if it is part of children.\n        extra_tabs.prepend(children_no_extra.pop());\n\n        await utils.animation_frame();\n        await this._adjust_tabs();\n    },\n});\n","/**\n * Patterns toggle - toggle class on click\n *\n * Copyright 2012-2014 Simplon B.V. - Wichert Akkerman\n */\nimport $ from \"jquery\";\nimport Base from \"../../core/base\";\nimport logging from \"../../core/logging\";\nimport Parser from \"../../core/parser\";\nimport store from \"../../core/store\";\nimport utils from \"../../core/utils\";\n\nconst log = logging.getLogger(\"pat.toggle\");\n\nexport const parser = new Parser(\"toggle\");\nparser.addArgument(\"selector\");\nparser.addArgument(\"event\");\nparser.addArgument(\"attr\", \"class\");\nparser.addArgument(\"value\");\nparser.addArgument(\"store\", \"none\", [\"none\", \"session\", \"local\"]);\n\nexport function ClassToggler(values) {\n    this.values = values.slice(0);\n    if (this.values.length > 1) this.values.push(values[0]);\n}\n\nClassToggler.prototype = {\n    toggle(el) {\n        const current = this.get(el);\n        const next = this.next(current);\n        this.set(el, next);\n        return next;\n    },\n\n    get(el) {\n        const classes = el.className.split(/\\s+/);\n        for (const value of this.values) {\n            if (classes.indexOf(value) !== -1) {\n                return value;\n            }\n        }\n        return null;\n    },\n\n    set(el, value) {\n        const values = this.values;\n        let classes = el.className.split(/\\s+/);\n        classes = classes.filter((it) => it && values.indexOf(it) === -1);\n        if (value) {\n            classes.push(value);\n        }\n        el.className = classes.join(\" \");\n        $(el).trigger(\"pat-update\", { pattern: \"toggle\" });\n    },\n\n    next(current) {\n        if (this.values.length === 1) {\n            return current ? null : this.values[0];\n        }\n        for (let i = 0; i < this.values.length - 1; i++) {\n            if (this.values[i] === current) {\n                return this.values[i + 1];\n            }\n        }\n        return this.values[0];\n    },\n};\n\nexport function AttributeToggler(attribute) {\n    this.attribute = attribute;\n}\n\nAttributeToggler.prototype = new ClassToggler([]);\nAttributeToggler.prototype.get = function (el) {\n    return !!el[this.attribute];\n};\n\nAttributeToggler.prototype.set = function (el, value) {\n    if (value) el[this.attribute] = value;\n    else el.removeAttribute(this.attribute);\n};\n\nAttributeToggler.prototype.next = function (value) {\n    return !value;\n};\n\nexport default Base.extend({\n    name: \"toggle\",\n    trigger: \".pat-toggle\",\n\n    init() {\n        const options = this._validateOptions(parser.parse(this.$el, true));\n        this.options = options;\n\n        if (!options.length) {\n            return;\n        }\n\n        let event_name;\n        for (const option of options) {\n            if (option.value_storage) {\n                const victims = $(option.selector);\n                if (!victims.length) {\n                    continue;\n                }\n                const state = option.toggler.get(victims[0]);\n                const last_state = option.value_storage.get();\n                if (state !== last_state && last_state !== null) {\n                    for (const victim of victims) {\n                        option.toggler.set(victim, last_state);\n                    }\n                }\n            }\n            if (option.event) {\n                event_name = option.event;\n            } else {\n                event_name = \"click\";\n            }\n        }\n\n        // Clicking a label of a checkbox would submit two click events - once\n        // for the label, the other for the checkbox.\n        // Using debounce, we prevent double-toggle which would result in\n        // toggling having no effect.\n        this.click_debouncer = utils.debounce(() => {\n            this._onClick();\n        }, 1);\n\n        this.$el\n            .off(\".toggle\")\n            .on(`${event_name || \"click\"}.toggle`, () => this.click_debouncer())\n            .on(\"keypress.toggle\", this._onKeyPress.bind(this));\n    },\n\n    _makeToggler(option) {\n        if (option.attr === \"class\") {\n            let values = option.value.split(/\\s+/);\n            values = values.filter((v) => v.length);\n            return new ClassToggler(values);\n        } else {\n            return new AttributeToggler(option.attr);\n        }\n    },\n\n    _validateOptions(options) {\n        const correct = [];\n\n        if (!options.length) {\n            return correct;\n        }\n\n        for (const [idx, option] of options.entries()) {\n            if (!option.selector) {\n                log.error(\"Toggle pattern requires a selector.\");\n                continue;\n            }\n            if (option.attr !== \"class\" && option.value) {\n                log.warn(\"Values are not supported attributes other than class.\");\n                continue;\n            }\n            if (option.attr === \"class\" && !option.value) {\n                log.error(\"Toggle pattern needs values for class attributes.\");\n                continue;\n            }\n            if (idx && option.store !== \"none\") {\n                log.warn(\"store option can only be set on first argument\");\n                option.store = \"none\";\n            }\n            if (option.store !== \"none\") {\n                if (!this.el.id) {\n                    log.warn(\"state persistance requested, but element has no id\");\n                    option.store = \"none\";\n                } else if (!store.supported) {\n                    log.warn(\n                        \"state persistance requested, but browser does not support webstorage\"\n                    );\n                    option.store = \"none\";\n                } else {\n                    const storage = (\n                        option.store === \"local\" ? store.local : store.session\n                    )(this.name);\n                    option.value_storage = new store.ValueStorage(\n                        storage,\n                        `${this.el.id}-${idx}`\n                    );\n                }\n            }\n            option.toggler = this._makeToggler(option);\n            correct.push(option);\n        }\n        return correct;\n    },\n\n    _onClick() {\n        let updated = false;\n\n        for (const option of this.options) {\n            const victims = $(option.selector);\n            if (!victims.length) {\n                continue;\n            }\n            const toggler = option.toggler;\n            const next_state = toggler.toggle(victims[0]);\n            for (let j = 1; j < victims.length; j++) {\n                toggler.set(victims[j], next_state);\n            }\n            if (option.value_storage) {\n                option.value_storage.set(next_state);\n            }\n            updated = true;\n        }\n        if (updated) {\n            // XXX: Is this necessary? pat-update gets called on changed\n            // element above.\n            this.$el.trigger(\"pat-update\", { pattern: \"toggle\" });\n        }\n    },\n\n    _onKeyPress(event) {\n        const keycode = event.keyCode ? event.keyCode : event.which;\n        if (keycode === \"13\") {\n            this.$el.trigger(\"click\");\n        }\n    },\n});\n","// Patterns validate - Form vlidation\nimport \"../../core/polyfills\"; // SubmitEvent.submitter for Safari < 15.4 and jsDOM\nimport $ from \"jquery\";\nimport Base from \"../../core/base\";\nimport Parser from \"../../core/parser\";\nimport dom from \"../../core/dom\";\nimport events from \"../../core/events\";\nimport logging from \"../../core/logging\";\nimport utils from \"../../core/utils\";\n\nconst log = logging.getLogger(\"pat-validation\");\n//log.setLevel(logging.Level.DEBUG);\n\nexport const parser = new Parser(\"validation\");\nparser.addArgument(\"disable-selector\", null); // Elements which must be disabled if there are errors\nparser.addArgument(\"message-date\", \"\"); // \"This value must be a valid date\");\nparser.addArgument(\"message-datetime\", \"\"); // \"This value must be a valid date and time\");\nparser.addArgument(\"message-email\", \"\"); // \"This value must be a valid email address\");\nparser.addArgument(\"message-max\", \"\"); // \"This value must be less than or equal to %{count}\");\nparser.addArgument(\"message-min\", \"\"); // \"This value must be greater than or equal to %{count}\"); // prettier-ignore\nparser.addArgument(\"message-number\", \"\"); // \"This value must be a number\");\nparser.addArgument(\"message-required\", \"\"); // \"This field is required\");\nparser.addArgument(\"message-equality\", \"is not equal to %{attribute}.\");\nparser.addArgument(\"not-after\", null);\nparser.addArgument(\"not-before\", null);\nparser.addArgument(\"equality\", null);\nparser.addArgument(\"delay\", 100); // Delay before validation is done to avoid validating while typing.\n\n// Template for the validation message\nparser.addArgument(\n    \"error-template\",\n    '<em class=\"validation warning message\">${this.message}</em>'\n);\n\n// BBB\n// TODO: deprecated. Will be removed with next major version.\nparser.addAlias(\"message-integer\", \"message-number\");\n\nconst KEY_ERROR_EL = \"__patternslib__input__error__el\";\nconst KEY_ERROR_MSG = \"__patternslib__input__error__msg\";\n\nexport default Base.extend({\n    name: \"validation\",\n    trigger: \"form.pat-validation\",\n\n    init() {\n        this.options = parser.parse(this.el, this.options);\n        this.inputs = this.el.querySelectorAll(\n            \"input[name], select[name], textarea[name]\"\n        );\n\n        // Set ``novalidate`` attribute to disable the browser's validation\n        // bubbles but not disable the validation API.\n        this.el.setAttribute(\"novalidate\", \"\");\n\n        for (const [cnt, input] of this.inputs.entries()) {\n            // Cancelable debouncer.\n            const debouncer = utils.debounce((e) => {\n                this.check_input({ input: input, event: e });\n            }, this.options.delay);\n\n            events.add_event_listener(\n                input,\n                \"input\",\n                `pat-validation--input-${input.name}--${cnt}--validator`,\n                (e) => debouncer(e)\n            );\n            events.add_event_listener(\n                input,\n                \"change\",\n                `pat-validation--change-${input.name}--${cnt}--validator`,\n                (e) => debouncer(e)\n            );\n            events.add_event_listener(\n                input,\n                \"blur\",\n                `pat-validation--blur-${input.name}--${cnt}--validator`,\n                (e) => debouncer(e)\n            );\n            events.add_event_listener(\n                this.el,\n                \"submit\",\n                `pat-validation--blur-${input.name}--${cnt}--validator`,\n                (e) => this.check_input({ input: input, event: e }) // immediate check with submit. Otherwise submit is not cancelable.\n            );\n        }\n    },\n\n    check_input({ input, event, stop = false }) {\n        if (input.disabled) {\n            // No need to check disabled inputs.\n            return;\n        }\n\n        // In any case, clear the custom validity first.\n        this.set_validity({ input: input, msg: \"\" });\n        const validity_state = input.validity;\n\n        if (event?.submitter?.hasAttribute(\"formnovalidate\")) {\n            // Do not submit when a button with ``formnovalidate`` was used.\n            return;\n        }\n\n        log.debug(`\n            validity_state.badInput ${validity_state.badInput}\n            validity_state.customError ${validity_state.customError}\n            validity_state.patternMismatch ${validity_state.patternMismatch}\n            validity_state.rangeOverflow ${validity_state.rangeOverflow}\n            validity_state.rangeUnderflow ${validity_state.rangeUnderflow}\n            validity_state.stepMismatch ${validity_state.stepMismatch}\n            validity_state.tooLong ${validity_state.tooLong}\n            validity_state.tooShort ${validity_state.tooShort}\n            validity_state.typeMismatch ${validity_state.typeMismatch}\n            validity_state.valid ${validity_state.valid}\n            validity_state.valueMissing ${validity_state.valueMissing}\n        `);\n\n        const input_options = parser.parse(input);\n\n        if (validity_state.valid) {\n            // Custom error cases or no invalid state.\n\n            if (\n                input_options.equality &&\n                this.el.querySelector(`[name=${input_options.equality}]`)?.value !==\n                    input.value\n            ) {\n                const message =\n                    input_options.message.equality ||\n                    `The value is not equal to %{attribute}`;\n                this.set_validity({\n                    input: input,\n                    msg: message,\n                    attribute: input_options.equality,\n                });\n            } else if (input_options.not.after || input_options.not.before) {\n                const msg = input_options.message.date || input_options.message.datetime;\n\n                let not_after;\n                let not_after_el;\n                if (input_options.not.after) {\n                    if (utils.is_iso_date_time(input_options.not.after, true)) {\n                        not_after = new Date(input_options.not.after);\n                    } else {\n                        // Handle value as selector\n                        not_after_el = document.querySelector(input_options.not.after);\n                        not_after = not_after_el?.value\n                            ? new Date(not_after_el?.value)\n                            : undefined;\n                    }\n\n                    // Use null if no valid date.\n                    not_after = isNaN(not_after) ? null : not_after;\n                }\n\n                let not_before;\n                let not_before_el;\n                if (input_options.not.before) {\n                    if (utils.is_iso_date_time(input_options.not.before, true)) {\n                        not_before = new Date(input_options.not.before);\n                    } else {\n                        // Handle value as selector\n                        not_before_el = document.querySelector(input_options.not.before);\n                        not_before = not_before_el?.value\n                            ? new Date(not_before_el?.value)\n                            : undefined;\n                    }\n\n                    // Use null if no valid date.\n                    not_before = isNaN(not_before) ? null : not_before;\n                }\n\n                if (\n                    input.value &&\n                    utils.is_iso_date_time(input.value, true) &&\n                    !isNaN(new Date(input.value))\n                ) {\n                    // That's 1 valid date!\n                    const date = new Date(input.value);\n\n                    if (not_after && date > not_after) {\n                        this.set_validity({ input: input, msg: msg });\n                    } else if (not_before && date < not_before) {\n                        this.set_validity({ input: input, msg: msg });\n                    }\n                }\n\n                // always check the other input to clear/set errors\n                !stop && // do not re-check when stop is set to avoid infinite loops\n                    not_after_el &&\n                    this.check_input({ input: not_after_el, stop: true });\n                !stop &&\n                    not_before_el &&\n                    this.check_input({ input: not_before_el, stop: true });\n            }\n\n            if (!validity_state.customError) {\n                // No error to handle. Return.\n                this.remove_error(input, true);\n                return;\n            }\n        } else {\n            // Default error cases with custom messages.\n\n            if (validity_state.valueMissing && input_options.message.required) {\n                this.set_validity({ input: input, msg: input_options.message.required });\n            } else if (validity_state.rangeUnderflow && input_options.message.min) {\n                this.set_validity({\n                    input: input,\n                    msg: input_options.message.min,\n                    min: input.getAttribute(\"min\"),\n                });\n            } else if (validity_state.rangeOverflow && input_options.message.max) {\n                this.set_validity({\n                    input: input,\n                    msg: input_options.message.max,\n                    max: input.getAttribute(\"max\"),\n                });\n            } else if (\n                (validity_state.badInput || validity_state.stepMismatch) &&\n                input.type === \"number\" &&\n                input_options.message.number\n            ) {\n                this.set_validity({ input: input, msg: input_options.message.number });\n            } else if (\n                validity_state.typeMismatch &&\n                input.type === \"email\" &&\n                input_options.message.email\n            ) {\n                this.set_validity({ input: input, msg: input_options.message.email });\n            } else if (\n                validity_state.rangeUnderflow &&\n                input.type === \"date\" &&\n                input_options.message.date\n            ) {\n                this.set_validity({ input: input, msg: input_options.message.date });\n            } else if (\n                validity_state.rangeOverflow &&\n                input.type === \"date\" &&\n                input_options.message.date\n            ) {\n                this.set_validity({ input: input, msg: input_options.message.date });\n            } else if (\n                validity_state.rangeUnderflow &&\n                input.type === \"datetime\" &&\n                input_options.message.datetime\n            ) {\n                this.set_validity({ input: input, msg: input_options.message.datetime });\n            } else if (\n                validity_state.rangeOverflow &&\n                input.type === \"datetime\" &&\n                input_options.message.datetime\n            ) {\n                this.set_validity({ input: input, msg: input_options.message.datetime });\n            }\n        }\n\n        if (event?.type === \"submit\") {\n            // Do not submit in error case.\n            event.preventDefault();\n        }\n        this.set_error_message(input, input_options);\n    },\n\n    set_validity({ input, msg, attribute = null, min = null, max = null }) {\n        // Replace some variables, as like validate.js\n        if (attribute) {\n            msg = msg.replace(/%{attribute}/g, attribute);\n        }\n        if (min) {\n            msg = msg.replace(/%{count}/g, min);\n        }\n        if (max) {\n            msg = msg.replace(/%{count}/g, max);\n        }\n        msg = msg.replace(/%{value}/g, JSON.stringify(input.value));\n\n        input.setCustomValidity(msg);\n        // Store the error message on the input.\n        // Hidden inputs do not participate in validation but we need this\n        // (e.g. styled date input).\n        input[KEY_ERROR_MSG] = msg;\n    },\n\n    remove_error(input, all_of_group = false) {\n        // Remove error message and related referencesfrom input.\n\n        let inputs = [input];\n        if (all_of_group) {\n            // Get all inputs with the same name - e.g. radio buttons, checkboxes.\n            inputs = [...this.inputs].filter((it) => it.name === input.name);\n        }\n        for (const it of inputs) {\n            const error_node = it[KEY_ERROR_EL];\n            it[KEY_ERROR_EL] = null;\n            error_node?.remove();\n        }\n\n        // disable selector\n        if (this.options.disableSelector && this.el.checkValidity()) {\n            const disabled = document.querySelectorAll(this.options.disableSelector);\n            for (const it of disabled) {\n                it.removeAttribute(\"disabled\");\n                it.classList.remove(\"disabled\");\n            }\n        }\n    },\n\n    set_error_message(input, options) {\n        this.remove_error(input);\n\n        // Do not set a error message for a input group like radio buttons or\n        // checkboxes where one has already been set.\n        const inputs = [...this.inputs].filter((it) => it.name === input.name);\n        if (inputs.length > 1 && inputs.some((it) => !!it[KEY_ERROR_EL])) {\n            // error message for input group already set.\n            return;\n        }\n\n        // Create the validation error DOM node from the template\n        const validation_message = input.validationMessage || input[KEY_ERROR_MSG];\n        const error_template = dom.template(options.errorTemplate, {\n            message: validation_message,\n        });\n        const error_node = dom.create_from_string(error_template).firstChild;\n\n        let fieldset;\n        if (input.type === \"radio\" || input.type === \"checkbox\") {\n            fieldset = input.closest(\"fieldset.pat-checklist\");\n        }\n        if (fieldset) {\n            fieldset.append(error_node);\n        } else {\n            input.after(error_node);\n        }\n        input[KEY_ERROR_EL] = error_node;\n\n        if (options.disableSelector) {\n            const disabled = document.querySelectorAll(options.disableSelector);\n            for (const it of disabled) {\n                it.setAttribute(\"disabled\", \"\");\n                it.classList.add(\"disabled\");\n            }\n        }\n        $(input).trigger(\"pat-update\", { pattern: \"validation\" });\n    },\n});\n","import $ from \"jquery\";\nimport registry from \"../../core/registry\";\nimport Parser from \"../../core/parser\";\n\nexport const parser = new Parser(\"zoom\");\nparser.addArgument(\"min\", 0);\nparser.addArgument(\"max\", 2);\n\nvar zoom = {\n    name: \"zoom\",\n    trigger: \".pat-zoom\",\n\n    init: function ($el, opts) {\n        return $el.each(function () {\n            var $block = $(this),\n                options = parser.parse($block, opts);\n\n            let $slider = $(\"<input/>\", {\n                type: \"range\",\n                step: \"any\",\n                value: 1,\n                min: options.min,\n                max: options.max,\n            });\n\n            $slider.insertBefore($block).on(\"change input\", null, $block, zoom.onZoom);\n        });\n    },\n\n    onZoom: function (event) {\n        var $block = event.data;\n        $block.css(\"zoom\", this.value);\n    },\n};\n\nregistry.register(zoom);\nexport default zoom;\n"],"names":["last_btn","submitable_buttons","document","addEventListener","e","target","closest","canditates","activeElement","candidate","form","matches","submitter","querySelector","logger","logging","push_kit","init","url","content","exchange","topicfilter","user_login","user_pass","StompJS","client","Client","brokerURL","connectHeaders","login","passcode","debug","str","reconnectDelay","heartbeatIncoming","heartbeatOutgoing","onConnect","subscribe","on_push_marker","bind","onStompError","frame","error","headers","body","activate","message","dispatchEvent","CustomEvent","detail","log","Storage","backend","prefix","this","ValueStorage","store","name","prototype","_key","_allKeys","key","i","keys","prefix_length","length","slice","push","get","value","getItem","JSON","parse","warn","set","setItem","stringify","remove","removeItem","clear","all","data","supported","local","window","localStorage","session","sessionStorage","updateOptions","trigger","options","id","jQuery","jquery","$","namespace","_","setup","$el","pat","patterns","setupInputHandlers","on","event","indexOf","is","registerHandlersForElement","findInclusive","each","isNumber","isText","attr","ev","originalEvent","propertyName","filter","removeData","find","off","parser","Parser","addArgument","Base","force_method","opts","method","_setup","scale","utils","scaler","available_space","scaled_height","scaled_width","container","tagName","parent","style","getComputedStyle","width","parseInt","height","Math","min","max","size","outerWidth","outerHeight","css","undefined","split","wrap","addClass","el","delay","replace","input_change_events","registerListeners","registerTriggers","onInputChange","registerSubformListeners","refreshListeners","not","idx","cfg","injected","trigger_event","destroy","addBack","stopPropagation","submit","type","val","addAlias","__patternslib_import_styles","config","tokenSeparators","openOnEnter","maximumSelectionSize","maxSelectionSize","minimumInputLength","allowClear","hasAttribute","placeholder","selectionClasses","formatSelection","obj","text","SyntaxError","join","create_input_config","select2","dom","pattern","enabled","events","words","createSearchChoice","term","allowNewWords","localeCompare","wordsJson","Array","isArray","map","v","k","tags","prefill","initSelection","element","callback","prefillJson","ids","d","_data","ajax","dataType","quietMillis","page","index","q","page_limit","results","scheduled_task","self","top","set_focus","clearTimeout","setTimeout","focus","$content","children","wrapAll","$ctrl","prependTo","shifted","shifting","difference","shifter","toggle","margin","animate","toggleClass","maybeshift","innerWidth","removeClass","click","recalculate","toArray","reduce","acc","registry","target_element","selector","_init","scroll_container_y","parentElement","scroll_container_x","pos","intersection_observer_config","threshold","rootMargin","IntersectionObserver","_intersection_observer_callback","root","observe","entries","entry","intersectionRatio","bump","add","classList","rootBounds","bounds","boundingClientRect","left","right","bottom","unbump","classMap","month","agendaWeek","agendaDay","viewMap","week","day","list","basicWeek","basicDay","dayNames","active_categories","Calendar","fcDayGrid","default","fcInteraction","fcList","fcLuxon","fcTimeGrid","calendar_controls","calendarControls","el_jump_next","el_jump_prev","el_jump_today","el_view_month","el_view_week","el_view_day","el_view_list_year","el_view_list_month","el_view_list_week","el_view_list_day","el_timezone","el_title","storage_prefix","location","pathname","storage","query_string","URLSearchParams","search","headerToolbar","initialDate","initial","date","initialView","view","editable","plugins","eventColor","lang","substr","toLowerCase","locale","first","firstDay","timezone","timeZone","timeFormat","eventTimeFormat","hour12","meridiem","hour","sources","includes","eventSources","src","create_event_source","_restoreCategoryControls","_registerCategoryControls","reset_active_categories","eventDidMount","args","init_event","cal_el","createElement","setAttribute","appendChild","addUrl","dateClick","addNewEvent","mod_el","calendar","render","_viewChanged","innerHTML","title","_registerCalendarControls","setActiveClasses","info","success","failure","_fetch_events","className","event_mapper","ret","UID","start","Date","end","allDay","whole_day","backgroundColor","color","borderColor","classNames","class","description","open_end","recurrence","attendees","contact_name","contact_phone","contact_email","event_url","prop","update_event","setDates","setAllDay","setProp","setExtendedProp","startStr","endStr","response","fetch","mode","json","result","results_","items","concat","batching","next","filter_event","do_scan","source","switch_sel","switch_add","switch_rm","show","it","ctrls","get_category_controls","checked","categoryControls","querySelectorAll","inp","Set","timer","getEvents","ctrl","hidden","Event","bubbles","cancelable","preventDefault","prev","today","changeView","setOption","cdate","currentData","currentDate","getYear","getMonth","getDate","currentStart","toISOString","query","history","replaceState","toString","getTime","addEvent","Modal","form_data","FormData","action","ImagesLoaded","settings","autoplay","auto","play","autoplaySpeed","speed","adaptiveHeight","arrows","slidesToShow","slides","slidesToScroll","dots","infinite","appendDots","$carousel","slick","$panel_links","$links","control","currentPage","onPanelLinkClick","onSlideComplete","_loadPanelImages","slider","$img","$items","eq","img","removeAttr","gotoPage","onInitialized","startPanel","pages","onSlideInit","targetPage","$targetPage","jquery_plugin","all_selects","all_deselects","all_checkboxes","all_radios","select","select_all","deselect","deselect_all","_handler_change","change_buttons","change_checked","removeEventListener","find_siblings","sel","res","parentNode","find_checkboxes","ref_el","chkbxs","btn","disabled","every","box","labels","label","fieldset","template","lastIndexOf","bind_trigger","clones","cloneElement","num_clones","clone","bind_remove","alert","$clone","nodeName","safeClone","appendTo","contents","incrementValues","clone_triggers","el_","nodeType","attributes","triggers","node","triggerElement","behaviour","confirm","confirmation","debounce_scroll_timer","transitions","closed","open","state","$trigger","$panel","insertAfter","hasClass","hide","loadContent","_loadContent","_onClick","_onKeyPress","closeTrigger","close","openTrigger","debounce_scroll","_scroll","keyCode","which","$target","components","inject","new_state","_transit","scroll_selector","scroll","pat_scroll","offset","smoothScroll","from_cls","to_cls","duration","transition","effect","t","easing","promise","spectrum","preferredFormat","add_argument","format","after","befores","b_date","a_date","offsetDays","setDate","substring","dispatch_change_event","behavior","display_el","insertAdjacentElement","outputFormat","PatDisplayTime","display_time_config","display_el_pat","textContent","add_clear_button","getAttribute","Pikaday","field","showWeekNumber","weekNumbers","onSelect","minDate","maxDate","i18n","console","pikaday","el_append_to","required","clear_button","firedBy","el_date","el_time","DatePicker","date_value","time_value","el_wrapper","html_btn_now","html_btn_clear","update","isotime","date_options","isodate","insertBefore","toTimeString","DependsHandler","dependent","$modal","parents","handler","condition","evaluate","updateModal","enable","disable","getAllInputs","input","$form","dependents","onReset","onChange","$depdendent","Moment","datetime","out","strict","fromNow","noSuffix","equaliser","$container","_onEvent","_update","MutationObserver","childList","subtree","characterData","$children","max_height","$child","new_css","append","$folders","prepend","$folder","patExpandable","onNewContent","_doFocus","transform","$root","ix","$relatives","onFocus","_updateHasValue","inputs","onBlur","one","setReset","call","serializeArray","saveState","setModified","setError","setSaved","msg","jqxhr","status","statusText","modal","time","timestr","getHours","getMinutes","getSeconds","skip","on_click","targets","Screenfull","exit","fullscreen_handler","fs_el_sel","fs_el","request","closeButton","setup_exit_button","exit_el","createTextNode","isFullscreen","removeChild","PhotoSwipe","PhotoSwipeUI","orig_body_overflow","images","get_template","initialize_trigger","raw_template","image_wrapper_els","itemSelector","initialize_gallery","w","h","trigger_el","currentTarget","removeAttribute","pswp_el","scaleMode","scaleMethod","loop","slideshowDelay","hideAnimationDuration","effectDuration","showAnimationDuration","pinchToClose","closeOnScroll","gallery","gallery_reinit_sizes_debouncer","updateSize","listen","item","Image","onload","_e","img_el","needsUpdate","overflow","inputNames","$this","preview","previewWidth","formId","inputPrefix","_setupInput","ic","_parseOpt","initialSel","initialCoords","aspectRatio","minSize","maxSize","c","Jcrop","onRelease","setSelect","api","tellSelect","trim","updatePreview","updateInputs","rx","ry","getBounds","round","marginLeft","x","marginTop","y","x1","y1","x2","y2","legend","_convertToIframes","$object","$iframe","replaceWith","html","Masonry","initMasonry","imgLoad","msnry","quicklayout","layout","observer","attributeOldValue","attributeFilter","containerStyle","position","columnWidth","getTypeCastedValue","fitWidth","gutter","horizontalOrder","initLayout","originLeft","originTop","percentPosition","resize","stamp","transitionDuration","child","patMasonry","original","Number","isNaN","navItemSelector","$it","mouseOverHandler","mouseOutHandler","openMenu","siblings","closeMenu","_init_div1","_init_inject1","detach","header","closing","closeText","panelHeaderContent","before","_init_handlers","setPosition","_close_handler","_onKeyUp","_onPossibleOutsideClick","has","destroy_inject","getTallestChild","$tallest_child","innerHeight","panel_content_elem","header_elem","modal_height","contains","current","currentClass","_updatenavpath","itemWrapper","_initialSet","ael","cnt","path","$a","$li","_pathfromurl","_match","in_path","inPathClass","curpath","count","_init_inject","_init_notification","closetext","wrapper","onMouseEnter","onMouseLeave","controls","onClick","healing","opacity","init_remove_timer","$temp","panel","stop","step","complete","slideUp","rfp_key","Notification","permission","desktop_notification__request_permission","pushId","desktop_notification","perform_inject","insertAdjacentHTML","requestPermission","notification","scroll_listener","last_known_scroll_position","timeout_id__scroll_stop","overflowY","ticking","requestAnimationFrame","set_scroll_classes","clear_scrolling_classes","timeoutStop","scroll_pos","get_scroll_y","to_add","scrollHeight","clientHeight","scrollY","pageYOffset","scrollTop","onPatternsUpdate","markBasedOnFragment","clearIfHidden","markIfVisible","pushState","fragment","hash","active_target","$active_target","href","pop","_get_selector_target","direction","scrollable","scrollLeft","scrollWidth","floor","safeOffset","KEY_RESET","form_reset","change_select","UrlArgumentParser","_cache","_reset","space_pattern","keyvalue_pattern","_decodeQS","bit","decodeURIComponent","_parse","qs","exec","params","parts","parameters","url_parser","real_cleanData","elems","triggerHandler","arguments","requested_ids","_collapse_ids","_remove_slides","presentation","Presentation","_onSlideDisplay","_onSlideHide","_hook","slide","paused","currentTime","pause","forEach","param","$shows","has_bad_id","scan","recordPositions","addHandles","initScrolling","onPatternUpdate","onDragStart","onDragEnd","$sortables","$sortables_without_handles","$handles","scrollup","scrolldn","zIndex","newpos","$dragged","dragClass","change","submitChangedAmount","drop","$amount_input","old_position","new_position","abs","that","dataTransfer","setData","effectAllowed","setDragImage","clientY","$dropTarget","midlineY","_setupStack","$invisible","selected","_currentFragment","$sheets","$visible","_updateAnchors","_base_URL","URL","base_url","href_parts","_switch","sheet","$anchors","sheet_id","$sheet","keyboard_handler","submitClicked","scopedSubmit","$exclude","names","$button","$subform","$sub","formaction","previousValue","_validateOptions","_go","option","_storage","execute","correct","logged_error","Prettify","prettyPrint","allowed_update_patterns","debounced_resize","adjust_tabs","previous_parent_width","resize_observer","ResizeObserver","contentRect","_flatten_tabs","dimensions","_get_dimensions","_adjust_tabs","extra_wrapper","border_left","padding_left","border_right","padding_right","max_width","max_x","children_no_extra","tabs_fit","it_x","it_w","last_x","extra_tabs","ClassToggler","values","AttributeToggler","attribute","classes","event_name","value_storage","victims","toggler","last_state","victim","click_debouncer","_makeToggler","updated","next_state","j","KEY_ERROR_EL","KEY_ERROR_MSG","debouncer","check_input","set_validity","validity_state","validity","badInput","customError","patternMismatch","rangeOverflow","rangeUnderflow","stepMismatch","tooLong","tooShort","typeMismatch","valid","valueMissing","input_options","equality","not_after","not_after_el","not_before","not_before_el","remove_error","number","email","set_error_message","setCustomValidity","all_of_group","error_node","disableSelector","checkValidity","some","validation_message","validationMessage","error_template","errorTemplate","firstChild","zoom","$block","onZoom"],"sourceRoot":""}